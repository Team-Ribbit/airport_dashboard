(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(r){if(r.ep)return;r.ep=!0;const u=n(r);fetch(r.href,u)}})();var tf={exports:{}},sr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function rv(){if(py)return sr;py=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,r,u){var c=null;if(u!==void 0&&(c=""+u),r.key!==void 0&&(c=""+r.key),"key"in r){u={};for(var f in r)f!=="key"&&(u[f]=r[f])}else u=r;return r=u.ref,{$$typeof:a,type:s,key:c,ref:r!==void 0?r:null,props:u}}return sr.Fragment=t,sr.jsx=n,sr.jsxs=n,sr}var Ey;function ov(){return Ey||(Ey=1,tf.exports=rv()),tf.exports}var St=ov(),ef={exports:{}},mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function uv(){if(vy)return mt;vy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function E(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function C(T,F,G){this.props=T,this.context=F,this.refs=b,this.updater=G||S}C.prototype.isReactComponent={},C.prototype.setState=function(T,F){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,F,"setState")},C.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function M(){}M.prototype=C.prototype;function I(T,F,G){this.props=T,this.context=F,this.refs=b,this.updater=G||S}var X=I.prototype=new M;X.constructor=I,x(X,C.prototype),X.isPureReactComponent=!0;var D=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function q(T,F,G,Q,nt,ut){return G=ut.ref,{$$typeof:a,type:T,key:F,ref:G!==void 0?G:null,props:ut}}function K(T,F){return q(T.type,F,void 0,void 0,void 0,T.props)}function W(T){return typeof T=="object"&&T!==null&&T.$$typeof===a}function J(T){var F={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(G){return F[G]})}var lt=/\/+/g;function $(T,F){return typeof T=="object"&&T!==null&&T.key!=null?J(""+T.key):F.toString(36)}function tt(){}function st(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(tt,tt):(T.status="pending",T.then(function(F){T.status==="pending"&&(T.status="fulfilled",T.value=F)},function(F){T.status==="pending"&&(T.status="rejected",T.reason=F)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ot(T,F,G,Q,nt){var ut=typeof T;(ut==="undefined"||ut==="boolean")&&(T=null);var at=!1;if(T===null)at=!0;else switch(ut){case"bigint":case"string":case"number":at=!0;break;case"object":switch(T.$$typeof){case a:case t:at=!0;break;case m:return at=T._init,ot(at(T._payload),F,G,Q,nt)}}if(at)return nt=nt(T),at=Q===""?"."+$(T,0):Q,D(nt)?(G="",at!=null&&(G=at.replace(lt,"$&/")+"/"),ot(nt,F,G,"",function(se){return se})):nt!=null&&(W(nt)&&(nt=K(nt,G+(nt.key==null||T&&T.key===nt.key?"":(""+nt.key).replace(lt,"$&/")+"/")+at)),F.push(nt)),1;at=0;var zt=Q===""?".":Q+":";if(D(T))for(var bt=0;bt<T.length;bt++)Q=T[bt],ut=zt+$(Q,bt),at+=ot(Q,F,G,ut,nt);else if(bt=E(T),typeof bt=="function")for(T=bt.call(T),bt=0;!(Q=T.next()).done;)Q=Q.value,ut=zt+$(Q,bt++),at+=ot(Q,F,G,ut,nt);else if(ut==="object"){if(typeof T.then=="function")return ot(st(T),F,G,Q,nt);throw F=String(T),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return at}function L(T,F,G){if(T==null)return T;var Q=[],nt=0;return ot(T,Q,"","",function(ut){return F.call(G,ut,nt++)}),Q}function k(T){if(T._status===-1){var F=T._result;F=F(),F.then(function(G){(T._status===0||T._status===-1)&&(T._status=1,T._result=G)},function(G){(T._status===0||T._status===-1)&&(T._status=2,T._result=G)}),T._status===-1&&(T._status=0,T._result=F)}if(T._status===1)return T._result.default;throw T._result}var V=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function et(){}return mt.Children={map:L,forEach:function(T,F,G){L(T,function(){F.apply(this,arguments)},G)},count:function(T){var F=0;return L(T,function(){F++}),F},toArray:function(T){return L(T,function(F){return F})||[]},only:function(T){if(!W(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},mt.Component=C,mt.Fragment=n,mt.Profiler=r,mt.PureComponent=I,mt.StrictMode=s,mt.Suspense=d,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,mt.__COMPILER_RUNTIME={__proto__:null,c:function(T){return w.H.useMemoCache(T)}},mt.cache=function(T){return function(){return T.apply(null,arguments)}},mt.cloneElement=function(T,F,G){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Q=x({},T.props),nt=T.key,ut=void 0;if(F!=null)for(at in F.ref!==void 0&&(ut=void 0),F.key!==void 0&&(nt=""+F.key),F)!j.call(F,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&F.ref===void 0||(Q[at]=F[at]);var at=arguments.length-2;if(at===1)Q.children=G;else if(1<at){for(var zt=Array(at),bt=0;bt<at;bt++)zt[bt]=arguments[bt+2];Q.children=zt}return q(T.type,nt,void 0,void 0,ut,Q)},mt.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},mt.createElement=function(T,F,G){var Q,nt={},ut=null;if(F!=null)for(Q in F.key!==void 0&&(ut=""+F.key),F)j.call(F,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(nt[Q]=F[Q]);var at=arguments.length-2;if(at===1)nt.children=G;else if(1<at){for(var zt=Array(at),bt=0;bt<at;bt++)zt[bt]=arguments[bt+2];nt.children=zt}if(T&&T.defaultProps)for(Q in at=T.defaultProps,at)nt[Q]===void 0&&(nt[Q]=at[Q]);return q(T,ut,void 0,void 0,null,nt)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(T){return{$$typeof:f,render:T}},mt.isValidElement=W,mt.lazy=function(T){return{$$typeof:m,_payload:{_status:-1,_result:T},_init:k}},mt.memo=function(T,F){return{$$typeof:_,type:T,compare:F===void 0?null:F}},mt.startTransition=function(T){var F=w.T,G={};w.T=G;try{var Q=T(),nt=w.S;nt!==null&&nt(G,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(et,V)}catch(ut){V(ut)}finally{w.T=F}},mt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},mt.use=function(T){return w.H.use(T)},mt.useActionState=function(T,F,G){return w.H.useActionState(T,F,G)},mt.useCallback=function(T,F){return w.H.useCallback(T,F)},mt.useContext=function(T){return w.H.useContext(T)},mt.useDebugValue=function(){},mt.useDeferredValue=function(T,F){return w.H.useDeferredValue(T,F)},mt.useEffect=function(T,F,G){var Q=w.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(T,F)},mt.useId=function(){return w.H.useId()},mt.useImperativeHandle=function(T,F,G){return w.H.useImperativeHandle(T,F,G)},mt.useInsertionEffect=function(T,F){return w.H.useInsertionEffect(T,F)},mt.useLayoutEffect=function(T,F){return w.H.useLayoutEffect(T,F)},mt.useMemo=function(T,F){return w.H.useMemo(T,F)},mt.useOptimistic=function(T,F){return w.H.useOptimistic(T,F)},mt.useReducer=function(T,F,G){return w.H.useReducer(T,F,G)},mt.useRef=function(T){return w.H.useRef(T)},mt.useState=function(T){return w.H.useState(T)},mt.useSyncExternalStore=function(T,F,G){return w.H.useSyncExternalStore(T,F,G)},mt.useTransition=function(){return w.H.useTransition()},mt.version="19.1.0",mt}var Sy;function Vf(){return Sy||(Sy=1,ef.exports=uv()),ef.exports}var di=Vf(),nf={exports:{}},lr={},sf={exports:{}},lf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function cv(){return xy||(xy=1,function(a){function t(L,k){var V=L.length;L.push(k);t:for(;0<V;){var et=V-1>>>1,T=L[et];if(0<r(T,k))L[et]=k,L[V]=T,V=et;else break t}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var k=L[0],V=L.pop();if(V!==k){L[0]=V;t:for(var et=0,T=L.length,F=T>>>1;et<F;){var G=2*(et+1)-1,Q=L[G],nt=G+1,ut=L[nt];if(0>r(Q,V))nt<T&&0>r(ut,Q)?(L[et]=ut,L[nt]=V,et=nt):(L[et]=Q,L[G]=V,et=G);else if(nt<T&&0>r(ut,V))L[et]=ut,L[nt]=V,et=nt;else break t}}return k}function r(L,k){var V=L.sortIndex-k.sortIndex;return V!==0?V:L.id-k.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();a.unstable_now=function(){return c.now()-f}}var d=[],_=[],m=1,y=null,E=3,S=!1,x=!1,b=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function D(L){for(var k=n(_);k!==null;){if(k.callback===null)s(_);else if(k.startTime<=L)s(_),k.sortIndex=k.expirationTime,t(d,k);else break;k=n(_)}}function w(L){if(b=!1,D(L),!x)if(n(d)!==null)x=!0,j||(j=!0,$());else{var k=n(_);k!==null&&ot(w,k.startTime-L)}}var j=!1,q=-1,K=5,W=-1;function J(){return C?!0:!(a.unstable_now()-W<K)}function lt(){if(C=!1,j){var L=a.unstable_now();W=L;var k=!0;try{t:{x=!1,b&&(b=!1,I(q),q=-1),S=!0;var V=E;try{e:{for(D(L),y=n(d);y!==null&&!(y.expirationTime>L&&J());){var et=y.callback;if(typeof et=="function"){y.callback=null,E=y.priorityLevel;var T=et(y.expirationTime<=L);if(L=a.unstable_now(),typeof T=="function"){y.callback=T,D(L),k=!0;break e}y===n(d)&&s(d),D(L)}else s(d);y=n(d)}if(y!==null)k=!0;else{var F=n(_);F!==null&&ot(w,F.startTime-L),k=!1}}break t}finally{y=null,E=V,S=!1}k=void 0}}finally{k?$():j=!1}}}var $;if(typeof X=="function")$=function(){X(lt)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,st=tt.port2;tt.port1.onmessage=lt,$=function(){st.postMessage(null)}}else $=function(){M(lt,0)};function ot(L,k){q=M(function(){L(a.unstable_now())},k)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(L){L.callback=null},a.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<L?Math.floor(1e3/L):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(L){switch(E){case 1:case 2:case 3:var k=3;break;default:k=E}var V=E;E=k;try{return L()}finally{E=V}},a.unstable_requestPaint=function(){C=!0},a.unstable_runWithPriority=function(L,k){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=E;E=L;try{return k()}finally{E=V}},a.unstable_scheduleCallback=function(L,k,V){var et=a.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?et+V:et):V=et,L){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=V+T,L={id:m++,callback:k,priorityLevel:L,startTime:V,expirationTime:T,sortIndex:-1},V>et?(L.sortIndex=V,t(_,L),n(d)===null&&L===n(_)&&(b?(I(q),q=-1):b=!0,ot(w,V-et))):(L.sortIndex=T,t(d,L),x||S||(x=!0,j||(j=!0,$()))),L},a.unstable_shouldYield=J,a.unstable_wrapCallback=function(L){var k=E;return function(){var V=E;E=k;try{return L.apply(this,arguments)}finally{E=V}}}}(lf)),lf}var Ty;function hv(){return Ty||(Ty=1,sf.exports=cv()),sf.exports}var af={exports:{}},Me={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function fv(){if(Ry)return Me;Ry=1;var a=Vf();function t(d){var _="https://react.dev/errors/"+d;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)_+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(d,_,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:d,containerInfo:_,implementation:m}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,_){if(d==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Me.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Me.createPortal=function(d,_){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(d,_,null,m)},Me.flushSync=function(d){var _=c.T,m=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=_,s.p=m,s.d.f()}},Me.preconnect=function(d,_){typeof d=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(d,_))},Me.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Me.preinit=function(d,_){if(typeof d=="string"&&_&&typeof _.as=="string"){var m=_.as,y=f(m,_.crossOrigin),E=typeof _.integrity=="string"?_.integrity:void 0,S=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;m==="style"?s.d.S(d,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:S}):m==="script"&&s.d.X(d,{crossOrigin:y,integrity:E,fetchPriority:S,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Me.preinitModule=function(d,_){if(typeof d=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var m=f(_.as,_.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(d)},Me.preload=function(d,_){if(typeof d=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var m=_.as,y=f(m,_.crossOrigin);s.d.L(d,m,{crossOrigin:y,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Me.preloadModule=function(d,_){if(typeof d=="string")if(_){var m=f(_.as,_.crossOrigin);s.d.m(d,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:m,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(d)},Me.requestFormReset=function(d){s.d.r(d)},Me.unstable_batchedUpdates=function(d,_){return d(_)},Me.useFormState=function(d,_,m){return c.H.useFormState(d,_,m)},Me.useFormStatus=function(){return c.H.useHostTransitionStatus()},Me.version="19.1.0",Me}var Cy;function dv(){if(Cy)return af.exports;Cy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),af.exports=fv(),af.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function gv(){if(by)return lr;by=1;var a=hv(),t=Vf(),n=dv();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,l=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(l=i.return),e=i.return;while(e)}return i.tag===3?l:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(s(188))}function d(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var l=e,o=i;;){var h=l.return;if(h===null)break;var g=h.alternate;if(g===null){if(o=h.return,o!==null){l=o;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===l)return f(h),e;if(g===o)return f(h),i;g=g.sibling}throw Error(s(188))}if(l.return!==o.return)l=h,o=g;else{for(var p=!1,v=h.child;v;){if(v===l){p=!0,l=h,o=g;break}if(v===o){p=!0,o=h,l=g;break}v=v.sibling}if(!p){for(v=g.child;v;){if(v===l){p=!0,l=g,o=h;break}if(v===o){p=!0,o=g,l=h;break}v=v.sibling}if(!p)throw Error(s(189))}}if(l.alternate!==o)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),X=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=lt&&e[lt]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Symbol.for("react.client.reference");function st(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case C:return"Profiler";case b:return"StrictMode";case w:return"Suspense";case j:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case X:return(e.displayName||"Context")+".Provider";case I:return(e._context.displayName||"Context")+".Consumer";case D:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return i=e.displayName||null,i!==null?i:st(e.type)||"Memo";case K:i=e._payload,e=e._init;try{return st(e(i))}catch{}}return null}var ot=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},et=[],T=-1;function F(e){return{current:e}}function G(e){0>T||(e.current=et[T],et[T]=null,T--)}function Q(e,i){T++,et[T]=e.current,e.current=i}var nt=F(null),ut=F(null),at=F(null),zt=F(null);function bt(e,i){switch(Q(at,i),Q(ut,e),Q(nt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?jm(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=jm(i),e=Km(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(nt),Q(nt,e)}function se(){G(nt),G(ut),G(at)}function Ee(e){e.memoizedState!==null&&Q(zt,e);var i=nt.current,l=Km(i,e.type);i!==l&&(Q(ut,e),Q(nt,l))}function Kn(e){ut.current===e&&(G(nt),G(ut)),zt.current===e&&(G(zt),$a._currentValue=V)}var hs=Object.prototype.hasOwnProperty,qn=a.unstable_scheduleCallback,Sn=a.unstable_cancelCallback,Ge=a.unstable_shouldYield,ln=a.unstable_requestPaint,ve=a.unstable_now,Ti=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Nn=a.unstable_UserBlockingPriority,xn=a.unstable_NormalPriority,Ci=a.unstable_LowPriority,ee=a.unstable_IdlePriority,aa=a.log,ra=a.unstable_setDisableYieldValue,zn=null,he=null;function Gn(e){if(typeof aa=="function"&&ra(e),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(zn,e)}catch{}}var Ce=Math.clz32?Math.clz32:ku,Xr=Math.log,oa=Math.LN2;function ku(e){return e>>>=0,e===0?32:31-(Xr(e)/oa|0)|0}var Zs=256,fs=4194304;function Un(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bi(e,i,l){var o=e.pendingLanes;if(o===0)return 0;var h=0,g=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=o&134217727;return v!==0?(o=v&~g,o!==0?h=Un(o):(p&=v,p!==0?h=Un(p):l||(l=v&~e,l!==0&&(h=Un(l))))):(v=o&~g,v!==0?h=Un(v):p!==0?h=Un(p):l||(l=o&~e,l!==0&&(h=Un(l)))),h===0?0:i!==0&&i!==h&&(i&g)===0&&(g=h&-h,l=i&-i,g>=l||g===32&&(l&4194048)!==0)?i:h}function Ai(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Zu(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function js(){var e=Zs;return Zs<<=1,(Zs&4194048)===0&&(Zs=256),e}function Mi(){var e=fs;return fs<<=1,(fs&62914560)===0&&(fs=4194304),e}function Vn(e){for(var i=[],l=0;31>l;l++)i.push(e);return i}function Tn(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fr(e,i,l,o,h,g){var p=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var v=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(l=p&~l;0<l;){var B=31-Ce(l),Z=1<<B;v[B]=0,R[B]=-1;var U=z[B];if(U!==null)for(z[B]=null,B=0;B<U.length;B++){var Y=U[B];Y!==null&&(Y.lane&=-536870913)}l&=~Z}o!==0&&ua(e,o,0),g!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=g&~(p&~i))}function ua(e,i,l){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Ce(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|l&4194090}function Le(e,i){var l=e.entangledLanes|=i;for(e=e.entanglements;l;){var o=31-Ce(l),h=1<<o;h&i|e[o]&i&&(e[o]|=i),l&=~h}}function Rn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function be(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ve(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:fy(e.type))}function Ue(e,i){var l=k.p;try{return k.p=e,i()}finally{k.p=l}}var fe=Math.random().toString(36).slice(2),Zt="__reactFiber$"+fe,Tt="__reactProps$"+fe,Qt="__reactContainer$"+fe,We="__reactEvents$"+fe,ju="__reactListeners$"+fe,Jp="__reactHandles$"+fe,Nd="__reactResources$"+fe,ca="__reactMarker$"+fe;function Ku(e){delete e[Zt],delete e[Tt],delete e[We],delete e[ju],delete e[Jp]}function Ks(e){var i=e[Zt];if(i)return i;for(var l=e.parentNode;l;){if(i=l[Qt]||l[Zt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(e=Qm(e);e!==null;){if(l=e[Zt])return l;e=Qm(e)}return i}e=l,l=e.parentNode}return null}function qs(e){if(e=e[Zt]||e[Qt]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function ha(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Vs(e){var i=e[Nd];return i||(i=e[Nd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function de(e){e[ca]=!0}var zd=new Set,Gd={};function ds(e,i){Ws(e,i),Ws(e+"Capture",i)}function Ws(e,i){for(Gd[e]=i,e=0;e<i.length;e++)zd.add(i[e])}var $p=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ud={},Yd={};function t1(e){return hs.call(Yd,e)?!0:hs.call(Ud,e)?!1:$p.test(e)?Yd[e]=!0:(Ud[e]=!0,!1)}function Br(e,i,l){if(t1(i))if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+l)}}function Hr(e,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+l)}}function Wn(e,i,l,o){if(o===null)e.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(i,l,""+o)}}var qu,Xd;function Qs(e){if(qu===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);qu=i&&i[1]||"",Xd=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qu+e+Xd}var Vu=!1;function Wu(e,i){if(!e||Vu)return"";Vu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Y){var U=Y}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(Y){U=Y}e.call(Z.prototype)}}else{try{throw Error()}catch(Y){U=Y}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Y){if(Y&&U&&typeof Y.stack=="string")return[Y.stack,U.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),p=g[0],v=g[1];if(p&&v){var R=p.split(`
`),z=v.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var B=`
`+R[o].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=o&&0<=h);break}}}finally{Vu=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Qs(l):""}function e1(e){switch(e.tag){case 26:case 27:case 5:return Qs(e.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 15:return Wu(e.type,!1);case 11:return Wu(e.type.render,!1);case 1:return Wu(e.type,!0);case 31:return Qs("Activity");default:return""}}function Fd(e){try{var i="";do i+=e1(e),e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bd(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function n1(e){var i=Bd(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,g=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(p){o=""+p,g.call(this,p)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(p){o=""+p},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Pr(e){e._valueTracker||(e._valueTracker=n1(e))}function Hd(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var l=i.getValue(),o="";return e&&(o=Bd(e)?e.checked?"true":"false":e.value),e=o,e!==l?(i.setValue(e),!0):!1}function kr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var i1=/[\n"\\]/g;function rn(e){return e.replace(i1,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Qu(e,i,l,o,h,g,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),i!=null?p==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+an(i)):e.value!==""+an(i)&&(e.value=""+an(i)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),i!=null?Ju(e,p,an(i)):l!=null?Ju(e,p,an(l)):o!=null&&e.removeAttribute("value"),h==null&&g!=null&&(e.defaultChecked=!!g),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+an(v):e.removeAttribute("name")}function Pd(e,i,l,o,h,g,p,v){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;l=l!=null?""+an(l):"",i=i!=null?""+an(i):l,v||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=v?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p)}function Ju(e,i,l){i==="number"&&kr(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Js(e,i,l,o){if(e=e.options,i){i={};for(var h=0;h<l.length;h++)i["$"+l[h]]=!0;for(l=0;l<e.length;l++)h=i.hasOwnProperty("$"+e[l].value),e[l].selected!==h&&(e[l].selected=h),h&&o&&(e[l].defaultSelected=!0)}else{for(l=""+an(l),i=null,h=0;h<e.length;h++){if(e[h].value===l){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function kd(e,i,l){if(i!=null&&(i=""+an(i),i!==e.value&&(e.value=i),l==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=l!=null?""+an(l):""}function Zd(e,i,l,o){if(i==null){if(o!=null){if(l!=null)throw Error(s(92));if(ot(o)){if(1<o.length)throw Error(s(93));o=o[0]}l=o}l==null&&(l=""),i=l}l=an(i),e.defaultValue=l,o=e.textContent,o===l&&o!==""&&o!==null&&(e.value=o)}function $s(e,i){if(i){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=i;return}}e.textContent=i}var s1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jd(e,i,l){var o=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,l):typeof l!="number"||l===0||s1.has(i)?i==="float"?e.cssFloat=l:e[i]=(""+l).trim():e[i]=l+"px"}function Kd(e,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,l!=null){for(var o in l)!l.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&l[h]!==o&&jd(e,h,o)}else for(var g in i)i.hasOwnProperty(g)&&jd(e,g,i[g])}function $u(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),a1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zr(e){return a1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var tc=null;function ec(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tl=null,el=null;function qd(e){var i=qs(e);if(i&&(e=i.stateNode)){var l=e[Tt]||null;t:switch(e=i.stateNode,i.type){case"input":if(Qu(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var o=l[i];if(o!==e&&o.form===e.form){var h=o[Tt]||null;if(!h)throw Error(s(90));Qu(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<l.length;i++)o=l[i],o.form===e.form&&Hd(o)}break t;case"textarea":kd(e,l.value,l.defaultValue);break t;case"select":i=l.value,i!=null&&Js(e,!!l.multiple,i,!1)}}}var nc=!1;function Vd(e,i,l){if(nc)return e(i,l);nc=!0;try{var o=e(i);return o}finally{if(nc=!1,(tl!==null||el!==null)&&(Do(),tl&&(i=tl,e=el,el=tl=null,qd(i),e)))for(i=0;i<e.length;i++)qd(e[i])}}function fa(e,i){var l=e.stateNode;if(l===null)return null;var o=l[Tt]||null;if(o===null)return null;l=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=!1;if(Qn)try{var da={};Object.defineProperty(da,"passive",{get:function(){ic=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{ic=!1}var wi=null,sc=null,jr=null;function Wd(){if(jr)return jr;var e,i=sc,l=i.length,o,h="value"in wi?wi.value:wi.textContent,g=h.length;for(e=0;e<l&&i[e]===h[e];e++);var p=l-e;for(o=1;o<=p&&i[l-o]===h[g-o];o++);return jr=h.slice(e,1<o?1-o:void 0)}function Kr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function qr(){return!0}function Qd(){return!1}function Ye(e){function i(l,o,h,g,p){this._reactName=l,this._targetInst=h,this.type=o,this.nativeEvent=g,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(l=e[v],this[v]=l?l(g):g[v]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?qr:Qd,this.isPropagationStopped=Qd,this}return m(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),i}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vr=Ye(gs),ga=m({},gs,{view:0,detail:0}),r1=Ye(ga),lc,ac,_a,Wr=m({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_a&&(_a&&e.type==="mousemove"?(lc=e.screenX-_a.screenX,ac=e.screenY-_a.screenY):ac=lc=0,_a=e),lc)},movementY:function(e){return"movementY"in e?e.movementY:ac}}),Jd=Ye(Wr),o1=m({},Wr,{dataTransfer:0}),u1=Ye(o1),c1=m({},ga,{relatedTarget:0}),rc=Ye(c1),h1=m({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),f1=Ye(h1),d1=m({},gs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g1=Ye(d1),_1=m({},gs,{data:0}),$d=Ye(_1),m1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E1(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=p1[e])?!!i[e]:!1}function oc(){return E1}var v1=m({},ga,{key:function(e){if(e.key){var i=m1[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Kr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(e){return e.type==="keypress"?Kr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S1=Ye(v1),x1=m({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tg=Ye(x1),T1=m({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),R1=Ye(T1),C1=m({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),b1=Ye(C1),A1=m({},Wr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M1=Ye(A1),w1=m({},gs,{newState:0,oldState:0}),O1=Ye(w1),D1=[9,13,27,32],uc=Qn&&"CompositionEvent"in window,ma=null;Qn&&"documentMode"in document&&(ma=document.documentMode);var L1=Qn&&"TextEvent"in window&&!ma,eg=Qn&&(!uc||ma&&8<ma&&11>=ma),ng=" ",ig=!1;function sg(e,i){switch(e){case"keyup":return D1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nl=!1;function I1(e,i){switch(e){case"compositionend":return lg(i);case"keypress":return i.which!==32?null:(ig=!0,ng);case"textInput":return e=i.data,e===ng&&ig?null:e;default:return null}}function N1(e,i){if(nl)return e==="compositionend"||!uc&&sg(e,i)?(e=Wd(),jr=sc=wi=null,nl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return eg&&i.locale!=="ko"?null:i.data;default:return null}}var z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!z1[e.type]:i==="textarea"}function rg(e,i,l,o){tl?el?el.push(o):el=[o]:tl=o,i=Uo(i,"onChange"),0<i.length&&(l=new Vr("onChange","change",null,l,o),e.push({event:l,listeners:i}))}var ya=null,pa=null;function G1(e){Bm(e,0)}function Qr(e){var i=ha(e);if(Hd(i))return e}function og(e,i){if(e==="change")return i}var ug=!1;if(Qn){var cc;if(Qn){var hc="oninput"in document;if(!hc){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),hc=typeof cg.oninput=="function"}cc=hc}else cc=!1;ug=cc&&(!document.documentMode||9<document.documentMode)}function hg(){ya&&(ya.detachEvent("onpropertychange",fg),pa=ya=null)}function fg(e){if(e.propertyName==="value"&&Qr(pa)){var i=[];rg(i,pa,e,ec(e)),Vd(G1,i)}}function U1(e,i,l){e==="focusin"?(hg(),ya=i,pa=l,ya.attachEvent("onpropertychange",fg)):e==="focusout"&&hg()}function Y1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qr(pa)}function X1(e,i){if(e==="click")return Qr(i)}function F1(e,i){if(e==="input"||e==="change")return Qr(i)}function B1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Qe=typeof Object.is=="function"?Object.is:B1;function Ea(e,i){if(Qe(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var l=Object.keys(e),o=Object.keys(i);if(l.length!==o.length)return!1;for(o=0;o<l.length;o++){var h=l[o];if(!hs.call(i,h)||!Qe(e[h],i[h]))return!1}return!0}function dg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gg(e,i){var l=dg(e);e=0;for(var o;l;){if(l.nodeType===3){if(o=e+l.textContent.length,e<=i&&o>=i)return{node:l,offset:i-e};e=o}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=dg(l)}}function _g(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?_g(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function mg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=kr(e.document);i instanceof e.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)e=i.contentWindow;else break;i=kr(e.document)}return i}function fc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var H1=Qn&&"documentMode"in document&&11>=document.documentMode,il=null,dc=null,va=null,gc=!1;function yg(e,i,l){var o=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gc||il==null||il!==kr(o)||(o=il,"selectionStart"in o&&fc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),va&&Ea(va,o)||(va=o,o=Uo(dc,"onSelect"),0<o.length&&(i=new Vr("onSelect","select",null,i,l),e.push({event:i,listeners:o}),i.target=il)))}function _s(e,i){var l={};return l[e.toLowerCase()]=i.toLowerCase(),l["Webkit"+e]="webkit"+i,l["Moz"+e]="moz"+i,l}var sl={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},_c={},pg={};Qn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function ms(e){if(_c[e])return _c[e];if(!sl[e])return e;var i=sl[e],l;for(l in i)if(i.hasOwnProperty(l)&&l in pg)return _c[e]=i[l];return e}var Eg=ms("animationend"),vg=ms("animationiteration"),Sg=ms("animationstart"),P1=ms("transitionrun"),k1=ms("transitionstart"),Z1=ms("transitioncancel"),xg=ms("transitionend"),Tg=new Map,mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mc.push("scrollEnd");function Cn(e,i){Tg.set(e,i),ds(i,[e])}var Rg=new WeakMap;function on(e,i){if(typeof e=="object"&&e!==null){var l=Rg.get(e);return l!==void 0?l:(i={value:e,source:i,stack:Fd(i)},Rg.set(e,i),i)}return{value:e,source:i,stack:Fd(i)}}var un=[],ll=0,yc=0;function Jr(){for(var e=ll,i=yc=ll=0;i<e;){var l=un[i];un[i++]=null;var o=un[i];un[i++]=null;var h=un[i];un[i++]=null;var g=un[i];if(un[i++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}g!==0&&Cg(l,h,g)}}function $r(e,i,l,o){un[ll++]=e,un[ll++]=i,un[ll++]=l,un[ll++]=o,yc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function pc(e,i,l,o){return $r(e,i,l,o),to(e)}function al(e,i){return $r(e,null,null,i),to(e)}function Cg(e,i,l){e.lanes|=l;var o=e.alternate;o!==null&&(o.lanes|=l);for(var h=!1,g=e.return;g!==null;)g.childLanes|=l,o=g.alternate,o!==null&&(o.childLanes|=l),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(h=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,h&&i!==null&&(h=31-Ce(l),e=g.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=l|536870912),g):null}function to(e){if(50<Za)throw Za=0,Rh=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var rl={};function j1(e,i,l,o){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(e,i,l,o){return new j1(e,i,l,o)}function Ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jn(e,i){var l=e.alternate;return l===null?(l=Je(e.tag,i,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=i,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,i=e.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function bg(e,i){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,i=l.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function eo(e,i,l,o,h,g){var p=0;if(o=e,typeof e=="function")Ec(e)&&(p=1);else if(typeof e=="string")p=qE(e,l,nt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case W:return e=Je(31,l,i,h),e.elementType=W,e.lanes=g,e;case x:return ys(l.children,h,g,i);case b:p=8,h|=24;break;case C:return e=Je(12,l,i,h|2),e.elementType=C,e.lanes=g,e;case w:return e=Je(13,l,i,h),e.elementType=w,e.lanes=g,e;case j:return e=Je(19,l,i,h),e.elementType=j,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:case X:p=10;break t;case I:p=9;break t;case D:p=11;break t;case q:p=14;break t;case K:p=16,o=null;break t}p=29,l=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=Je(p,l,i,h),i.elementType=e,i.type=o,i.lanes=g,i}function ys(e,i,l,o){return e=Je(7,e,o,i),e.lanes=l,e}function vc(e,i,l){return e=Je(6,e,null,i),e.lanes=l,e}function Sc(e,i,l){return i=Je(4,e.children!==null?e.children:[],e.key,i),i.lanes=l,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ol=[],ul=0,no=null,io=0,cn=[],hn=0,ps=null,$n=1,ti="";function Es(e,i){ol[ul++]=io,ol[ul++]=no,no=e,io=i}function Ag(e,i,l){cn[hn++]=$n,cn[hn++]=ti,cn[hn++]=ps,ps=e;var o=$n;e=ti;var h=32-Ce(o)-1;o&=~(1<<h),l+=1;var g=32-Ce(i)+h;if(30<g){var p=h-h%5;g=(o&(1<<p)-1).toString(32),o>>=p,h-=p,$n=1<<32-Ce(i)+h|l<<h|o,ti=g+e}else $n=1<<g|l<<h|o,ti=e}function xc(e){e.return!==null&&(Es(e,1),Ag(e,1,0))}function Tc(e){for(;e===no;)no=ol[--ul],ol[ul]=null,io=ol[--ul],ol[ul]=null;for(;e===ps;)ps=cn[--hn],cn[hn]=null,ti=cn[--hn],cn[hn]=null,$n=cn[--hn],cn[hn]=null}var Ie=null,Jt=null,It=!1,vs=null,Yn=!1,Rc=Error(s(519));function Ss(e){var i=Error(s(418,""));throw Ta(on(i,e)),Rc}function Mg(e){var i=e.stateNode,l=e.type,o=e.memoizedProps;switch(i[Zt]=e,i[Tt]=o,l){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(l=0;l<Ka.length;l++)Ct(Ka[l],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":Ct("invalid",i),Pd(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Pr(i);break;case"select":Ct("invalid",i);break;case"textarea":Ct("invalid",i),Zd(i,o.value,o.defaultValue,o.children),Pr(i)}l=o.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||o.suppressHydrationWarning===!0||Zm(i.textContent,l)?(o.popover!=null&&(Ct("beforetoggle",i),Ct("toggle",i)),o.onScroll!=null&&Ct("scroll",i),o.onScrollEnd!=null&&Ct("scrollend",i),o.onClick!=null&&(i.onclick=Yo),i=!0):i=!1,i||Ss(e)}function wg(e){for(Ie=e.return;Ie;)switch(Ie.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Ie=Ie.return}}function Sa(e){if(e!==Ie)return!1;if(!It)return wg(e),It=!0,!1;var i=e.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Fh(e.type,e.memoizedProps)),l=!l),l&&Jt&&Ss(e),wg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(i===0){Jt=An(e.nextSibling);break t}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;e=e.nextSibling}Jt=null}}else i===27?(i=Jt,Zi(e.type)?(e=kh,kh=null,Jt=e):Jt=i):Jt=Ie?An(e.stateNode.nextSibling):null;return!0}function xa(){Jt=Ie=null,It=!1}function Og(){var e=vs;return e!==null&&(Be===null?Be=e:Be.push.apply(Be,e),vs=null),e}function Ta(e){vs===null?vs=[e]:vs.push(e)}var Cc=F(null),xs=null,ei=null;function Oi(e,i,l){Q(Cc,i._currentValue),i._currentValue=l}function ni(e){e._currentValue=Cc.current,G(Cc)}function bc(e,i,l){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===l)break;e=e.return}}function Ac(e,i,l,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var g=h.dependencies;if(g!==null){var p=h.child;g=g.firstContext;t:for(;g!==null;){var v=g;g=h;for(var R=0;R<i.length;R++)if(v.context===i[R]){g.lanes|=l,v=g.alternate,v!==null&&(v.lanes|=l),bc(g.return,l,e),o||(p=null);break t}g=v.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=l,g=p.alternate,g!==null&&(g.lanes|=l),bc(p,l,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ra(e,i,l,o){e=null;for(var h=i,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var v=h.type;Qe(h.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(h===zt.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push($a):e=[$a])}h=h.return}e!==null&&Ac(i,e,l,o),i.flags|=262144}function so(e){for(e=e.firstContext;e!==null;){if(!Qe(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ts(e){xs=e,ei=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ae(e){return Dg(xs,e)}function lo(e,i){return xs===null&&Ts(e),Dg(e,i)}function Dg(e,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},ei===null){if(e===null)throw Error(s(308));ei=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ei=ei.next=i;return l}var K1=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(l,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(l){return l()})}},q1=a.unstable_scheduleCallback,V1=a.unstable_NormalPriority,re={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mc(){return{controller:new K1,data:new Map,refCount:0}}function Ca(e){e.refCount--,e.refCount===0&&q1(V1,function(){e.controller.abort()})}var ba=null,wc=0,cl=0,hl=null;function W1(e,i){if(ba===null){var l=ba=[];wc=0,cl=Dh(),hl={status:"pending",value:void 0,then:function(o){l.push(o)}}}return wc++,i.then(Lg,Lg),i}function Lg(){if(--wc===0&&ba!==null){hl!==null&&(hl.status="fulfilled");var e=ba;ba=null,cl=0,hl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Q1(e,i){var l=[],o={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<l.length;h++)(0,l[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),o}var Ig=L.S;L.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&W1(e,i),Ig!==null&&Ig(e,i)};var Rs=F(null);function Oc(){var e=Rs.current;return e!==null?e:jt.pooledCache}function ao(e,i){i===null?Q(Rs,Rs.current):Q(Rs,i.pool)}function Ng(){var e=Oc();return e===null?null:{parent:re._currentValue,pool:e}}var Aa=Error(s(460)),zg=Error(s(474)),ro=Error(s(542)),Dc={then:function(){}};function Gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function oo(){}function Ug(e,i,l){switch(l=e[l],l===void 0?e.push(i):l!==i&&(i.then(oo,oo),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xg(e),e;default:if(typeof i.status=="string")i.then(oo,oo);else{if(e=jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xg(e),e}throw Ma=i,Aa}}var Ma=null;function Yg(){if(Ma===null)throw Error(s(459));var e=Ma;return Ma=null,e}function Xg(e){if(e===Aa||e===ro)throw Error(s(483))}var Di=!1;function Lc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ic(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Li(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(e,i,l){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ut&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=to(e),Cg(e,null,l),i}return $r(e,o,i,l),to(e)}function wa(e,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,l|=o,i.lanes=l,Le(e,l)}}function Nc(e,i){var l=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,l===o)){var h=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var p={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?h=g=p:g=g.next=p,l=l.next}while(l!==null);g===null?h=g=i:g=g.next=i}else h=g=i;l={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=i:e.next=i,l.lastBaseUpdate=i}var zc=!1;function Oa(){if(zc){var e=hl;if(e!==null)throw e}}function Da(e,i,l,o){zc=!1;var h=e.updateQueue;Di=!1;var g=h.firstBaseUpdate,p=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var R=v,z=R.next;R.next=null,p===null?g=z:p.next=z,p=R;var B=e.alternate;B!==null&&(B=B.updateQueue,v=B.lastBaseUpdate,v!==p&&(v===null?B.firstBaseUpdate=z:v.next=z,B.lastBaseUpdate=R))}if(g!==null){var Z=h.baseState;p=0,B=z=R=null,v=g;do{var U=v.lane&-536870913,Y=U!==v.lane;if(Y?(Mt&U)===U:(o&U)===U){U!==0&&U===cl&&(zc=!0),B!==null&&(B=B.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var gt=e,ft=v;U=i;var Pt=l;switch(ft.tag){case 1:if(gt=ft.payload,typeof gt=="function"){Z=gt.call(Pt,Z,U);break t}Z=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ft.payload,U=typeof gt=="function"?gt.call(Pt,Z,U):gt,U==null)break t;Z=m({},Z,U);break t;case 2:Di=!0}}U=v.callback,U!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[U]:Y.push(U))}else Y={lane:U,tag:v.tag,payload:v.payload,callback:v.callback,next:null},B===null?(z=B=Y,R=Z):B=B.next=Y,p|=U;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;Y=v,v=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);B===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=B,g===null&&(h.shared.lanes=0),Bi|=p,e.lanes=p,e.memoizedState=Z}}function Fg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Bg(e,i){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Fg(l[e],i)}var fl=F(null),uo=F(0);function Hg(e,i){e=ui,Q(uo,e),Q(fl,i),ui=e|i.baseLanes}function Gc(){Q(uo,ui),Q(fl,fl.current)}function Uc(){ui=uo.current,G(fl),G(uo)}var Ni=0,vt=null,Bt=null,le=null,co=!1,dl=!1,Cs=!1,ho=0,La=0,gl=null,J1=0;function ne(){throw Error(s(321))}function Yc(e,i){if(i===null)return!1;for(var l=0;l<i.length&&l<e.length;l++)if(!Qe(e[l],i[l]))return!1;return!0}function Xc(e,i,l,o,h,g){return Ni=g,vt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=e===null||e.memoizedState===null?C_:b_,Cs=!1,g=l(o,h),Cs=!1,dl&&(g=kg(i,l,o,h)),Pg(e),g}function Pg(e){L.H=po;var i=Bt!==null&&Bt.next!==null;if(Ni=0,le=Bt=vt=null,co=!1,La=0,gl=null,i)throw Error(s(300));e===null||ge||(e=e.dependencies,e!==null&&so(e)&&(ge=!0))}function kg(e,i,l,o){vt=e;var h=0;do{if(dl&&(gl=null),La=0,dl=!1,25<=h)throw Error(s(301));if(h+=1,le=Bt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}L.H=lE,g=i(l,o)}while(dl);return g}function $1(){var e=L.H,i=e.useState()[0];return i=typeof i.then=="function"?Ia(i):i,e=e.useState()[0],(Bt!==null?Bt.memoizedState:null)!==e&&(vt.flags|=1024),i}function Fc(){var e=ho!==0;return ho=0,e}function Bc(e,i,l){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~l}function Hc(e){if(co){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}co=!1}Ni=0,le=Bt=vt=null,dl=!1,La=ho=0,gl=null}function Xe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?vt.memoizedState=le=e:le=le.next=e,le}function ae(){if(Bt===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var i=le===null?vt.memoizedState:le.next;if(i!==null)le=i,Bt=e;else{if(e===null)throw vt.alternate===null?Error(s(467)):Error(s(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},le===null?vt.memoizedState=le=e:le=le.next=e}return le}function Pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ia(e){var i=La;return La+=1,gl===null&&(gl=[]),e=Ug(gl,e,i),i=vt,(le===null?i.memoizedState:le.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?C_:b_),e}function fo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ia(e);if(e.$$typeof===X)return Ae(e)}throw Error(s(438,String(e)))}function kc(e){var i=null,l=vt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var o=vt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Pc(),vt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(e),o=0;o<e;o++)l[o]=J;return i.index++,l}function ii(e,i){return typeof i=="function"?i(e):i}function go(e){var i=ae();return Zc(i,Bt,e)}function Zc(e,i,l){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=l;var h=e.baseQueue,g=o.pending;if(g!==null){if(h!==null){var p=h.next;h.next=g.next,g.next=p}i.baseQueue=h=g,o.pending=null}if(g=e.baseState,h===null)e.memoizedState=g;else{i=h.next;var v=p=null,R=null,z=i,B=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Mt&Z)===Z:(Ni&Z)===Z){var U=z.revertLane;if(U===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===cl&&(B=!0);else if((Ni&U)===U){z=z.next,U===cl&&(B=!0);continue}else Z={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(v=R=Z,p=g):R=R.next=Z,vt.lanes|=U,Bi|=U;Z=z.action,Cs&&l(g,Z),g=z.hasEagerState?z.eagerState:l(g,Z)}else U={lane:Z,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(v=R=U,p=g):R=R.next=U,vt.lanes|=Z,Bi|=Z;z=z.next}while(z!==null&&z!==i);if(R===null?p=g:R.next=v,!Qe(g,e.memoizedState)&&(ge=!0,B&&(l=hl,l!==null)))throw l;e.memoizedState=g,e.baseState=p,e.baseQueue=R,o.lastRenderedState=g}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function jc(e){var i=ae(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var o=l.dispatch,h=l.pending,g=i.memoizedState;if(h!==null){l.pending=null;var p=h=h.next;do g=e(g,p.action),p=p.next;while(p!==h);Qe(g,i.memoizedState)||(ge=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,o]}function Zg(e,i,l){var o=vt,h=ae(),g=It;if(g){if(l===void 0)throw Error(s(407));l=l()}else l=i();var p=!Qe((Bt||h).memoizedState,l);p&&(h.memoizedState=l,ge=!0),h=h.queue;var v=qg.bind(null,o,h,e);if(Na(2048,8,v,[e]),h.getSnapshot!==i||p||le!==null&&le.memoizedState.tag&1){if(o.flags|=2048,_l(9,_o(),Kg.bind(null,o,h,l,i),null),jt===null)throw Error(s(349));g||(Ni&124)!==0||jg(o,i,l)}return l}function jg(e,i,l){e.flags|=16384,e={getSnapshot:i,value:l},i=vt.updateQueue,i===null?(i=Pc(),vt.updateQueue=i,i.stores=[e]):(l=i.stores,l===null?i.stores=[e]:l.push(e))}function Kg(e,i,l,o){i.value=l,i.getSnapshot=o,Vg(i)&&Wg(e)}function qg(e,i,l){return l(function(){Vg(i)&&Wg(e)})}function Vg(e){var i=e.getSnapshot;e=e.value;try{var l=i();return!Qe(e,l)}catch{return!0}}function Wg(e){var i=al(e,2);i!==null&&sn(i,e,2)}function Kc(e){var i=Xe();if(typeof e=="function"){var l=e;if(e=l(),Cs){Gn(!0);try{l()}finally{Gn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:e},i}function Qg(e,i,l,o){return e.baseState=l,Zc(e,Bt,typeof o=="function"?o:ii)}function tE(e,i,l,o,h){if(yo(e))throw Error(s(485));if(e=i.action,e!==null){var g={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){g.listeners.push(p)}};L.T!==null?l(!0):g.isTransition=!1,o(g),l=i.pending,l===null?(g.next=i.pending=g,Jg(i,g)):(g.next=l.next,i.pending=l.next=g)}}function Jg(e,i){var l=i.action,o=i.payload,h=e.state;if(i.isTransition){var g=L.T,p={};L.T=p;try{var v=l(h,o),R=L.S;R!==null&&R(p,v),$g(e,i,v)}catch(z){qc(e,i,z)}finally{L.T=g}}else try{g=l(h,o),$g(e,i,g)}catch(z){qc(e,i,z)}}function $g(e,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(o){t_(e,i,o)},function(o){return qc(e,i,o)}):t_(e,i,l)}function t_(e,i,l){i.status="fulfilled",i.value=l,e_(i),e.state=l,i=e.pending,i!==null&&(l=i.next,l===i?e.pending=null:(l=l.next,i.next=l,Jg(e,l)))}function qc(e,i,l){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=l,e_(i),i=i.next;while(i!==o)}e.action=null}function e_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function n_(e,i){return i}function i_(e,i){if(It){var l=jt.formState;if(l!==null){t:{var o=vt;if(It){if(Jt){e:{for(var h=Jt,g=Yn;h.nodeType!==8;){if(!g){h=null;break e}if(h=An(h.nextSibling),h===null){h=null;break e}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Jt=An(h.nextSibling),o=h.data==="F!";break t}}Ss(o)}o=!1}o&&(i=l[0])}}return l=Xe(),l.memoizedState=l.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n_,lastRenderedState:i},l.queue=o,l=x_.bind(null,vt,o),o.dispatch=l,o=Kc(!1),g=$c.bind(null,vt,!1,o.queue),o=Xe(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,l=tE.bind(null,vt,h,g,l),h.dispatch=l,o.memoizedState=e,[i,l,!1]}function s_(e){var i=ae();return l_(i,Bt,e)}function l_(e,i,l){if(i=Zc(e,i,n_)[0],e=go(ii)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Ia(i)}catch(p){throw p===Aa?ro:p}else o=i;i=ae();var h=i.queue,g=h.dispatch;return l!==i.memoizedState&&(vt.flags|=2048,_l(9,_o(),eE.bind(null,h,l),null)),[o,g,e]}function eE(e,i){e.action=i}function a_(e){var i=ae(),l=Bt;if(l!==null)return l_(i,l,e);ae(),i=i.memoizedState,l=ae();var o=l.queue.dispatch;return l.memoizedState=e,[i,o,!1]}function _l(e,i,l,o){return e={tag:e,create:l,deps:o,inst:i,next:null},i=vt.updateQueue,i===null&&(i=Pc(),vt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=e.next=e:(o=l.next,l.next=e,e.next=o,i.lastEffect=e),e}function _o(){return{destroy:void 0,resource:void 0}}function r_(){return ae().memoizedState}function mo(e,i,l,o){var h=Xe();o=o===void 0?null:o,vt.flags|=e,h.memoizedState=_l(1|i,_o(),l,o)}function Na(e,i,l,o){var h=ae();o=o===void 0?null:o;var g=h.memoizedState.inst;Bt!==null&&o!==null&&Yc(o,Bt.memoizedState.deps)?h.memoizedState=_l(i,g,l,o):(vt.flags|=e,h.memoizedState=_l(1|i,g,l,o))}function o_(e,i){mo(8390656,8,e,i)}function u_(e,i){Na(2048,8,e,i)}function c_(e,i){return Na(4,2,e,i)}function h_(e,i){return Na(4,4,e,i)}function f_(e,i){if(typeof i=="function"){e=e();var l=i(e);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function d_(e,i,l){l=l!=null?l.concat([e]):null,Na(4,4,f_.bind(null,i,e),l)}function Vc(){}function g_(e,i){var l=ae();i=i===void 0?null:i;var o=l.memoizedState;return i!==null&&Yc(i,o[1])?o[0]:(l.memoizedState=[e,i],e)}function __(e,i){var l=ae();i=i===void 0?null:i;var o=l.memoizedState;if(i!==null&&Yc(i,o[1]))return o[0];if(o=e(),Cs){Gn(!0);try{e()}finally{Gn(!1)}}return l.memoizedState=[o,i],o}function Wc(e,i,l){return l===void 0||(Ni&1073741824)!==0?e.memoizedState=i:(e.memoizedState=l,e=pm(),vt.lanes|=e,Bi|=e,l)}function m_(e,i,l,o){return Qe(l,i)?l:fl.current!==null?(e=Wc(e,l,o),Qe(e,i)||(ge=!0),e):(Ni&42)===0?(ge=!0,e.memoizedState=l):(e=pm(),vt.lanes|=e,Bi|=e,i)}function y_(e,i,l,o,h){var g=k.p;k.p=g!==0&&8>g?g:8;var p=L.T,v={};L.T=v,$c(e,!1,i,l);try{var R=h(),z=L.S;if(z!==null&&z(v,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var B=Q1(R,o);za(e,i,B,nn(e))}else za(e,i,o,nn(e))}catch(Z){za(e,i,{then:function(){},status:"rejected",reason:Z},nn())}finally{k.p=g,L.T=p}}function nE(){}function Qc(e,i,l,o){if(e.tag!==5)throw Error(s(476));var h=p_(e).queue;y_(e,h,i,V,l===null?nE:function(){return E_(e),l(o)})}function p_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:V},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:l},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function E_(e){var i=p_(e).next.queue;za(e,i,{},nn())}function Jc(){return Ae($a)}function v_(){return ae().memoizedState}function S_(){return ae().memoizedState}function iE(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var l=nn();e=Li(l);var o=Ii(i,e,l);o!==null&&(sn(o,i,l),wa(o,i,l)),i={cache:Mc()},e.payload=i;return}i=i.return}}function sE(e,i,l){var o=nn();l={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},yo(e)?T_(i,l):(l=pc(e,i,l,o),l!==null&&(sn(l,e,o),R_(l,i,o)))}function x_(e,i,l){var o=nn();za(e,i,l,o)}function za(e,i,l,o){var h={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(yo(e))T_(i,h);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var p=i.lastRenderedState,v=g(p,l);if(h.hasEagerState=!0,h.eagerState=v,Qe(v,p))return $r(e,i,h,0),jt===null&&Jr(),!1}catch{}finally{}if(l=pc(e,i,h,o),l!==null)return sn(l,e,o),R_(l,i,o),!0}return!1}function $c(e,i,l,o){if(o={lane:2,revertLane:Dh(),action:o,hasEagerState:!1,eagerState:null,next:null},yo(e)){if(i)throw Error(s(479))}else i=pc(e,l,o,2),i!==null&&sn(i,e,2)}function yo(e){var i=e.alternate;return e===vt||i!==null&&i===vt}function T_(e,i){dl=co=!0;var l=e.pending;l===null?i.next=i:(i.next=l.next,l.next=i),e.pending=i}function R_(e,i,l){if((l&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,l|=o,i.lanes=l,Le(e,l)}}var po={readContext:Ae,use:fo,useCallback:ne,useContext:ne,useEffect:ne,useImperativeHandle:ne,useLayoutEffect:ne,useInsertionEffect:ne,useMemo:ne,useReducer:ne,useRef:ne,useState:ne,useDebugValue:ne,useDeferredValue:ne,useTransition:ne,useSyncExternalStore:ne,useId:ne,useHostTransitionStatus:ne,useFormState:ne,useActionState:ne,useOptimistic:ne,useMemoCache:ne,useCacheRefresh:ne},C_={readContext:Ae,use:fo,useCallback:function(e,i){return Xe().memoizedState=[e,i===void 0?null:i],e},useContext:Ae,useEffect:o_,useImperativeHandle:function(e,i,l){l=l!=null?l.concat([e]):null,mo(4194308,4,f_.bind(null,i,e),l)},useLayoutEffect:function(e,i){return mo(4194308,4,e,i)},useInsertionEffect:function(e,i){mo(4,2,e,i)},useMemo:function(e,i){var l=Xe();i=i===void 0?null:i;var o=e();if(Cs){Gn(!0);try{e()}finally{Gn(!1)}}return l.memoizedState=[o,i],o},useReducer:function(e,i,l){var o=Xe();if(l!==void 0){var h=l(i);if(Cs){Gn(!0);try{l(i)}finally{Gn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=sE.bind(null,vt,e),[o.memoizedState,e]},useRef:function(e){var i=Xe();return e={current:e},i.memoizedState=e},useState:function(e){e=Kc(e);var i=e.queue,l=x_.bind(null,vt,i);return i.dispatch=l,[e.memoizedState,l]},useDebugValue:Vc,useDeferredValue:function(e,i){var l=Xe();return Wc(l,e,i)},useTransition:function(){var e=Kc(!1);return e=y_.bind(null,vt,e.queue,!0,!1),Xe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,l){var o=vt,h=Xe();if(It){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),jt===null)throw Error(s(349));(Mt&124)!==0||jg(o,i,l)}h.memoizedState=l;var g={value:l,getSnapshot:i};return h.queue=g,o_(qg.bind(null,o,g,e),[e]),o.flags|=2048,_l(9,_o(),Kg.bind(null,o,g,l,i),null),l},useId:function(){var e=Xe(),i=jt.identifierPrefix;if(It){var l=ti,o=$n;l=(o&~(1<<32-Ce(o)-1)).toString(32)+l,i=""+i+"R"+l,l=ho++,0<l&&(i+="H"+l.toString(32)),i+=""}else l=J1++,i=""+i+"r"+l.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Jc,useFormState:i_,useActionState:i_,useOptimistic:function(e){var i=Xe();i.memoizedState=i.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=$c.bind(null,vt,!0,l),l.dispatch=i,[e,i]},useMemoCache:kc,useCacheRefresh:function(){return Xe().memoizedState=iE.bind(null,vt)}},b_={readContext:Ae,use:fo,useCallback:g_,useContext:Ae,useEffect:u_,useImperativeHandle:d_,useInsertionEffect:c_,useLayoutEffect:h_,useMemo:__,useReducer:go,useRef:r_,useState:function(){return go(ii)},useDebugValue:Vc,useDeferredValue:function(e,i){var l=ae();return m_(l,Bt.memoizedState,e,i)},useTransition:function(){var e=go(ii)[0],i=ae().memoizedState;return[typeof e=="boolean"?e:Ia(e),i]},useSyncExternalStore:Zg,useId:v_,useHostTransitionStatus:Jc,useFormState:s_,useActionState:s_,useOptimistic:function(e,i){var l=ae();return Qg(l,Bt,e,i)},useMemoCache:kc,useCacheRefresh:S_},lE={readContext:Ae,use:fo,useCallback:g_,useContext:Ae,useEffect:u_,useImperativeHandle:d_,useInsertionEffect:c_,useLayoutEffect:h_,useMemo:__,useReducer:jc,useRef:r_,useState:function(){return jc(ii)},useDebugValue:Vc,useDeferredValue:function(e,i){var l=ae();return Bt===null?Wc(l,e,i):m_(l,Bt.memoizedState,e,i)},useTransition:function(){var e=jc(ii)[0],i=ae().memoizedState;return[typeof e=="boolean"?e:Ia(e),i]},useSyncExternalStore:Zg,useId:v_,useHostTransitionStatus:Jc,useFormState:a_,useActionState:a_,useOptimistic:function(e,i){var l=ae();return Bt!==null?Qg(l,Bt,e,i):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:kc,useCacheRefresh:S_},ml=null,Ga=0;function Eo(e){var i=Ga;return Ga+=1,ml===null&&(ml=[]),Ug(ml,e,i)}function Ua(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function vo(e,i){throw i.$$typeof===y?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function A_(e){var i=e._init;return i(e._payload)}function M_(e){function i(O,A){if(e){var N=O.deletions;N===null?(O.deletions=[A],O.flags|=16):N.push(A)}}function l(O,A){if(!e)return null;for(;A!==null;)i(O,A),A=A.sibling;return null}function o(O){for(var A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function h(O,A){return O=Jn(O,A),O.index=0,O.sibling=null,O}function g(O,A,N){return O.index=N,e?(N=O.alternate,N!==null?(N=N.index,N<A?(O.flags|=67108866,A):N):(O.flags|=67108866,A)):(O.flags|=1048576,A)}function p(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function v(O,A,N,P){return A===null||A.tag!==6?(A=vc(N,O.mode,P),A.return=O,A):(A=h(A,N),A.return=O,A)}function R(O,A,N,P){var it=N.type;return it===x?B(O,A,N.props.children,P,N.key):A!==null&&(A.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===K&&A_(it)===A.type)?(A=h(A,N.props),Ua(A,N),A.return=O,A):(A=eo(N.type,N.key,N.props,null,O.mode,P),Ua(A,N),A.return=O,A)}function z(O,A,N,P){return A===null||A.tag!==4||A.stateNode.containerInfo!==N.containerInfo||A.stateNode.implementation!==N.implementation?(A=Sc(N,O.mode,P),A.return=O,A):(A=h(A,N.children||[]),A.return=O,A)}function B(O,A,N,P,it){return A===null||A.tag!==7?(A=ys(N,O.mode,P,it),A.return=O,A):(A=h(A,N),A.return=O,A)}function Z(O,A,N){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=vc(""+A,O.mode,N),A.return=O,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case E:return N=eo(A.type,A.key,A.props,null,O.mode,N),Ua(N,A),N.return=O,N;case S:return A=Sc(A,O.mode,N),A.return=O,A;case K:var P=A._init;return A=P(A._payload),Z(O,A,N)}if(ot(A)||$(A))return A=ys(A,O.mode,N,null),A.return=O,A;if(typeof A.then=="function")return Z(O,Eo(A),N);if(A.$$typeof===X)return Z(O,lo(O,A),N);vo(O,A)}return null}function U(O,A,N,P){var it=A!==null?A.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return it!==null?null:v(O,A,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case E:return N.key===it?R(O,A,N,P):null;case S:return N.key===it?z(O,A,N,P):null;case K:return it=N._init,N=it(N._payload),U(O,A,N,P)}if(ot(N)||$(N))return it!==null?null:B(O,A,N,P,null);if(typeof N.then=="function")return U(O,A,Eo(N),P);if(N.$$typeof===X)return U(O,A,lo(O,N),P);vo(O,N)}return null}function Y(O,A,N,P,it){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return O=O.get(N)||null,v(A,O,""+P,it);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case E:return O=O.get(P.key===null?N:P.key)||null,R(A,O,P,it);case S:return O=O.get(P.key===null?N:P.key)||null,z(A,O,P,it);case K:var xt=P._init;return P=xt(P._payload),Y(O,A,N,P,it)}if(ot(P)||$(P))return O=O.get(N)||null,B(A,O,P,it,null);if(typeof P.then=="function")return Y(O,A,N,Eo(P),it);if(P.$$typeof===X)return Y(O,A,N,lo(A,P),it);vo(A,P)}return null}function gt(O,A,N,P){for(var it=null,xt=null,rt=A,dt=A=0,me=null;rt!==null&&dt<N.length;dt++){rt.index>dt?(me=rt,rt=null):me=rt.sibling;var Ot=U(O,rt,N[dt],P);if(Ot===null){rt===null&&(rt=me);break}e&&rt&&Ot.alternate===null&&i(O,rt),A=g(Ot,A,dt),xt===null?it=Ot:xt.sibling=Ot,xt=Ot,rt=me}if(dt===N.length)return l(O,rt),It&&Es(O,dt),it;if(rt===null){for(;dt<N.length;dt++)rt=Z(O,N[dt],P),rt!==null&&(A=g(rt,A,dt),xt===null?it=rt:xt.sibling=rt,xt=rt);return It&&Es(O,dt),it}for(rt=o(rt);dt<N.length;dt++)me=Y(rt,O,dt,N[dt],P),me!==null&&(e&&me.alternate!==null&&rt.delete(me.key===null?dt:me.key),A=g(me,A,dt),xt===null?it=me:xt.sibling=me,xt=me);return e&&rt.forEach(function(Wi){return i(O,Wi)}),It&&Es(O,dt),it}function ft(O,A,N,P){if(N==null)throw Error(s(151));for(var it=null,xt=null,rt=A,dt=A=0,me=null,Ot=N.next();rt!==null&&!Ot.done;dt++,Ot=N.next()){rt.index>dt?(me=rt,rt=null):me=rt.sibling;var Wi=U(O,rt,Ot.value,P);if(Wi===null){rt===null&&(rt=me);break}e&&rt&&Wi.alternate===null&&i(O,rt),A=g(Wi,A,dt),xt===null?it=Wi:xt.sibling=Wi,xt=Wi,rt=me}if(Ot.done)return l(O,rt),It&&Es(O,dt),it;if(rt===null){for(;!Ot.done;dt++,Ot=N.next())Ot=Z(O,Ot.value,P),Ot!==null&&(A=g(Ot,A,dt),xt===null?it=Ot:xt.sibling=Ot,xt=Ot);return It&&Es(O,dt),it}for(rt=o(rt);!Ot.done;dt++,Ot=N.next())Ot=Y(rt,O,dt,Ot.value,P),Ot!==null&&(e&&Ot.alternate!==null&&rt.delete(Ot.key===null?dt:Ot.key),A=g(Ot,A,dt),xt===null?it=Ot:xt.sibling=Ot,xt=Ot);return e&&rt.forEach(function(av){return i(O,av)}),It&&Es(O,dt),it}function Pt(O,A,N,P){if(typeof N=="object"&&N!==null&&N.type===x&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case E:t:{for(var it=N.key;A!==null;){if(A.key===it){if(it=N.type,it===x){if(A.tag===7){l(O,A.sibling),P=h(A,N.props.children),P.return=O,O=P;break t}}else if(A.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===K&&A_(it)===A.type){l(O,A.sibling),P=h(A,N.props),Ua(P,N),P.return=O,O=P;break t}l(O,A);break}else i(O,A);A=A.sibling}N.type===x?(P=ys(N.props.children,O.mode,P,N.key),P.return=O,O=P):(P=eo(N.type,N.key,N.props,null,O.mode,P),Ua(P,N),P.return=O,O=P)}return p(O);case S:t:{for(it=N.key;A!==null;){if(A.key===it)if(A.tag===4&&A.stateNode.containerInfo===N.containerInfo&&A.stateNode.implementation===N.implementation){l(O,A.sibling),P=h(A,N.children||[]),P.return=O,O=P;break t}else{l(O,A);break}else i(O,A);A=A.sibling}P=Sc(N,O.mode,P),P.return=O,O=P}return p(O);case K:return it=N._init,N=it(N._payload),Pt(O,A,N,P)}if(ot(N))return gt(O,A,N,P);if($(N)){if(it=$(N),typeof it!="function")throw Error(s(150));return N=it.call(N),ft(O,A,N,P)}if(typeof N.then=="function")return Pt(O,A,Eo(N),P);if(N.$$typeof===X)return Pt(O,A,lo(O,N),P);vo(O,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,A!==null&&A.tag===6?(l(O,A.sibling),P=h(A,N),P.return=O,O=P):(l(O,A),P=vc(N,O.mode,P),P.return=O,O=P),p(O)):l(O,A)}return function(O,A,N,P){try{Ga=0;var it=Pt(O,A,N,P);return ml=null,it}catch(rt){if(rt===Aa||rt===ro)throw rt;var xt=Je(29,rt,null,O.mode);return xt.lanes=P,xt.return=O,xt}finally{}}}var yl=M_(!0),w_=M_(!1),fn=F(null),Xn=null;function zi(e){var i=e.alternate;Q(oe,oe.current&1),Q(fn,e),Xn===null&&(i===null||fl.current!==null||i.memoizedState!==null)&&(Xn=e)}function O_(e){if(e.tag===22){if(Q(oe,oe.current),Q(fn,e),Xn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Xn=e)}}else Gi()}function Gi(){Q(oe,oe.current),Q(fn,fn.current)}function si(e){G(fn),Xn===e&&(Xn=null),G(oe)}var oe=F(0);function So(e){for(var i=e;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ph(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function th(e,i,l,o){i=e.memoizedState,l=l(o,i),l=l==null?i:m({},i,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var eh={enqueueSetState:function(e,i,l){e=e._reactInternals;var o=nn(),h=Li(o);h.payload=i,l!=null&&(h.callback=l),i=Ii(e,h,o),i!==null&&(sn(i,e,o),wa(i,e,o))},enqueueReplaceState:function(e,i,l){e=e._reactInternals;var o=nn(),h=Li(o);h.tag=1,h.payload=i,l!=null&&(h.callback=l),i=Ii(e,h,o),i!==null&&(sn(i,e,o),wa(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var l=nn(),o=Li(l);o.tag=2,i!=null&&(o.callback=i),i=Ii(e,o,l),i!==null&&(sn(i,e,l),wa(i,e,l))}};function D_(e,i,l,o,h,g,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,g,p):i.prototype&&i.prototype.isPureReactComponent?!Ea(l,o)||!Ea(h,g):!0}function L_(e,i,l,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,o),i.state!==e&&eh.enqueueReplaceState(i,i.state,null)}function bs(e,i){var l=i;if("ref"in i){l={};for(var o in i)o!=="ref"&&(l[o]=i[o])}if(e=e.defaultProps){l===i&&(l=m({},l));for(var h in e)l[h]===void 0&&(l[h]=e[h])}return l}var xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function I_(e){xo(e)}function N_(e){console.error(e)}function z_(e){xo(e)}function To(e,i){try{var l=e.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function G_(e,i,l){try{var o=e.onCaughtError;o(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nh(e,i,l){return l=Li(l),l.tag=3,l.payload={element:null},l.callback=function(){To(e,i)},l}function U_(e){return e=Li(e),e.tag=3,e}function Y_(e,i,l,o){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;e.payload=function(){return h(g)},e.callback=function(){G_(i,l,o)}}var p=l.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){G_(i,l,o),typeof h!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function aE(e,i,l,o,h){if(l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=l.alternate,i!==null&&Ra(i,l,h,!0),l=fn.current,l!==null){switch(l.tag){case 13:return Xn===null?bh():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=h,o===Dc?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([o]):i.add(o),Mh(e,o,h)),!1;case 22:return l.flags|=65536,o===Dc?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([o]):l.add(o)),Mh(e,o,h)),!1}throw Error(s(435,l.tag))}return Mh(e,o,h),bh(),!1}if(It)return i=fn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Rc&&(e=Error(s(422),{cause:o}),Ta(on(e,l)))):(o!==Rc&&(i=Error(s(423),{cause:o}),Ta(on(i,l))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=on(o,l),h=nh(e.stateNode,o,h),Nc(e,h),$t!==4&&($t=2)),!1;var g=Error(s(520),{cause:o});if(g=on(g,l),ka===null?ka=[g]:ka.push(g),$t!==4&&($t=2),i===null)return!0;o=on(o,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,e=h&-h,l.lanes|=e,e=nh(l.stateNode,o,e),Nc(l,e),!1;case 1:if(i=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Hi===null||!Hi.has(g))))return l.flags|=65536,h&=-h,l.lanes|=h,h=U_(h),Y_(h,e,l,o),Nc(l,h),!1}l=l.return}while(l!==null);return!1}var X_=Error(s(461)),ge=!1;function Se(e,i,l,o){i.child=e===null?w_(i,null,l,o):yl(i,e.child,l,o)}function F_(e,i,l,o,h){l=l.render;var g=i.ref;if("ref"in o){var p={};for(var v in o)v!=="ref"&&(p[v]=o[v])}else p=o;return Ts(i),o=Xc(e,i,l,p,g,h),v=Fc(),e!==null&&!ge?(Bc(e,i,h),li(e,i,h)):(It&&v&&xc(i),i.flags|=1,Se(e,i,o,h),i.child)}function B_(e,i,l,o,h){if(e===null){var g=l.type;return typeof g=="function"&&!Ec(g)&&g.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=g,H_(e,i,g,o,h)):(e=eo(l.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!ch(e,h)){var p=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ea,l(p,o)&&e.ref===i.ref)return li(e,i,h)}return i.flags|=1,e=Jn(g,o),e.ref=i.ref,e.return=i,i.child=e}function H_(e,i,l,o,h){if(e!==null){var g=e.memoizedProps;if(Ea(g,o)&&e.ref===i.ref)if(ge=!1,i.pendingProps=o=g,ch(e,h))(e.flags&131072)!==0&&(ge=!0);else return i.lanes=e.lanes,li(e,i,h)}return ih(e,i,l,o,h)}function P_(e,i,l){var o=i.pendingProps,h=o.children,g=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=g!==null?g.baseLanes|l:l,e!==null){for(h=i.child=e.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;i.childLanes=g&~o}else i.childLanes=0,i.child=null;return k_(e,i,o,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ao(i,g!==null?g.cachePool:null),g!==null?Hg(i,g):Gc(),O_(i);else return i.lanes=i.childLanes=536870912,k_(e,i,g!==null?g.baseLanes|l:l,l)}else g!==null?(ao(i,g.cachePool),Hg(i,g),Gi(),i.memoizedState=null):(e!==null&&ao(i,null),Gc(),Gi());return Se(e,i,h,l),i.child}function k_(e,i,l,o){var h=Oc();return h=h===null?null:{parent:re._currentValue,pool:h},i.memoizedState={baseLanes:l,cachePool:h},e!==null&&ao(i,null),Gc(),O_(i),e!==null&&Ra(e,i,o,!0),null}function Ro(e,i){var l=i.ref;if(l===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(i.flags|=4194816)}}function ih(e,i,l,o,h){return Ts(i),l=Xc(e,i,l,o,void 0,h),o=Fc(),e!==null&&!ge?(Bc(e,i,h),li(e,i,h)):(It&&o&&xc(i),i.flags|=1,Se(e,i,l,h),i.child)}function Z_(e,i,l,o,h,g){return Ts(i),i.updateQueue=null,l=kg(i,o,l,h),Pg(e),o=Fc(),e!==null&&!ge?(Bc(e,i,g),li(e,i,g)):(It&&o&&xc(i),i.flags|=1,Se(e,i,l,g),i.child)}function j_(e,i,l,o,h){if(Ts(i),i.stateNode===null){var g=rl,p=l.contextType;typeof p=="object"&&p!==null&&(g=Ae(p)),g=new l(o,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=eh,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=o,g.state=i.memoizedState,g.refs={},Lc(i),p=l.contextType,g.context=typeof p=="object"&&p!==null?Ae(p):rl,g.state=i.memoizedState,p=l.getDerivedStateFromProps,typeof p=="function"&&(th(i,l,p,o),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(p=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),p!==g.state&&eh.enqueueReplaceState(g,g.state,null),Da(i,o,g,h),Oa(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){g=i.stateNode;var v=i.memoizedProps,R=bs(l,v);g.props=R;var z=g.context,B=l.contextType;p=rl,typeof B=="object"&&B!==null&&(p=Ae(B));var Z=l.getDerivedStateFromProps;B=typeof Z=="function"||typeof g.getSnapshotBeforeUpdate=="function",v=i.pendingProps!==v,B||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v||z!==p)&&L_(i,g,o,p),Di=!1;var U=i.memoizedState;g.state=U,Da(i,o,g,h),Oa(),z=i.memoizedState,v||U!==z||Di?(typeof Z=="function"&&(th(i,l,Z,o),z=i.memoizedState),(R=Di||D_(i,l,R,o,U,z,p))?(B||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),g.props=o,g.state=z,g.context=p,o=R):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{g=i.stateNode,Ic(e,i),p=i.memoizedProps,B=bs(l,p),g.props=B,Z=i.pendingProps,U=g.context,z=l.contextType,R=rl,typeof z=="object"&&z!==null&&(R=Ae(z)),v=l.getDerivedStateFromProps,(z=typeof v=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(p!==Z||U!==R)&&L_(i,g,o,R),Di=!1,U=i.memoizedState,g.state=U,Da(i,o,g,h),Oa();var Y=i.memoizedState;p!==Z||U!==Y||Di||e!==null&&e.dependencies!==null&&so(e.dependencies)?(typeof v=="function"&&(th(i,l,v,o),Y=i.memoizedState),(B=Di||D_(i,l,B,o,U,Y,R)||e!==null&&e.dependencies!==null&&so(e.dependencies))?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,Y,R),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,Y,R)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=Y),g.props=o,g.state=Y,g.context=R,o=B):(typeof g.componentDidUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(i.flags|=1024),o=!1)}return g=o,Ro(e,i),o=(i.flags&128)!==0,g||o?(g=i.stateNode,l=o&&typeof l.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&o?(i.child=yl(i,e.child,null,h),i.child=yl(i,null,l,h)):Se(e,i,l,h),i.memoizedState=g.state,e=i.child):e=li(e,i,h),e}function K_(e,i,l,o){return xa(),i.flags|=256,Se(e,i,l,o),i.child}var sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lh(e){return{baseLanes:e,cachePool:Ng()}}function ah(e,i,l){return e=e!==null?e.childLanes&~l:0,i&&(e|=dn),e}function q_(e,i,l){var o=i.pendingProps,h=!1,g=(i.flags&128)!==0,p;if((p=g)||(p=e!==null&&e.memoizedState===null?!1:(oe.current&2)!==0),p&&(h=!0,i.flags&=-129),p=(i.flags&32)!==0,i.flags&=-33,e===null){if(It){if(h?zi(i):Gi(),It){var v=Jt,R;if(R=v){t:{for(R=v,v=Yn;R.nodeType!==8;){if(!v){v=null;break t}if(R=An(R.nextSibling),R===null){v=null;break t}}v=R}v!==null?(i.memoizedState={dehydrated:v,treeContext:ps!==null?{id:$n,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},R=Je(18,null,null,0),R.stateNode=v,R.return=i,i.child=R,Ie=i,Jt=null,R=!0):R=!1}R||Ss(i)}if(v=i.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Ph(v)?i.lanes=32:i.lanes=536870912,null;si(i)}return v=o.children,o=o.fallback,h?(Gi(),h=i.mode,v=Co({mode:"hidden",children:v},h),o=ys(o,h,l,null),v.return=i,o.return=i,v.sibling=o,i.child=v,h=i.child,h.memoizedState=lh(l),h.childLanes=ah(e,p,l),i.memoizedState=sh,o):(zi(i),rh(i,v))}if(R=e.memoizedState,R!==null&&(v=R.dehydrated,v!==null)){if(g)i.flags&256?(zi(i),i.flags&=-257,i=oh(e,i,l)):i.memoizedState!==null?(Gi(),i.child=e.child,i.flags|=128,i=null):(Gi(),h=o.fallback,v=i.mode,o=Co({mode:"visible",children:o.children},v),h=ys(h,v,l,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,yl(i,e.child,null,l),o=i.child,o.memoizedState=lh(l),o.childLanes=ah(e,p,l),i.memoizedState=sh,i=h);else if(zi(i),Ph(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(s(419)),o.stack="",o.digest=p,Ta({value:o,source:null,stack:null}),i=oh(e,i,l)}else if(ge||Ra(e,i,l,!1),p=(l&e.childLanes)!==0,ge||p){if(p=jt,p!==null&&(o=l&-l,o=(o&42)!==0?1:Rn(o),o=(o&(p.suspendedLanes|l))!==0?0:o,o!==0&&o!==R.retryLane))throw R.retryLane=o,al(e,o),sn(p,e,o),X_;v.data==="$?"||bh(),i=oh(e,i,l)}else v.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,Jt=An(v.nextSibling),Ie=i,It=!0,vs=null,Yn=!1,e!==null&&(cn[hn++]=$n,cn[hn++]=ti,cn[hn++]=ps,$n=e.id,ti=e.overflow,ps=i),i=rh(i,o.children),i.flags|=4096);return i}return h?(Gi(),h=o.fallback,v=i.mode,R=e.child,z=R.sibling,o=Jn(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?h=Jn(z,h):(h=ys(h,v,l,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,v=e.child.memoizedState,v===null?v=lh(l):(R=v.cachePool,R!==null?(z=re._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=Ng(),v={baseLanes:v.baseLanes|l,cachePool:R}),h.memoizedState=v,h.childLanes=ah(e,p,l),i.memoizedState=sh,o):(zi(i),l=e.child,e=l.sibling,l=Jn(l,{mode:"visible",children:o.children}),l.return=i,l.sibling=null,e!==null&&(p=i.deletions,p===null?(i.deletions=[e],i.flags|=16):p.push(e)),i.child=l,i.memoizedState=null,l)}function rh(e,i){return i=Co({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Co(e,i){return e=Je(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function oh(e,i,l){return yl(i,e.child,null,l),e=rh(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function V_(e,i,l){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),bc(e.return,i,l)}function uh(e,i,l,o,h){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:l,tailMode:h}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=l,g.tailMode=h)}function W_(e,i,l){var o=i.pendingProps,h=o.revealOrder,g=o.tail;if(Se(e,i,o.children,l),o=oe.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&V_(e,l,i);else if(e.tag===19)V_(e,l,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Q(oe,o),h){case"forwards":for(l=i.child,h=null;l!==null;)e=l.alternate,e!==null&&So(e)===null&&(h=l),l=l.sibling;l=h,l===null?(h=i.child,i.child=null):(h=l.sibling,l.sibling=null),uh(i,!1,h,l,g);break;case"backwards":for(l=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&So(e)===null){i.child=h;break}e=h.sibling,h.sibling=l,l=h,h=e}uh(i,!0,l,null,g);break;case"together":uh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function li(e,i,l){if(e!==null&&(i.dependencies=e.dependencies),Bi|=i.lanes,(l&i.childLanes)===0)if(e!==null){if(Ra(e,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,l=Jn(e,e.pendingProps),i.child=l,l.return=i;e.sibling!==null;)e=e.sibling,l=l.sibling=Jn(e,e.pendingProps),l.return=i;l.sibling=null}return i.child}function ch(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&so(e)))}function rE(e,i,l){switch(i.tag){case 3:bt(i,i.stateNode.containerInfo),Oi(i,re,e.memoizedState.cache),xa();break;case 27:case 5:Ee(i);break;case 4:bt(i,i.stateNode.containerInfo);break;case 10:Oi(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(zi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?q_(e,i,l):(zi(i),e=li(e,i,l),e!==null?e.sibling:null);zi(i);break;case 19:var h=(e.flags&128)!==0;if(o=(l&i.childLanes)!==0,o||(Ra(e,i,l,!1),o=(l&i.childLanes)!==0),h){if(o)return W_(e,i,l);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Q(oe,oe.current),o)break;return null;case 22:case 23:return i.lanes=0,P_(e,i,l);case 24:Oi(i,re,e.memoizedState.cache)}return li(e,i,l)}function Q_(e,i,l){if(e!==null)if(e.memoizedProps!==i.pendingProps)ge=!0;else{if(!ch(e,l)&&(i.flags&128)===0)return ge=!1,rE(e,i,l);ge=(e.flags&131072)!==0}else ge=!1,It&&(i.flags&1048576)!==0&&Ag(i,io,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Ec(o)?(e=bs(o,e),i.tag=1,i=j_(null,i,o,e,l)):(i.tag=0,i=ih(null,i,o,e,l));else{if(o!=null){if(h=o.$$typeof,h===D){i.tag=11,i=F_(null,i,o,e,l);break t}else if(h===q){i.tag=14,i=B_(null,i,o,e,l);break t}}throw i=st(o)||o,Error(s(306,i,""))}}return i;case 0:return ih(e,i,i.type,i.pendingProps,l);case 1:return o=i.type,h=bs(o,i.pendingProps),j_(e,i,o,h,l);case 3:t:{if(bt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var g=i.memoizedState;h=g.element,Ic(e,i),Da(i,o,null,l);var p=i.memoizedState;if(o=p.cache,Oi(i,re,o),o!==g.cache&&Ac(i,[re],l,!0),Oa(),o=p.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:p.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=K_(e,i,o,l);break t}else if(o!==h){h=on(Error(s(424)),i),Ta(h),i=K_(e,i,o,l);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Jt=An(e.firstChild),Ie=i,It=!0,vs=null,Yn=!0,l=w_(i,null,o,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(xa(),o===h){i=li(e,i,l);break t}Se(e,i,o,l)}i=i.child}return i;case 26:return Ro(e,i),e===null?(l=ey(i.type,null,i.pendingProps,null))?i.memoizedState=l:It||(l=i.type,e=i.pendingProps,o=Xo(at.current).createElement(l),o[Zt]=i,o[Tt]=e,Te(o,l,e),de(o),i.stateNode=o):i.memoizedState=ey(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ee(i),e===null&&It&&(o=i.stateNode=Jm(i.type,i.pendingProps,at.current),Ie=i,Yn=!0,h=Jt,Zi(i.type)?(kh=h,Jt=An(o.firstChild)):Jt=h),Se(e,i,i.pendingProps.children,l),Ro(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&It&&((h=o=Jt)&&(o=zE(o,i.type,i.pendingProps,Yn),o!==null?(i.stateNode=o,Ie=i,Jt=An(o.firstChild),Yn=!1,h=!0):h=!1),h||Ss(i)),Ee(i),h=i.type,g=i.pendingProps,p=e!==null?e.memoizedProps:null,o=g.children,Fh(h,g)?o=null:p!==null&&Fh(h,p)&&(i.flags|=32),i.memoizedState!==null&&(h=Xc(e,i,$1,null,null,l),$a._currentValue=h),Ro(e,i),Se(e,i,o,l),i.child;case 6:return e===null&&It&&((e=l=Jt)&&(l=GE(l,i.pendingProps,Yn),l!==null?(i.stateNode=l,Ie=i,Jt=null,e=!0):e=!1),e||Ss(i)),null;case 13:return q_(e,i,l);case 4:return bt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=yl(i,null,o,l):Se(e,i,o,l),i.child;case 11:return F_(e,i,i.type,i.pendingProps,l);case 7:return Se(e,i,i.pendingProps,l),i.child;case 8:return Se(e,i,i.pendingProps.children,l),i.child;case 12:return Se(e,i,i.pendingProps.children,l),i.child;case 10:return o=i.pendingProps,Oi(i,i.type,o.value),Se(e,i,o.children,l),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ts(i),h=Ae(h),o=o(h),i.flags|=1,Se(e,i,o,l),i.child;case 14:return B_(e,i,i.type,i.pendingProps,l);case 15:return H_(e,i,i.type,i.pendingProps,l);case 19:return W_(e,i,l);case 31:return o=i.pendingProps,l=i.mode,o={mode:o.mode,children:o.children},e===null?(l=Co(o,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=Jn(e.child,o),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return P_(e,i,l);case 24:return Ts(i),o=Ae(re),e===null?(h=Oc(),h===null&&(h=jt,g=Mc(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=l),h=g),i.memoizedState={parent:o,cache:h},Lc(i),Oi(i,re,h)):((e.lanes&l)!==0&&(Ic(e,i),Da(i,null,null,l),Oa()),h=e.memoizedState,g=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Oi(i,re,o)):(o=g.cache,Oi(i,re,o),o!==h.cache&&Ac(i,[re],l,!0))),Se(e,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ai(e){e.flags|=4}function J_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ay(i)){if(i=fn.current,i!==null&&((Mt&4194048)===Mt?Xn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||i!==Xn))throw Ma=Dc,zg;e.flags|=8192}}function bo(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Mi():536870912,e.lanes|=i,Sl|=i)}function Ya(e,i){if(!It)switch(e.tailMode){case"hidden":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Vt(e){var i=e.alternate!==null&&e.alternate.child===e.child,l=0,o=0;if(i)for(var h=e.child;h!==null;)l|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)l|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=l,i}function oE(e,i,l){var o=i.pendingProps;switch(Tc(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(i),null;case 1:return Vt(i),null;case 3:return l=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ni(re),se(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Sa(i)?ai(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Og())),Vt(i),null;case 26:return l=i.memoizedState,e===null?(ai(i),l!==null?(Vt(i),J_(i,l)):(Vt(i),i.flags&=-16777217)):l?l!==e.memoizedState?(ai(i),Vt(i),J_(i,l)):(Vt(i),i.flags&=-16777217):(e.memoizedProps!==o&&ai(i),Vt(i),i.flags&=-16777217),null;case 27:Kn(i),l=at.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ai(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Vt(i),null}e=nt.current,Sa(i)?Mg(i):(e=Jm(h,o,l),i.stateNode=e,ai(i))}return Vt(i),null;case 5:if(Kn(i),l=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ai(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Vt(i),null}if(e=nt.current,Sa(i))Mg(i);else{switch(h=Xo(at.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(l,{is:o.is}):h.createElement(l)}}e[Zt]=i,e[Tt]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Te(e,l,o),l){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ai(i)}}return Vt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&ai(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=at.current,Sa(i)){if(e=i.stateNode,l=i.memoizedProps,o=null,h=Ie,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Zt]=i,e=!!(e.nodeValue===l||o!==null&&o.suppressHydrationWarning===!0||Zm(e.nodeValue,l)),e||Ss(i)}else e=Xo(e).createTextNode(o),e[Zt]=i,i.stateNode=e}return Vt(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Sa(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Zt]=i}else xa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Vt(i),h=!1}else h=Og(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(si(i),i):(si(i),null)}if(si(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=o!==null,e=e!==null&&e.memoizedState!==null,l){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==h&&(o.flags|=2048)}return l!==e&&l&&(i.child.flags|=8192),bo(i,i.updateQueue),Vt(i),null;case 4:return se(),e===null&&zh(i.stateNode.containerInfo),Vt(i),null;case 10:return ni(i.type),Vt(i),null;case 19:if(G(oe),h=i.memoizedState,h===null)return Vt(i),null;if(o=(i.flags&128)!==0,g=h.rendering,g===null)if(o)Ya(h,!1);else{if($t!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=So(e),g!==null){for(i.flags|=128,Ya(h,!1),e=g.updateQueue,i.updateQueue=e,bo(i,e),i.subtreeFlags=0,e=l,l=i.child;l!==null;)bg(l,e),l=l.sibling;return Q(oe,oe.current&1|2),i.child}e=e.sibling}h.tail!==null&&ve()>wo&&(i.flags|=128,o=!0,Ya(h,!1),i.lanes=4194304)}else{if(!o)if(e=So(g),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,bo(i,e),Ya(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!It)return Vt(i),null}else 2*ve()-h.renderingStartTime>wo&&l!==536870912&&(i.flags|=128,o=!0,Ya(h,!1),i.lanes=4194304);h.isBackwards?(g.sibling=i.child,i.child=g):(e=h.last,e!==null?e.sibling=g:i.child=g,h.last=g)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=ve(),i.sibling=null,e=oe.current,Q(oe,o?e&1|2:e&1),i):(Vt(i),null);case 22:case 23:return si(i),Uc(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(l&536870912)!==0&&(i.flags&128)===0&&(Vt(i),i.subtreeFlags&6&&(i.flags|=8192)):Vt(i),l=i.updateQueue,l!==null&&bo(i,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==l&&(i.flags|=2048),e!==null&&G(Rs),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ni(re),Vt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function uE(e,i){switch(Tc(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ni(re),se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Kn(i),null;case 13:if(si(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));xa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return G(oe),null;case 4:return se(),null;case 10:return ni(i.type),null;case 22:case 23:return si(i),Uc(),e!==null&&G(Rs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ni(re),null;case 25:return null;default:return null}}function $_(e,i){switch(Tc(i),i.tag){case 3:ni(re),se();break;case 26:case 27:case 5:Kn(i);break;case 4:se();break;case 13:si(i);break;case 19:G(oe);break;case 10:ni(i.type);break;case 22:case 23:si(i),Uc(),e!==null&&G(Rs);break;case 24:ni(re)}}function Xa(e,i){try{var l=i.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var h=o.next;l=h;do{if((l.tag&e)===e){o=void 0;var g=l.create,p=l.inst;o=g(),p.destroy=o}l=l.next}while(l!==h)}}catch(v){kt(i,i.return,v)}}function Ui(e,i,l){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var g=h.next;o=g;do{if((o.tag&e)===e){var p=o.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,h=i;var R=l,z=v;try{z()}catch(B){kt(h,R,B)}}}o=o.next}while(o!==g)}}catch(B){kt(i,i.return,B)}}function tm(e){var i=e.updateQueue;if(i!==null){var l=e.stateNode;try{Bg(i,l)}catch(o){kt(e,e.return,o)}}}function em(e,i,l){l.props=bs(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(o){kt(e,i,o)}}function Fa(e,i){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof l=="function"?e.refCleanup=l(o):l.current=o}}catch(h){kt(e,i,h)}}function Fn(e,i){var l=e.ref,o=e.refCleanup;if(l!==null)if(typeof o=="function")try{o()}catch(h){kt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){kt(e,i,h)}else l.current=null}function nm(e){var i=e.type,l=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&o.focus();break t;case"img":l.src?o.src=l.src:l.srcSet&&(o.srcset=l.srcSet)}}catch(h){kt(e,e.return,h)}}function hh(e,i,l){try{var o=e.stateNode;OE(o,e.type,l,i),o[Tt]=i}catch(h){kt(e,e.return,h)}}function im(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zi(e.type)||e.tag===4}function fh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||im(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dh(e,i,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(e),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Yo));else if(o!==4&&(o===27&&Zi(e.type)&&(l=e.stateNode,i=null),e=e.child,e!==null))for(dh(e,i,l),e=e.sibling;e!==null;)dh(e,i,l),e=e.sibling}function Ao(e,i,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?l.insertBefore(e,i):l.appendChild(e);else if(o!==4&&(o===27&&Zi(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Ao(e,i,l),e=e.sibling;e!==null;)Ao(e,i,l),e=e.sibling}function sm(e){var i=e.stateNode,l=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Te(i,o,l),i[Zt]=e,i[Tt]=l}catch(g){kt(e,e.return,g)}}var ri=!1,ie=!1,gh=!1,lm=typeof WeakSet=="function"?WeakSet:Set,_e=null;function cE(e,i){if(e=e.containerInfo,Yh=Zo,e=mg(e),fc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else t:{l=(l=e.ownerDocument)&&l.defaultView||window;var o=l.getSelection&&l.getSelection();if(o&&o.rangeCount!==0){l=o.anchorNode;var h=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break t}var p=0,v=-1,R=-1,z=0,B=0,Z=e,U=null;e:for(;;){for(var Y;Z!==l||h!==0&&Z.nodeType!==3||(v=p+h),Z!==g||o!==0&&Z.nodeType!==3||(R=p+o),Z.nodeType===3&&(p+=Z.nodeValue.length),(Y=Z.firstChild)!==null;)U=Z,Z=Y;for(;;){if(Z===e)break e;if(U===l&&++z===h&&(v=p),U===g&&++B===o&&(R=p),(Y=Z.nextSibling)!==null)break;Z=U,U=Z.parentNode}Z=Y}l=v===-1||R===-1?null:{start:v,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(Xh={focusedElem:e,selectionRange:l},Zo=!1,_e=i;_e!==null;)if(i=_e,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,_e=e;else for(;_e!==null;){switch(i=_e,g=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,l=i,h=g.memoizedProps,g=g.memoizedState,o=l.stateNode;try{var gt=bs(l.type,h,l.elementType===l.type);e=o.getSnapshotBeforeUpdate(gt,g),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){kt(l,l.return,ft)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,l=e.nodeType,l===9)Hh(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,_e=e;break}_e=i.return}}function am(e,i,l){var o=l.flags;switch(l.tag){case 0:case 11:case 15:Yi(e,l),o&4&&Xa(5,l);break;case 1:if(Yi(e,l),o&4)if(e=l.stateNode,i===null)try{e.componentDidMount()}catch(p){kt(l,l.return,p)}else{var h=bs(l.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(p){kt(l,l.return,p)}}o&64&&tm(l),o&512&&Fa(l,l.return);break;case 3:if(Yi(e,l),o&64&&(e=l.updateQueue,e!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Bg(e,i)}catch(p){kt(l,l.return,p)}}break;case 27:i===null&&o&4&&sm(l);case 26:case 5:Yi(e,l),i===null&&o&4&&nm(l),o&512&&Fa(l,l.return);break;case 12:Yi(e,l);break;case 13:Yi(e,l),o&4&&um(e,l),o&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=EE.bind(null,l),UE(e,l))));break;case 22:if(o=l.memoizedState!==null||ri,!o){i=i!==null&&i.memoizedState!==null||ie,h=ri;var g=ie;ri=o,(ie=i)&&!g?Xi(e,l,(l.subtreeFlags&8772)!==0):Yi(e,l),ri=h,ie=g}break;case 30:break;default:Yi(e,l)}}function rm(e){var i=e.alternate;i!==null&&(e.alternate=null,rm(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ku(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qt=null,Fe=!1;function oi(e,i,l){for(l=l.child;l!==null;)om(e,i,l),l=l.sibling}function om(e,i,l){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(zn,l)}catch{}switch(l.tag){case 26:ie||Fn(l,i),oi(e,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ie||Fn(l,i);var o=qt,h=Fe;Zi(l.type)&&(qt=l.stateNode,Fe=!1),oi(e,i,l),Va(l.stateNode),qt=o,Fe=h;break;case 5:ie||Fn(l,i);case 6:if(o=qt,h=Fe,qt=null,oi(e,i,l),qt=o,Fe=h,qt!==null)if(Fe)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(l.stateNode)}catch(g){kt(l,i,g)}else try{qt.removeChild(l.stateNode)}catch(g){kt(l,i,g)}break;case 18:qt!==null&&(Fe?(e=qt,Wm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ir(e)):Wm(qt,l.stateNode));break;case 4:o=qt,h=Fe,qt=l.stateNode.containerInfo,Fe=!0,oi(e,i,l),qt=o,Fe=h;break;case 0:case 11:case 14:case 15:ie||Ui(2,l,i),ie||Ui(4,l,i),oi(e,i,l);break;case 1:ie||(Fn(l,i),o=l.stateNode,typeof o.componentWillUnmount=="function"&&em(l,i,o)),oi(e,i,l);break;case 21:oi(e,i,l);break;case 22:ie=(o=ie)||l.memoizedState!==null,oi(e,i,l),ie=o;break;default:oi(e,i,l)}}function um(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ir(e)}catch(l){kt(i,i.return,l)}}function hE(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new lm),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new lm),i;default:throw Error(s(435,e.tag))}}function _h(e,i){var l=hE(e);i.forEach(function(o){var h=vE.bind(null,e,o);l.has(o)||(l.add(o),o.then(h,h))})}function $e(e,i){var l=i.deletions;if(l!==null)for(var o=0;o<l.length;o++){var h=l[o],g=e,p=i,v=p;t:for(;v!==null;){switch(v.tag){case 27:if(Zi(v.type)){qt=v.stateNode,Fe=!1;break t}break;case 5:qt=v.stateNode,Fe=!1;break t;case 3:case 4:qt=v.stateNode.containerInfo,Fe=!0;break t}v=v.return}if(qt===null)throw Error(s(160));om(g,p,h),qt=null,Fe=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)cm(i,e),i=i.sibling}var bn=null;function cm(e,i){var l=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$e(i,e),tn(e),o&4&&(Ui(3,e,e.return),Xa(3,e),Ui(5,e,e.return));break;case 1:$e(i,e),tn(e),o&512&&(ie||l===null||Fn(l,l.return)),o&64&&ri&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?o:l.concat(o))));break;case 26:var h=bn;if($e(i,e),tn(e),o&512&&(ie||l===null||Fn(l,l.return)),o&4){var g=l!==null?l.memoizedState:null;if(o=e.memoizedState,l===null)if(o===null)if(e.stateNode===null){t:{o=e.type,l=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":g=h.getElementsByTagName("title")[0],(!g||g[ca]||g[Zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(o),h.head.insertBefore(g,h.querySelector("head > title"))),Te(g,o,l),g[Zt]=e,de(g),o=g;break t;case"link":var p=sy("link","href",h).get(o+(l.href||""));if(p){for(var v=0;v<p.length;v++)if(g=p[v],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){p.splice(v,1);break e}}g=h.createElement(o),Te(g,o,l),h.head.appendChild(g);break;case"meta":if(p=sy("meta","content",h).get(o+(l.content||""))){for(v=0;v<p.length;v++)if(g=p[v],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){p.splice(v,1);break e}}g=h.createElement(o),Te(g,o,l),h.head.appendChild(g);break;default:throw Error(s(468,o))}g[Zt]=e,de(g),o=g}e.stateNode=o}else ly(h,e.type,e.stateNode);else e.stateNode=iy(h,o,e.memoizedProps);else g!==o?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,o===null?ly(h,e.type,e.stateNode):iy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&hh(e,e.memoizedProps,l.memoizedProps)}break;case 27:$e(i,e),tn(e),o&512&&(ie||l===null||Fn(l,l.return)),l!==null&&o&4&&hh(e,e.memoizedProps,l.memoizedProps);break;case 5:if($e(i,e),tn(e),o&512&&(ie||l===null||Fn(l,l.return)),e.flags&32){h=e.stateNode;try{$s(h,"")}catch(Y){kt(e,e.return,Y)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,hh(e,h,l!==null?l.memoizedProps:h)),o&1024&&(gh=!0);break;case 6:if($e(i,e),tn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,l=e.stateNode;try{l.nodeValue=o}catch(Y){kt(e,e.return,Y)}}break;case 3:if(Ho=null,h=bn,bn=Fo(i.containerInfo),$e(i,e),bn=h,tn(e),o&4&&l!==null&&l.memoizedState.isDehydrated)try{ir(i.containerInfo)}catch(Y){kt(e,e.return,Y)}gh&&(gh=!1,hm(e));break;case 4:o=bn,bn=Fo(e.stateNode.containerInfo),$e(i,e),tn(e),bn=o;break;case 12:$e(i,e),tn(e);break;case 13:$e(i,e),tn(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Sh=ve()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,_h(e,o)));break;case 22:h=e.memoizedState!==null;var R=l!==null&&l.memoizedState!==null,z=ri,B=ie;if(ri=z||h,ie=B||R,$e(i,e),ie=B,ri=z,tn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(l===null||R||ri||ie||As(e)),l=null,i=e;;){if(i.tag===5||i.tag===26){if(l===null){R=l=i;try{if(g=R.stateNode,h)p=g.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=R.stateNode;var Z=R.memoizedProps.style,U=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;v.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(Y){kt(R,R.return,Y)}}}else if(i.tag===6){if(l===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(Y){kt(R,R.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(l=o.retryQueue,l!==null&&(o.retryQueue=null,_h(e,l))));break;case 19:$e(i,e),tn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,_h(e,o)));break;case 30:break;case 21:break;default:$e(i,e),tn(e)}}function tn(e){var i=e.flags;if(i&2){try{for(var l,o=e.return;o!==null;){if(im(o)){l=o;break}o=o.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var h=l.stateNode,g=fh(e);Ao(e,g,h);break;case 5:var p=l.stateNode;l.flags&32&&($s(p,""),l.flags&=-33);var v=fh(e);Ao(e,v,p);break;case 3:case 4:var R=l.stateNode.containerInfo,z=fh(e);dh(e,z,R);break;default:throw Error(s(161))}}catch(B){kt(e,e.return,B)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function hm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;hm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Yi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)am(e,i.alternate,i),i=i.sibling}function As(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ui(4,i,i.return),As(i);break;case 1:Fn(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&em(i,i.return,l),As(i);break;case 27:Va(i.stateNode);case 26:case 5:Fn(i,i.return),As(i);break;case 22:i.memoizedState===null&&As(i);break;case 30:As(i);break;default:As(i)}e=e.sibling}}function Xi(e,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,g=i,p=g.flags;switch(g.tag){case 0:case 11:case 15:Xi(h,g,l),Xa(4,g);break;case 1:if(Xi(h,g,l),o=g,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){kt(o,o.return,z)}if(o=g,h=o.updateQueue,h!==null){var v=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Fg(R[h],v)}catch(z){kt(o,o.return,z)}}l&&p&64&&tm(g),Fa(g,g.return);break;case 27:sm(g);case 26:case 5:Xi(h,g,l),l&&o===null&&p&4&&nm(g),Fa(g,g.return);break;case 12:Xi(h,g,l);break;case 13:Xi(h,g,l),l&&p&4&&um(h,g);break;case 22:g.memoizedState===null&&Xi(h,g,l),Fa(g,g.return);break;case 30:break;default:Xi(h,g,l)}i=i.sibling}}function mh(e,i){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ca(l))}function yh(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ca(e))}function Bn(e,i,l,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fm(e,i,l,o),i=i.sibling}function fm(e,i,l,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Bn(e,i,l,o),h&2048&&Xa(9,i);break;case 1:Bn(e,i,l,o);break;case 3:Bn(e,i,l,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ca(e)));break;case 12:if(h&2048){Bn(e,i,l,o),e=i.stateNode;try{var g=i.memoizedProps,p=g.id,v=g.onPostCommit;typeof v=="function"&&v(p,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){kt(i,i.return,R)}}else Bn(e,i,l,o);break;case 13:Bn(e,i,l,o);break;case 23:break;case 22:g=i.stateNode,p=i.alternate,i.memoizedState!==null?g._visibility&2?Bn(e,i,l,o):Ba(e,i):g._visibility&2?Bn(e,i,l,o):(g._visibility|=2,pl(e,i,l,o,(i.subtreeFlags&10256)!==0)),h&2048&&mh(p,i);break;case 24:Bn(e,i,l,o),h&2048&&yh(i.alternate,i);break;default:Bn(e,i,l,o)}}function pl(e,i,l,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=e,p=i,v=l,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:pl(g,p,v,R,h),Xa(8,p);break;case 23:break;case 22:var B=p.stateNode;p.memoizedState!==null?B._visibility&2?pl(g,p,v,R,h):Ba(g,p):(B._visibility|=2,pl(g,p,v,R,h)),h&&z&2048&&mh(p.alternate,p);break;case 24:pl(g,p,v,R,h),h&&z&2048&&yh(p.alternate,p);break;default:pl(g,p,v,R,h)}i=i.sibling}}function Ba(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=e,o=i,h=o.flags;switch(o.tag){case 22:Ba(l,o),h&2048&&mh(o.alternate,o);break;case 24:Ba(l,o),h&2048&&yh(o.alternate,o);break;default:Ba(l,o)}i=i.sibling}}var Ha=8192;function El(e){if(e.subtreeFlags&Ha)for(e=e.child;e!==null;)dm(e),e=e.sibling}function dm(e){switch(e.tag){case 26:El(e),e.flags&Ha&&e.memoizedState!==null&&WE(bn,e.memoizedState,e.memoizedProps);break;case 5:El(e);break;case 3:case 4:var i=bn;bn=Fo(e.stateNode.containerInfo),El(e),bn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ha,Ha=16777216,El(e),Ha=i):El(e));break;default:El(e)}}function gm(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Pa(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var o=i[l];_e=o,mm(o,e)}gm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_m(e),e=e.sibling}function _m(e){switch(e.tag){case 0:case 11:case 15:Pa(e),e.flags&2048&&Ui(9,e,e.return);break;case 3:Pa(e);break;case 12:Pa(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Mo(e)):Pa(e);break;default:Pa(e)}}function Mo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var o=i[l];_e=o,mm(o,e)}gm(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ui(8,i,i.return),Mo(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Mo(i));break;default:Mo(i)}e=e.sibling}}function mm(e,i){for(;_e!==null;){var l=_e;switch(l.tag){case 0:case 11:case 15:Ui(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var o=l.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ca(l.memoizedState.cache)}if(o=l.child,o!==null)o.return=l,_e=o;else t:for(l=e;_e!==null;){o=_e;var h=o.sibling,g=o.return;if(rm(o),o===l){_e=null;break t}if(h!==null){h.return=g,_e=h;break t}_e=g}}}var fE={getCacheForType:function(e){var i=Ae(re),l=i.data.get(e);return l===void 0&&(l=e(),i.data.set(e,l)),l}},dE=typeof WeakMap=="function"?WeakMap:Map,Ut=0,jt=null,Rt=null,Mt=0,Yt=0,en=null,Fi=!1,vl=!1,ph=!1,ui=0,$t=0,Bi=0,Ms=0,Eh=0,dn=0,Sl=0,ka=null,Be=null,vh=!1,Sh=0,wo=1/0,Oo=null,Hi=null,xe=0,Pi=null,xl=null,Tl=0,xh=0,Th=null,ym=null,Za=0,Rh=null;function nn(){if((Ut&2)!==0&&Mt!==0)return Mt&-Mt;if(L.T!==null){var e=cl;return e!==0?e:Dh()}return Ve()}function pm(){dn===0&&(dn=(Mt&536870912)===0||It?js():536870912);var e=fn.current;return e!==null&&(e.flags|=32),dn}function sn(e,i,l){(e===jt&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Rl(e,0),ki(e,Mt,dn,!1)),Tn(e,l),((Ut&2)===0||e!==jt)&&(e===jt&&((Ut&2)===0&&(Ms|=l),$t===4&&ki(e,Mt,dn,!1)),Hn(e))}function Em(e,i,l){if((Ut&6)!==0)throw Error(s(327));var o=!l&&(i&124)===0&&(i&e.expiredLanes)===0||Ai(e,i),h=o?mE(e,i):Ah(e,i,!0),g=o;do{if(h===0){vl&&!o&&ki(e,i,0,!1);break}else{if(l=e.current.alternate,g&&!gE(l)){h=Ah(e,i,!1),g=!1;continue}if(h===2){if(g=i,e.errorRecoveryDisabledLanes&g)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){i=p;t:{var v=e;h=ka;var R=v.current.memoizedState.isDehydrated;if(R&&(Rl(v,p).flags|=256),p=Ah(v,p,!1),p!==2){if(ph&&!R){v.errorRecoveryDisabledLanes|=g,Ms|=g,h=4;break t}g=Be,Be=h,g!==null&&(Be===null?Be=g:Be.push.apply(Be,g))}h=p}if(g=!1,h!==2)continue}}if(h===1){Rl(e,0),ki(e,i,0,!0);break}t:{switch(o=e,g=h,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ki(o,i,dn,!Fi);break t;case 2:Be=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Sh+300-ve(),10<h)){if(ki(o,i,dn,!Fi),bi(o,0,!0)!==0)break t;o.timeoutHandle=qm(vm.bind(null,o,l,Be,Oo,vh,i,dn,Ms,Sl,Fi,g,2,-0,0),h);break t}vm(o,l,Be,Oo,vh,i,dn,Ms,Sl,Fi,g,0,-0,0)}}break}while(!0);Hn(e)}function vm(e,i,l,o,h,g,p,v,R,z,B,Z,U,Y){if(e.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Ja={stylesheets:null,count:0,unsuspend:VE},dm(i),Z=QE(),Z!==null)){e.cancelPendingCommit=Z(Am.bind(null,e,i,g,l,o,h,p,v,R,B,1,U,Y)),ki(e,g,p,!z);return}Am(e,i,g,l,o,h,p,v,R)}function gE(e){for(var i=e;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var o=0;o<l.length;o++){var h=l[o],g=h.getSnapshot;h=h.value;try{if(!Qe(g(),h))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ki(e,i,l,o){i&=~Eh,i&=~Ms,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var g=31-Ce(h),p=1<<g;o[g]=-1,h&=~p}l!==0&&ua(e,l,i)}function Do(){return(Ut&6)===0?(ja(0),!1):!0}function Ch(){if(Rt!==null){if(Yt===0)var e=Rt.return;else e=Rt,ei=xs=null,Hc(e),ml=null,Ga=0,e=Rt;for(;e!==null;)$_(e.alternate,e),e=e.return;Rt=null}}function Rl(e,i){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,LE(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Ch(),jt=e,Rt=l=Jn(e.current,null),Mt=i,Yt=0,en=null,Fi=!1,vl=Ai(e,i),ph=!1,Sl=dn=Eh=Ms=Bi=$t=0,Be=ka=null,vh=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Ce(o),g=1<<h;i|=e[h],o&=~g}return ui=i,Jr(),l}function Sm(e,i){vt=null,L.H=po,i===Aa||i===ro?(i=Yg(),Yt=3):i===zg?(i=Yg(),Yt=4):Yt=i===X_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,en=i,Rt===null&&($t=1,To(e,on(i,e.current)))}function xm(){var e=L.H;return L.H=po,e===null?po:e}function Tm(){var e=L.A;return L.A=fE,e}function bh(){$t=4,Fi||(Mt&4194048)!==Mt&&fn.current!==null||(vl=!0),(Bi&134217727)===0&&(Ms&134217727)===0||jt===null||ki(jt,Mt,dn,!1)}function Ah(e,i,l){var o=Ut;Ut|=2;var h=xm(),g=Tm();(jt!==e||Mt!==i)&&(Oo=null,Rl(e,i)),i=!1;var p=$t;t:do try{if(Yt!==0&&Rt!==null){var v=Rt,R=en;switch(Yt){case 8:Ch(),p=6;break t;case 3:case 2:case 9:case 6:fn.current===null&&(i=!0);var z=Yt;if(Yt=0,en=null,Cl(e,v,R,z),l&&vl){p=0;break t}break;default:z=Yt,Yt=0,en=null,Cl(e,v,R,z)}}_E(),p=$t;break}catch(B){Sm(e,B)}while(!0);return i&&e.shellSuspendCounter++,ei=xs=null,Ut=o,L.H=h,L.A=g,Rt===null&&(jt=null,Mt=0,Jr()),p}function _E(){for(;Rt!==null;)Rm(Rt)}function mE(e,i){var l=Ut;Ut|=2;var o=xm(),h=Tm();jt!==e||Mt!==i?(Oo=null,wo=ve()+500,Rl(e,i)):vl=Ai(e,i);t:do try{if(Yt!==0&&Rt!==null){i=Rt;var g=en;e:switch(Yt){case 1:Yt=0,en=null,Cl(e,i,g,1);break;case 2:case 9:if(Gg(g)){Yt=0,en=null,Cm(i);break}i=function(){Yt!==2&&Yt!==9||jt!==e||(Yt=7),Hn(e)},g.then(i,i);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Gg(g)?(Yt=0,en=null,Cm(i)):(Yt=0,en=null,Cl(e,i,g,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var v=Rt;if(!p||ay(p)){Yt=0,en=null;var R=v.sibling;if(R!==null)Rt=R;else{var z=v.return;z!==null?(Rt=z,Lo(z)):Rt=null}break e}}Yt=0,en=null,Cl(e,i,g,5);break;case 6:Yt=0,en=null,Cl(e,i,g,6);break;case 8:Ch(),$t=6;break t;default:throw Error(s(462))}}yE();break}catch(B){Sm(e,B)}while(!0);return ei=xs=null,L.H=o,L.A=h,Ut=l,Rt!==null?0:(jt=null,Mt=0,Jr(),$t)}function yE(){for(;Rt!==null&&!Ge();)Rm(Rt)}function Rm(e){var i=Q_(e.alternate,e,ui);e.memoizedProps=e.pendingProps,i===null?Lo(e):Rt=i}function Cm(e){var i=e,l=i.alternate;switch(i.tag){case 15:case 0:i=Z_(l,i,i.pendingProps,i.type,void 0,Mt);break;case 11:i=Z_(l,i,i.pendingProps,i.type.render,i.ref,Mt);break;case 5:Hc(i);default:$_(l,i),i=Rt=bg(i,ui),i=Q_(l,i,ui)}e.memoizedProps=e.pendingProps,i===null?Lo(e):Rt=i}function Cl(e,i,l,o){ei=xs=null,Hc(i),ml=null,Ga=0;var h=i.return;try{if(aE(e,h,i,l,Mt)){$t=1,To(e,on(l,e.current)),Rt=null;return}}catch(g){if(h!==null)throw Rt=h,g;$t=1,To(e,on(l,e.current)),Rt=null;return}i.flags&32768?(It||o===1?e=!0:vl||(Mt&536870912)!==0?e=!1:(Fi=e=!0,(o===2||o===9||o===3||o===6)&&(o=fn.current,o!==null&&o.tag===13&&(o.flags|=16384))),bm(i,e)):Lo(i)}function Lo(e){var i=e;do{if((i.flags&32768)!==0){bm(i,Fi);return}e=i.return;var l=oE(i.alternate,i,ui);if(l!==null){Rt=l;return}if(i=i.sibling,i!==null){Rt=i;return}Rt=i=e}while(i!==null);$t===0&&($t=5)}function bm(e,i){do{var l=uE(e.alternate,e);if(l!==null){l.flags&=32767,Rt=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=l}while(e!==null);$t=6,Rt=null}function Am(e,i,l,o,h,g,p,v,R){e.cancelPendingCommit=null;do Io();while(xe!==0);if((Ut&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=yc,Fr(e,l,g,p,v,R),e===jt&&(Rt=jt=null,Mt=0),xl=i,Pi=e,Tl=l,xh=g,Th=h,ym=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,SE(xn,function(){return Lm(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,h=k.p,k.p=2,p=Ut,Ut|=4;try{cE(e,i,l)}finally{Ut=p,k.p=h,L.T=o}}xe=1,Mm(),wm(),Om()}}function Mm(){if(xe===1){xe=0;var e=Pi,i=xl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=L.T,L.T=null;var o=k.p;k.p=2;var h=Ut;Ut|=4;try{cm(i,e);var g=Xh,p=mg(e.containerInfo),v=g.focusedElem,R=g.selectionRange;if(p!==v&&v&&v.ownerDocument&&_g(v.ownerDocument.documentElement,v)){if(R!==null&&fc(v)){var z=R.start,B=R.end;if(B===void 0&&(B=z),"selectionStart"in v)v.selectionStart=z,v.selectionEnd=Math.min(B,v.value.length);else{var Z=v.ownerDocument||document,U=Z&&Z.defaultView||window;if(U.getSelection){var Y=U.getSelection(),gt=v.textContent.length,ft=Math.min(R.start,gt),Pt=R.end===void 0?ft:Math.min(R.end,gt);!Y.extend&&ft>Pt&&(p=Pt,Pt=ft,ft=p);var O=gg(v,ft),A=gg(v,Pt);if(O&&A&&(Y.rangeCount!==1||Y.anchorNode!==O.node||Y.anchorOffset!==O.offset||Y.focusNode!==A.node||Y.focusOffset!==A.offset)){var N=Z.createRange();N.setStart(O.node,O.offset),Y.removeAllRanges(),ft>Pt?(Y.addRange(N),Y.extend(A.node,A.offset)):(N.setEnd(A.node,A.offset),Y.addRange(N))}}}}for(Z=[],Y=v;Y=Y.parentNode;)Y.nodeType===1&&Z.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<Z.length;v++){var P=Z[v];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Zo=!!Yh,Xh=Yh=null}finally{Ut=h,k.p=o,L.T=l}}e.current=i,xe=2}}function wm(){if(xe===2){xe=0;var e=Pi,i=xl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=L.T,L.T=null;var o=k.p;k.p=2;var h=Ut;Ut|=4;try{am(e,i.alternate,i)}finally{Ut=h,k.p=o,L.T=l}}xe=3}}function Om(){if(xe===4||xe===3){xe=0,ln();var e=Pi,i=xl,l=Tl,o=ym;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,xl=Pi=null,Dm(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Hi=null),be(l),i=i.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(zn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=L.T,h=k.p,k.p=2,L.T=null;try{for(var g=e.onRecoverableError,p=0;p<o.length;p++){var v=o[p];g(v.value,{componentStack:v.stack})}}finally{L.T=i,k.p=h}}(Tl&3)!==0&&Io(),Hn(e),h=e.pendingLanes,(l&4194090)!==0&&(h&42)!==0?e===Rh?Za++:(Za=0,Rh=e):Za=0,ja(0)}}function Dm(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ca(i)))}function Io(e){return Mm(),wm(),Om(),Lm()}function Lm(){if(xe!==5)return!1;var e=Pi,i=xh;xh=0;var l=be(Tl),o=L.T,h=k.p;try{k.p=32>l?32:l,L.T=null,l=Th,Th=null;var g=Pi,p=Tl;if(xe=0,xl=Pi=null,Tl=0,(Ut&6)!==0)throw Error(s(331));var v=Ut;if(Ut|=4,_m(g.current),fm(g,g.current,p,l),Ut=v,ja(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(zn,g)}catch{}return!0}finally{k.p=h,L.T=o,Dm(e,i)}}function Im(e,i,l){i=on(l,i),i=nh(e.stateNode,i,2),e=Ii(e,i,2),e!==null&&(Tn(e,2),Hn(e))}function kt(e,i,l){if(e.tag===3)Im(e,e,l);else for(;i!==null;){if(i.tag===3){Im(i,e,l);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hi===null||!Hi.has(o))){e=on(l,e),l=U_(2),o=Ii(i,l,2),o!==null&&(Y_(l,o,i,e),Tn(o,2),Hn(o));break}}i=i.return}}function Mh(e,i,l){var o=e.pingCache;if(o===null){o=e.pingCache=new dE;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(l)||(ph=!0,h.add(l),e=pE.bind(null,e,i,l),i.then(e,e))}function pE(e,i,l){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,jt===e&&(Mt&l)===l&&($t===4||$t===3&&(Mt&62914560)===Mt&&300>ve()-Sh?(Ut&2)===0&&Rl(e,0):Eh|=l,Sl===Mt&&(Sl=0)),Hn(e)}function Nm(e,i){i===0&&(i=Mi()),e=al(e,i),e!==null&&(Tn(e,i),Hn(e))}function EE(e){var i=e.memoizedState,l=0;i!==null&&(l=i.retryLane),Nm(e,l)}function vE(e,i){var l=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(l=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Nm(e,l)}function SE(e,i){return qn(e,i)}var No=null,bl=null,wh=!1,zo=!1,Oh=!1,ws=0;function Hn(e){e!==bl&&e.next===null&&(bl===null?No=bl=e:bl=bl.next=e),zo=!0,wh||(wh=!0,TE())}function ja(e,i){if(!Oh&&zo){Oh=!0;do for(var l=!1,o=No;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var g=0;else{var p=o.suspendedLanes,v=o.pingedLanes;g=(1<<31-Ce(42|e)+1)-1,g&=h&~(p&~v),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,Ym(o,g))}else g=Mt,g=bi(o,o===jt?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||Ai(o,g)||(l=!0,Ym(o,g));o=o.next}while(l);Oh=!1}}function xE(){zm()}function zm(){zo=wh=!1;var e=0;ws!==0&&(DE()&&(e=ws),ws=0);for(var i=ve(),l=null,o=No;o!==null;){var h=o.next,g=Gm(o,i);g===0?(o.next=null,l===null?No=h:l.next=h,h===null&&(bl=l)):(l=o,(e!==0||(g&3)!==0)&&(zo=!0)),o=h}ja(e)}function Gm(e,i){for(var l=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var p=31-Ce(g),v=1<<p,R=h[p];R===-1?((v&l)===0||(v&o)!==0)&&(h[p]=Zu(v,i)):R<=i&&(e.expiredLanes|=v),g&=~v}if(i=jt,l=Mt,l=bi(e,e===i?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,l===0||e===i&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Sn(o),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Ai(e,l)){if(i=l&-l,i===e.callbackPriority)return i;switch(o!==null&&Sn(o),be(l)){case 2:case 8:l=Nn;break;case 32:l=xn;break;case 268435456:l=ee;break;default:l=xn}return o=Um.bind(null,e),l=qn(l,o),e.callbackPriority=i,e.callbackNode=l,i}return o!==null&&o!==null&&Sn(o),e.callbackPriority=2,e.callbackNode=null,2}function Um(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Io()&&e.callbackNode!==l)return null;var o=Mt;return o=bi(e,e===jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Em(e,o,i),Gm(e,ve()),e.callbackNode!=null&&e.callbackNode===l?Um.bind(null,e):null)}function Ym(e,i){if(Io())return null;Em(e,i,!0)}function TE(){IE(function(){(Ut&6)!==0?qn(Ri,xE):zm()})}function Dh(){return ws===0&&(ws=js()),ws}function Xm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zr(""+e)}function Fm(e,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,e.id&&l.setAttribute("form",e.id),i.parentNode.insertBefore(l,i),e=new FormData(e),l.parentNode.removeChild(l),e}function RE(e,i,l,o,h){if(i==="submit"&&l&&l.stateNode===h){var g=Xm((h[Tt]||null).action),p=o.submitter;p&&(i=(i=p[Tt]||null)?Xm(i.formAction):p.getAttribute("formAction"),i!==null&&(g=i,p=null));var v=new Vr("action","action",null,o,h);e.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ws!==0){var R=p?Fm(h,p):new FormData(h);Qc(l,{pending:!0,data:R,method:h.method,action:g},null,R)}}else typeof g=="function"&&(v.preventDefault(),R=p?Fm(h,p):new FormData(h),Qc(l,{pending:!0,data:R,method:h.method,action:g},g,R))},currentTarget:h}]})}}for(var Lh=0;Lh<mc.length;Lh++){var Ih=mc[Lh],CE=Ih.toLowerCase(),bE=Ih[0].toUpperCase()+Ih.slice(1);Cn(CE,"on"+bE)}Cn(Eg,"onAnimationEnd"),Cn(vg,"onAnimationIteration"),Cn(Sg,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(P1,"onTransitionRun"),Cn(k1,"onTransitionStart"),Cn(Z1,"onTransitionCancel"),Cn(xg,"onTransitionEnd"),Ws("onMouseEnter",["mouseout","mouseover"]),Ws("onMouseLeave",["mouseout","mouseover"]),Ws("onPointerEnter",["pointerout","pointerover"]),Ws("onPointerLeave",["pointerout","pointerover"]),ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ka));function Bm(e,i){i=(i&4)!==0;for(var l=0;l<e.length;l++){var o=e[l],h=o.event;o=o.listeners;t:{var g=void 0;if(i)for(var p=o.length-1;0<=p;p--){var v=o[p],R=v.instance,z=v.currentTarget;if(v=v.listener,R!==g&&h.isPropagationStopped())break t;g=v,h.currentTarget=z;try{g(h)}catch(B){xo(B)}h.currentTarget=null,g=R}else for(p=0;p<o.length;p++){if(v=o[p],R=v.instance,z=v.currentTarget,v=v.listener,R!==g&&h.isPropagationStopped())break t;g=v,h.currentTarget=z;try{g(h)}catch(B){xo(B)}h.currentTarget=null,g=R}}}}function Ct(e,i){var l=i[We];l===void 0&&(l=i[We]=new Set);var o=e+"__bubble";l.has(o)||(Hm(i,e,2,!1),l.add(o))}function Nh(e,i,l){var o=0;i&&(o|=4),Hm(l,e,o,i)}var Go="_reactListening"+Math.random().toString(36).slice(2);function zh(e){if(!e[Go]){e[Go]=!0,zd.forEach(function(l){l!=="selectionchange"&&(AE.has(l)||Nh(l,!1,e),Nh(l,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Go]||(i[Go]=!0,Nh("selectionchange",!1,i))}}function Hm(e,i,l,o){switch(fy(i)){case 2:var h=tv;break;case 8:h=ev;break;default:h=Vh}l=h.bind(null,i,l,e),h=void 0,!ic||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,l,{capture:!0,passive:h}):e.addEventListener(i,l,!0):h!==void 0?e.addEventListener(i,l,{passive:h}):e.addEventListener(i,l,!1)}function Gh(e,i,l,o,h){var g=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var v=o.stateNode.containerInfo;if(v===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;v!==null;){if(p=Ks(v),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=g=p;continue t}v=v.parentNode}}o=o.return}Vd(function(){var z=g,B=ec(l),Z=[];t:{var U=Tg.get(e);if(U!==void 0){var Y=Vr,gt=e;switch(e){case"keypress":if(Kr(l)===0)break t;case"keydown":case"keyup":Y=S1;break;case"focusin":gt="focus",Y=rc;break;case"focusout":gt="blur",Y=rc;break;case"beforeblur":case"afterblur":Y=rc;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=u1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=R1;break;case Eg:case vg:case Sg:Y=f1;break;case xg:Y=b1;break;case"scroll":case"scrollend":Y=r1;break;case"wheel":Y=M1;break;case"copy":case"cut":case"paste":Y=g1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=tg;break;case"toggle":case"beforetoggle":Y=O1}var ft=(i&4)!==0,Pt=!ft&&(e==="scroll"||e==="scrollend"),O=ft?U!==null?U+"Capture":null:U;ft=[];for(var A=z,N;A!==null;){var P=A;if(N=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||N===null||O===null||(P=fa(A,O),P!=null&&ft.push(qa(A,P,N))),Pt)break;A=A.return}0<ft.length&&(U=new Y(U,gt,null,l,B),Z.push({event:U,listeners:ft}))}}if((i&7)===0){t:{if(U=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",U&&l!==tc&&(gt=l.relatedTarget||l.fromElement)&&(Ks(gt)||gt[Qt]))break t;if((Y||U)&&(U=B.window===B?B:(U=B.ownerDocument)?U.defaultView||U.parentWindow:window,Y?(gt=l.relatedTarget||l.toElement,Y=z,gt=gt?Ks(gt):null,gt!==null&&(Pt=u(gt),ft=gt.tag,gt!==Pt||ft!==5&&ft!==27&&ft!==6)&&(gt=null)):(Y=null,gt=z),Y!==gt)){if(ft=Jd,P="onMouseLeave",O="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ft=tg,P="onPointerLeave",O="onPointerEnter",A="pointer"),Pt=Y==null?U:ha(Y),N=gt==null?U:ha(gt),U=new ft(P,A+"leave",Y,l,B),U.target=Pt,U.relatedTarget=N,P=null,Ks(B)===z&&(ft=new ft(O,A+"enter",gt,l,B),ft.target=N,ft.relatedTarget=Pt,P=ft),Pt=P,Y&&gt)e:{for(ft=Y,O=gt,A=0,N=ft;N;N=Al(N))A++;for(N=0,P=O;P;P=Al(P))N++;for(;0<A-N;)ft=Al(ft),A--;for(;0<N-A;)O=Al(O),N--;for(;A--;){if(ft===O||O!==null&&ft===O.alternate)break e;ft=Al(ft),O=Al(O)}ft=null}else ft=null;Y!==null&&Pm(Z,U,Y,ft,!1),gt!==null&&Pt!==null&&Pm(Z,Pt,gt,ft,!0)}}t:{if(U=z?ha(z):window,Y=U.nodeName&&U.nodeName.toLowerCase(),Y==="select"||Y==="input"&&U.type==="file")var it=og;else if(ag(U))if(ug)it=F1;else{it=Y1;var xt=U1}else Y=U.nodeName,!Y||Y.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?z&&$u(z.elementType)&&(it=og):it=X1;if(it&&(it=it(e,z))){rg(Z,it,l,B);break t}xt&&xt(e,U,z),e==="focusout"&&z&&U.type==="number"&&z.memoizedProps.value!=null&&Ju(U,"number",U.value)}switch(xt=z?ha(z):window,e){case"focusin":(ag(xt)||xt.contentEditable==="true")&&(il=xt,dc=z,va=null);break;case"focusout":va=dc=il=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,yg(Z,l,B);break;case"selectionchange":if(H1)break;case"keydown":case"keyup":yg(Z,l,B)}var rt;if(uc)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else nl?sg(e,l)&&(dt="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(dt="onCompositionStart");dt&&(eg&&l.locale!=="ko"&&(nl||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&nl&&(rt=Wd()):(wi=B,sc="value"in wi?wi.value:wi.textContent,nl=!0)),xt=Uo(z,dt),0<xt.length&&(dt=new $d(dt,e,null,l,B),Z.push({event:dt,listeners:xt}),rt?dt.data=rt:(rt=lg(l),rt!==null&&(dt.data=rt)))),(rt=L1?I1(e,l):N1(e,l))&&(dt=Uo(z,"onBeforeInput"),0<dt.length&&(xt=new $d("onBeforeInput","beforeinput",null,l,B),Z.push({event:xt,listeners:dt}),xt.data=rt)),RE(Z,e,z,l,B)}Bm(Z,i)})}function qa(e,i,l){return{instance:e,listener:i,currentTarget:l}}function Uo(e,i){for(var l=i+"Capture",o=[];e!==null;){var h=e,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=fa(e,l),h!=null&&o.unshift(qa(e,h,g)),h=fa(e,i),h!=null&&o.push(qa(e,h,g))),e.tag===3)return o;e=e.return}return[]}function Al(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pm(e,i,l,o,h){for(var g=i._reactName,p=[];l!==null&&l!==o;){var v=l,R=v.alternate,z=v.stateNode;if(v=v.tag,R!==null&&R===o)break;v!==5&&v!==26&&v!==27||z===null||(R=z,h?(z=fa(l,g),z!=null&&p.unshift(qa(l,z,R))):h||(z=fa(l,g),z!=null&&p.push(qa(l,z,R)))),l=l.return}p.length!==0&&e.push({event:i,listeners:p})}var ME=/\r\n?/g,wE=/\u0000|\uFFFD/g;function km(e){return(typeof e=="string"?e:""+e).replace(ME,`
`).replace(wE,"")}function Zm(e,i){return i=km(i),km(e)===i}function Yo(){}function Ht(e,i,l,o,h,g){switch(l){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||$s(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&$s(e,""+o);break;case"className":Hr(e,"class",o);break;case"tabIndex":Hr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Hr(e,l,o);break;case"style":Kd(e,o,g);break;case"data":if(i!=="object"){Hr(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||l!=="href")){e.removeAttribute(l);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=Zr(""+o),e.setAttribute(l,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(i!=="input"&&Ht(e,i,"name",h.name,h,null),Ht(e,i,"formEncType",h.formEncType,h,null),Ht(e,i,"formMethod",h.formMethod,h,null),Ht(e,i,"formTarget",h.formTarget,h,null)):(Ht(e,i,"encType",h.encType,h,null),Ht(e,i,"method",h.method,h,null),Ht(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=Zr(""+o),e.setAttribute(l,o);break;case"onClick":o!=null&&(e.onclick=Yo);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(l=o.__html,l!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}l=Zr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""+o):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":o===!0?e.setAttribute(l,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,o):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(l,o):e.removeAttribute(l);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(l):e.setAttribute(l,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Br(e,"popover",o);break;case"xlinkActuate":Wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Wn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Wn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Wn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Wn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Br(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=l1.get(l)||l,Br(e,l,o))}}function Uh(e,i,l,o,h,g){switch(l){case"style":Kd(e,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(l=o.__html,l!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof o=="string"?$s(e,o):(typeof o=="number"||typeof o=="bigint")&&$s(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Yo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gd.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),i=l.slice(2,h?l.length-7:void 0),g=e[Tt]||null,g=g!=null?g[l]:null,typeof g=="function"&&e.removeEventListener(i,g,h),typeof o=="function")){typeof g!="function"&&g!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(i,o,h);break t}l in e?e[l]=o:o===!0?e.setAttribute(l,""):Br(e,l,o)}}}function Te(e,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,g;for(g in l)if(l.hasOwnProperty(g)){var p=l[g];if(p!=null)switch(g){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ht(e,i,g,p,l,null)}}h&&Ht(e,i,"srcSet",l.srcSet,l,null),o&&Ht(e,i,"src",l.src,l,null);return;case"input":Ct("invalid",e);var v=g=p=h=null,R=null,z=null;for(o in l)if(l.hasOwnProperty(o)){var B=l[o];if(B!=null)switch(o){case"name":h=B;break;case"type":p=B;break;case"checked":R=B;break;case"defaultChecked":z=B;break;case"value":g=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Ht(e,i,o,B,l,null)}}Pd(e,g,v,R,z,p,h,!1),Pr(e);return;case"select":Ct("invalid",e),o=p=g=null;for(h in l)if(l.hasOwnProperty(h)&&(v=l[h],v!=null))switch(h){case"value":g=v;break;case"defaultValue":p=v;break;case"multiple":o=v;default:Ht(e,i,h,v,l,null)}i=g,l=p,e.multiple=!!o,i!=null?Js(e,!!o,i,!1):l!=null&&Js(e,!!o,l,!0);return;case"textarea":Ct("invalid",e),g=h=o=null;for(p in l)if(l.hasOwnProperty(p)&&(v=l[p],v!=null))switch(p){case"value":o=v;break;case"defaultValue":h=v;break;case"children":g=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:Ht(e,i,p,v,l,null)}Zd(e,o,h,g),Pr(e);return;case"option":for(R in l)if(l.hasOwnProperty(R)&&(o=l[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ht(e,i,R,o,l,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<Ka.length;o++)Ct(Ka[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in l)if(l.hasOwnProperty(z)&&(o=l[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ht(e,i,z,o,l,null)}return;default:if($u(i)){for(B in l)l.hasOwnProperty(B)&&(o=l[B],o!==void 0&&Uh(e,i,B,o,l,void 0));return}}for(v in l)l.hasOwnProperty(v)&&(o=l[v],o!=null&&Ht(e,i,v,o,l,null))}function OE(e,i,l,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,p=null,v=null,R=null,z=null,B=null;for(Y in l){var Z=l[Y];if(l.hasOwnProperty(Y)&&Z!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":R=Z;default:o.hasOwnProperty(Y)||Ht(e,i,Y,null,o,Z)}}for(var U in o){var Y=o[U];if(Z=l[U],o.hasOwnProperty(U)&&(Y!=null||Z!=null))switch(U){case"type":g=Y;break;case"name":h=Y;break;case"checked":z=Y;break;case"defaultChecked":B=Y;break;case"value":p=Y;break;case"defaultValue":v=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==Z&&Ht(e,i,U,Y,o,Z)}}Qu(e,p,v,R,z,B,g,h);return;case"select":Y=p=v=U=null;for(g in l)if(R=l[g],l.hasOwnProperty(g)&&R!=null)switch(g){case"value":break;case"multiple":Y=R;default:o.hasOwnProperty(g)||Ht(e,i,g,null,o,R)}for(h in o)if(g=o[h],R=l[h],o.hasOwnProperty(h)&&(g!=null||R!=null))switch(h){case"value":U=g;break;case"defaultValue":v=g;break;case"multiple":p=g;default:g!==R&&Ht(e,i,h,g,o,R)}i=v,l=p,o=Y,U!=null?Js(e,!!l,U,!1):!!o!=!!l&&(i!=null?Js(e,!!l,i,!0):Js(e,!!l,l?[]:"",!1));return;case"textarea":Y=U=null;for(v in l)if(h=l[v],l.hasOwnProperty(v)&&h!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ht(e,i,v,null,o,h)}for(p in o)if(h=o[p],g=l[p],o.hasOwnProperty(p)&&(h!=null||g!=null))switch(p){case"value":U=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==g&&Ht(e,i,p,h,o,g)}kd(e,U,Y);return;case"option":for(var gt in l)if(U=l[gt],l.hasOwnProperty(gt)&&U!=null&&!o.hasOwnProperty(gt))switch(gt){case"selected":e.selected=!1;break;default:Ht(e,i,gt,null,o,U)}for(R in o)if(U=o[R],Y=l[R],o.hasOwnProperty(R)&&U!==Y&&(U!=null||Y!=null))switch(R){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ht(e,i,R,U,o,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in l)U=l[ft],l.hasOwnProperty(ft)&&U!=null&&!o.hasOwnProperty(ft)&&Ht(e,i,ft,null,o,U);for(z in o)if(U=o[z],Y=l[z],o.hasOwnProperty(z)&&U!==Y&&(U!=null||Y!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,i));break;default:Ht(e,i,z,U,o,Y)}return;default:if($u(i)){for(var Pt in l)U=l[Pt],l.hasOwnProperty(Pt)&&U!==void 0&&!o.hasOwnProperty(Pt)&&Uh(e,i,Pt,void 0,o,U);for(B in o)U=o[B],Y=l[B],!o.hasOwnProperty(B)||U===Y||U===void 0&&Y===void 0||Uh(e,i,B,U,o,Y);return}}for(var O in l)U=l[O],l.hasOwnProperty(O)&&U!=null&&!o.hasOwnProperty(O)&&Ht(e,i,O,null,o,U);for(Z in o)U=o[Z],Y=l[Z],!o.hasOwnProperty(Z)||U===Y||U==null&&Y==null||Ht(e,i,Z,U,o,Y)}var Yh=null,Xh=null;function Xo(e){return e.nodeType===9?e:e.ownerDocument}function jm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Km(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Fh(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bh=null;function DE(){var e=window.event;return e&&e.type==="popstate"?e===Bh?!1:(Bh=e,!0):(Bh=null,!1)}var qm=typeof setTimeout=="function"?setTimeout:void 0,LE=typeof clearTimeout=="function"?clearTimeout:void 0,Vm=typeof Promise=="function"?Promise:void 0,IE=typeof queueMicrotask=="function"?queueMicrotask:typeof Vm<"u"?function(e){return Vm.resolve(null).then(e).catch(NE)}:qm;function NE(e){setTimeout(function(){throw e})}function Zi(e){return e==="head"}function Wm(e,i){var l=i,o=0,h=0;do{var g=l.nextSibling;if(e.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<o&&8>o){l=o;var p=e.ownerDocument;if(l&1&&Va(p.documentElement),l&2&&Va(p.body),l&4)for(l=p.head,Va(l),p=l.firstChild;p;){var v=p.nextSibling,R=p.nodeName;p[ca]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=v}}if(h===0){e.removeChild(g),ir(i);return}h--}else l==="$"||l==="$?"||l==="$!"?h++:o=l.charCodeAt(0)-48;else o=0;l=g}while(l);ir(i)}function Hh(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Hh(l),Ku(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function zE(e,i,l,o){for(;e.nodeType===1;){var h=l;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ca])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function GE(e,i,l){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=An(e.nextSibling),e===null))return null;return e}function Ph(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function UE(e,i){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")i();else{var o=function(){i(),l.removeEventListener("DOMContentLoaded",o)};l.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function An(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var kh=null;function Qm(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return e;i--}else l==="/$"&&i++}e=e.previousSibling}return null}function Jm(e,i,l){switch(i=Xo(l),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Va(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ku(e)}var gn=new Map,$m=new Set;function Fo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ci=k.d;k.d={f:YE,r:XE,D:FE,C:BE,L:HE,m:PE,X:ZE,S:kE,M:jE};function YE(){var e=ci.f(),i=Do();return e||i}function XE(e){var i=qs(e);i!==null&&i.tag===5&&i.type==="form"?E_(i):ci.r(e)}var Ml=typeof document>"u"?null:document;function ty(e,i,l){var o=Ml;if(o&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),$m.has(h)||($m.add(h),e={rel:e,crossOrigin:l,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Te(i,"link",e),de(i),o.head.appendChild(i)))}}function FE(e){ci.D(e),ty("dns-prefetch",e,null)}function BE(e,i){ci.C(e,i),ty("preconnect",e,i)}function HE(e,i,l){ci.L(e,i,l);var o=Ml;if(o&&e&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+rn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+rn(l.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var g=h;switch(i){case"style":g=wl(e);break;case"script":g=Ol(e)}gn.has(g)||(e=m({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:e,as:i},l),gn.set(g,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Wa(g))||i==="script"&&o.querySelector(Qa(g))||(i=o.createElement("link"),Te(i,"link",e),de(i),o.head.appendChild(i)))}}function PE(e,i){ci.m(e,i);var l=Ml;if(l&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',g=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ol(e)}if(!gn.has(g)&&(e=m({rel:"modulepreload",href:e},i),gn.set(g,e),l.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Qa(g)))return}o=l.createElement("link"),Te(o,"link",e),de(o),l.head.appendChild(o)}}}function kE(e,i,l){ci.S(e,i,l);var o=Ml;if(o&&e){var h=Vs(o).hoistableStyles,g=wl(e);i=i||"default";var p=h.get(g);if(!p){var v={loading:0,preload:null};if(p=o.querySelector(Wa(g)))v.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":i},l),(l=gn.get(g))&&Zh(e,l);var R=p=o.createElement("link");de(R),Te(R,"link",e),R._p=new Promise(function(z,B){R.onload=z,R.onerror=B}),R.addEventListener("load",function(){v.loading|=1}),R.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Bo(p,i,o)}p={type:"stylesheet",instance:p,count:1,state:v},h.set(g,p)}}}function ZE(e,i){ci.X(e,i);var l=Ml;if(l&&e){var o=Vs(l).hoistableScripts,h=Ol(e),g=o.get(h);g||(g=l.querySelector(Qa(h)),g||(e=m({src:e,async:!0},i),(i=gn.get(h))&&jh(e,i),g=l.createElement("script"),de(g),Te(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(h,g))}}function jE(e,i){ci.M(e,i);var l=Ml;if(l&&e){var o=Vs(l).hoistableScripts,h=Ol(e),g=o.get(h);g||(g=l.querySelector(Qa(h)),g||(e=m({src:e,async:!0,type:"module"},i),(i=gn.get(h))&&jh(e,i),g=l.createElement("script"),de(g),Te(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(h,g))}}function ey(e,i,l,o){var h=(h=at.current)?Fo(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=wl(l.href),l=Vs(h).hoistableStyles,o=l.get(i),o||(o={type:"style",instance:null,count:0,state:null},l.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=wl(l.href);var g=Vs(h).hoistableStyles,p=g.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,p),(g=h.querySelector(Wa(e)))&&!g._p&&(p.instance=g,p.state.loading=5),gn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},gn.set(e,l),g||KE(h,e,l,p.state))),i&&o===null)throw Error(s(528,""));return p}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ol(l),l=Vs(h).hoistableScripts,o=l.get(i),o||(o={type:"script",instance:null,count:0,state:null},l.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function wl(e){return'href="'+rn(e)+'"'}function Wa(e){return'link[rel="stylesheet"]['+e+"]"}function ny(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function KE(e,i,l,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Te(i,"link",l),de(i),e.head.appendChild(i))}function Ol(e){return'[src="'+rn(e)+'"]'}function Qa(e){return"script[async]"+e}function iy(e,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+rn(l.href)+'"]');if(o)return i.instance=o,de(o),o;var h=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),de(o),Te(o,"style",h),Bo(o,l.precedence,e),i.instance=o;case"stylesheet":h=wl(l.href);var g=e.querySelector(Wa(h));if(g)return i.state.loading|=4,i.instance=g,de(g),g;o=ny(l),(h=gn.get(h))&&Zh(o,h),g=(e.ownerDocument||e).createElement("link"),de(g);var p=g;return p._p=new Promise(function(v,R){p.onload=v,p.onerror=R}),Te(g,"link",o),i.state.loading|=4,Bo(g,l.precedence,e),i.instance=g;case"script":return g=Ol(l.src),(h=e.querySelector(Qa(g)))?(i.instance=h,de(h),h):(o=l,(h=gn.get(g))&&(o=m({},l),jh(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),de(h),Te(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Bo(o,l.precedence,e));return i.instance}function Bo(e,i,l){for(var o=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,g=h,p=0;p<o.length;p++){var v=o[p];if(v.dataset.precedence===i)g=v;else if(g!==h)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(e,i.firstChild))}function Zh(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function jh(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ho=null;function sy(e,i,l){if(Ho===null){var o=new Map,h=Ho=new Map;h.set(l,o)}else h=Ho,o=h.get(l),o||(o=new Map,h.set(l,o));if(o.has(e))return o;for(o.set(e,null),l=l.getElementsByTagName(e),h=0;h<l.length;h++){var g=l[h];if(!(g[ca]||g[Zt]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var p=g.getAttribute(i)||"";p=e+p;var v=o.get(p);v?v.push(g):o.set(p,[g])}}return o}function ly(e,i,l){e=e.ownerDocument||e,e.head.insertBefore(l,i==="title"?e.querySelector("head > title"):null)}function qE(e,i,l){if(l===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ay(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ja=null;function VE(){}function WE(e,i,l){if(Ja===null)throw Error(s(475));var o=Ja;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=wl(l.href),g=e.querySelector(Wa(h));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Po.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=g,de(g);return}g=e.ownerDocument||e,l=ny(l),(h=gn.get(h))&&Zh(l,h),g=g.createElement("link"),de(g);var p=g;p._p=new Promise(function(v,R){p.onload=v,p.onerror=R}),Te(g,"link",l),i.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Po.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function QE(){if(Ja===null)throw Error(s(475));var e=Ja;return e.stylesheets&&e.count===0&&Kh(e,e.stylesheets),0<e.count?function(i){var l=setTimeout(function(){if(e.stylesheets&&Kh(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l)}}:null}function Po(){if(this.count--,this.count===0){if(this.stylesheets)Kh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ko=null;function Kh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ko=new Map,i.forEach(JE,e),ko=null,Po.call(e))}function JE(e,i){if(!(i.state.loading&4)){var l=ko.get(e);if(l)var o=l.get(null);else{l=new Map,ko.set(e,l);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var p=h[g];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(l.set(p.dataset.precedence,p),o=p)}o&&l.set(null,o)}h=i.instance,p=h.getAttribute("data-precedence"),g=l.get(p)||o,g===o&&l.set(null,h),l.set(p,h),this.count++,o=Po.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),g?g.parentNode.insertBefore(h,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var $a={$$typeof:X,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function $E(e,i,l,o,h,g,p,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vn(0),this.hiddenUpdates=Vn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function ry(e,i,l,o,h,g,p,v,R,z,B,Z){return e=new $E(e,i,l,p,v,R,z,Z),i=1,g===!0&&(i|=24),g=Je(3,null,null,i),e.current=g,g.stateNode=e,i=Mc(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:o,isDehydrated:l,cache:i},Lc(g),e}function oy(e){return e?(e=rl,e):rl}function uy(e,i,l,o,h,g){h=oy(h),o.context===null?o.context=h:o.pendingContext=h,o=Li(i),o.payload={element:l},g=g===void 0?null:g,g!==null&&(o.callback=g),l=Ii(e,o,i),l!==null&&(sn(l,e,i),wa(l,e,i))}function cy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<i?l:i}}function qh(e,i){cy(e,i),(e=e.alternate)&&cy(e,i)}function hy(e){if(e.tag===13){var i=al(e,67108864);i!==null&&sn(i,e,67108864),qh(e,67108864)}}var Zo=!0;function tv(e,i,l,o){var h=L.T;L.T=null;var g=k.p;try{k.p=2,Vh(e,i,l,o)}finally{k.p=g,L.T=h}}function ev(e,i,l,o){var h=L.T;L.T=null;var g=k.p;try{k.p=8,Vh(e,i,l,o)}finally{k.p=g,L.T=h}}function Vh(e,i,l,o){if(Zo){var h=Wh(o);if(h===null)Gh(e,i,o,jo,l),dy(e,o);else if(iv(h,e,i,l,o))o.stopPropagation();else if(dy(e,o),i&4&&-1<nv.indexOf(e)){for(;h!==null;){var g=qs(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var p=Un(g.pendingLanes);if(p!==0){var v=g;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var R=1<<31-Ce(p);v.entanglements[1]|=R,p&=~R}Hn(g),(Ut&6)===0&&(wo=ve()+500,ja(0))}}break;case 13:v=al(g,2),v!==null&&sn(v,g,2),Do(),qh(g,2)}if(g=Wh(o),g===null&&Gh(e,i,o,jo,l),g===h)break;h=g}h!==null&&o.stopPropagation()}else Gh(e,i,o,null,l)}}function Wh(e){return e=ec(e),Qh(e)}var jo=null;function Qh(e){if(jo=null,e=Ks(e),e!==null){var i=u(e);if(i===null)e=null;else{var l=i.tag;if(l===13){if(e=c(i),e!==null)return e;e=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return jo=e,null}function fy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ti()){case Ri:return 2;case Nn:return 8;case xn:case Ci:return 32;case ee:return 268435456;default:return 32}default:return 32}}var Jh=!1,ji=null,Ki=null,qi=null,tr=new Map,er=new Map,Vi=[],nv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dy(e,i){switch(e){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":tr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(i.pointerId)}}function nr(e,i,l,o,h,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:l,eventSystemFlags:o,nativeEvent:g,targetContainers:[h]},i!==null&&(i=qs(i),i!==null&&hy(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function iv(e,i,l,o,h){switch(i){case"focusin":return ji=nr(ji,e,i,l,o,h),!0;case"dragenter":return Ki=nr(Ki,e,i,l,o,h),!0;case"mouseover":return qi=nr(qi,e,i,l,o,h),!0;case"pointerover":var g=h.pointerId;return tr.set(g,nr(tr.get(g)||null,e,i,l,o,h)),!0;case"gotpointercapture":return g=h.pointerId,er.set(g,nr(er.get(g)||null,e,i,l,o,h)),!0}return!1}function gy(e){var i=Ks(e.target);if(i!==null){var l=u(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){e.blockedOn=i,Ue(e.priority,function(){if(l.tag===13){var o=nn();o=Rn(o);var h=al(l,o);h!==null&&sn(h,l,o),qh(l,o)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ko(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var l=Wh(e.nativeEvent);if(l===null){l=e.nativeEvent;var o=new l.constructor(l.type,l);tc=o,l.target.dispatchEvent(o),tc=null}else return i=qs(l),i!==null&&hy(i),e.blockedOn=l,!1;i.shift()}return!0}function _y(e,i,l){Ko(e)&&l.delete(i)}function sv(){Jh=!1,ji!==null&&Ko(ji)&&(ji=null),Ki!==null&&Ko(Ki)&&(Ki=null),qi!==null&&Ko(qi)&&(qi=null),tr.forEach(_y),er.forEach(_y)}function qo(e,i){e.blockedOn===i&&(e.blockedOn=null,Jh||(Jh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,sv)))}var Vo=null;function my(e){Vo!==e&&(Vo=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Vo===e&&(Vo=null);for(var i=0;i<e.length;i+=3){var l=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Qh(o||l)===null)continue;break}var g=qs(l);g!==null&&(e.splice(i,3),i-=3,Qc(g,{pending:!0,data:h,method:l.method,action:o},o,h))}}))}function ir(e){function i(R){return qo(R,e)}ji!==null&&qo(ji,e),Ki!==null&&qo(Ki,e),qi!==null&&qo(qi,e),tr.forEach(i),er.forEach(i);for(var l=0;l<Vi.length;l++){var o=Vi[l];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vi.length&&(l=Vi[0],l.blockedOn===null);)gy(l),l.blockedOn===null&&Vi.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(o=0;o<l.length;o+=3){var h=l[o],g=l[o+1],p=h[Tt]||null;if(typeof g=="function")p||my(l);else if(p){var v=null;if(g&&g.hasAttribute("formAction")){if(h=g,p=g[Tt]||null)v=p.formAction;else if(Qh(h)!==null)continue}else v=p.action;typeof v=="function"?l[o+1]=v:(l.splice(o,3),o-=3),my(l)}}}function $h(e){this._internalRoot=e}Wo.prototype.render=$h.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,o=nn();uy(l,o,e,i,null,null)},Wo.prototype.unmount=$h.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;uy(e.current,2,null,e,null,null),Do(),i[Qt]=null}};function Wo(e){this._internalRoot=e}Wo.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ve();e={blockedOn:null,target:e,priority:i};for(var l=0;l<Vi.length&&i!==0&&i<Vi[l].priority;l++);Vi.splice(l,0,e),l===0&&gy(e)}};var yy=t.version;if(yy!=="19.1.0")throw Error(s(527,yy,"19.1.0"));k.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=d(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var lv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qo.isDisabled&&Qo.supportsFiber)try{zn=Qo.inject(lv),he=Qo}catch{}}return lr.createRoot=function(e,i){if(!r(e))throw Error(s(299));var l=!1,o="",h=I_,g=N_,p=z_,v=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(v=i.unstable_transitionCallbacks)),i=ry(e,1,!1,null,null,l,o,h,g,p,v,null),e[Qt]=i.current,zh(e),new $h(i)},lr.hydrateRoot=function(e,i,l){if(!r(e))throw Error(s(299));var o=!1,h="",g=I_,p=N_,v=z_,R=null,z=null;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(p=l.onCaughtError),l.onRecoverableError!==void 0&&(v=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(R=l.unstable_transitionCallbacks),l.formState!==void 0&&(z=l.formState)),i=ry(e,1,!0,i,l??null,o,h,g,p,v,R,z),i.context=oy(null),l=i.current,o=nn(),o=Rn(o),h=Li(o),h.callback=null,Ii(l,h,o),l=o,i.current.lanes=l,Tn(i,l),Hn(i),e[Qt]=i.current,zh(e),new Wo(i)},lr.version="19.1.0",lr}var Ay;function _v(){if(Ay)return nf.exports;Ay=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),nf.exports=gv(),nf.exports}var mv=_v();const He={ADD:"add",REMOVE:"remove"},Wl={PROPERTYCHANGE:"propertychange"},pt={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Tu{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function yv(a,t,n){let s,r;n=n||yi;let u=0,c=a.length,f=!1;for(;u<c;)s=u+(c-u>>1),r=+n(a[s],t),r<0?u=s+1:(c=s,f=!r);return f?u:~u}function yi(a,t){return a>t?1:a<t?-1:0}function pv(a,t){return a<t?1:a>t?-1:0}function Wf(a,t,n){if(a[0]<=t)return 0;const s=a.length;if(t<=a[s-1])return s-1;if(typeof n=="function"){for(let r=1;r<s;++r){const u=a[r];if(u===t)return r;if(u<t)return n(t,a[r-1],u)>0?r-1:r}return s-1}if(n>0){for(let r=1;r<s;++r)if(a[r]<t)return r-1;return s-1}if(n<0){for(let r=1;r<s;++r)if(a[r]<=t)return r;return s-1}for(let r=1;r<s;++r){if(a[r]==t)return r;if(a[r]<t)return a[r-1]-t<t-a[r]?r-1:r}return s-1}function Ev(a,t,n){for(;t<n;){const s=a[t];a[t]=a[n],a[n]=s,++t,--n}}function Qf(a,t){const n=Array.isArray(t)?t:[t],s=n.length;for(let r=0;r<s;r++)a[a.length]=n[r]}function cs(a,t){const n=a.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(a[s]!==t[s])return!1;return!0}function vv(a,t,n){const s=t||yi;return a.every(function(r,u){if(u===0)return!0;const c=s(a[u-1],r);return!(c>0||c===0)})}function Er(){return!0}function Ru(){return!1}function vr(){}function z0(a){let t,n,s;return function(){const r=Array.prototype.slice.call(arguments);return(!n||this!==s||!cs(r,n))&&(s=this,n=r,t=a.apply(this,arguments)),t}}function Sv(a){function t(){let n;try{n=a()}catch(s){return Promise.reject(s)}return n instanceof Promise?n:Promise.resolve(n)}return t()}function Dr(a){for(const t in a)delete a[t]}function Ql(a){let t;for(t in a)return!1;return!t}class Si{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Cu extends Tu{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const s=this.listeners_||(this.listeners_={}),r=s[t]||(s[t]=[]);r.includes(n)||r.push(n)}dispatchEvent(t){const n=typeof t=="string",s=n?t:t.type,r=this.listeners_&&this.listeners_[s];if(!r)return;const u=n?new Si(t):t;u.target||(u.target=this.eventTarget_||this);const c=this.dispatching_||(this.dispatching_={}),f=this.pendingRemovals_||(this.pendingRemovals_={});s in c||(c[s]=0,f[s]=0),++c[s];let d;for(let _=0,m=r.length;_<m;++_)if("handleEvent"in r[_]?d=r[_].handleEvent(u):d=r[_].call(this,u),d===!1||u.propagationStopped){d=!1;break}if(--c[s]===0){let _=f[s];for(delete f[s];_--;)this.removeEventListener(s,vr);delete c[s]}return d}disposeInternal(){this.listeners_&&Dr(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;const s=this.listeners_[t];if(!s)return;const r=s.indexOf(n);r!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(s[r]=vr,++this.pendingRemovals_[t]):(s.splice(r,1),s.length===0&&delete this.listeners_[t]))}}function wt(a,t,n,s,r){if(r){const c=n;n=function(f){return a.removeEventListener(t,n),c.call(s??this,f)}}else s&&s!==a&&(n=n.bind(s));const u={target:a,type:t,listener:n};return a.addEventListener(t,n),u}function cu(a,t,n,s){return wt(a,t,n,s,!0)}function Kt(a){a&&a.target&&(a.target.removeEventListener(a.type,a.listener),Dr(a))}class Lr extends Cu{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(pt.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const s=t.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=wt(this,t[u],n);return r}return wt(this,t,n)}onceInternal(t,n){let s;if(Array.isArray(t)){const r=t.length;s=new Array(r);for(let u=0;u<r;++u)s[u]=cu(this,t[u],n)}else s=cu(this,t,n);return n.ol_key=s,s}unInternal(t,n){const s=n.ol_key;if(s)xv(s);else if(Array.isArray(t))for(let r=0,u=t.length;r<u;++r)this.removeEventListener(t[r],n);else this.removeEventListener(t,n)}}Lr.prototype.on;Lr.prototype.once;Lr.prototype.un;function xv(a){if(Array.isArray(a))for(let t=0,n=a.length;t<n;++t)Kt(a[t]);else Kt(a)}function Dt(){throw new Error("Unimplemented abstract method.")}let Tv=0;function Lt(a){return a.ol_uid||(a.ol_uid=String(++Tv))}class My extends Si{constructor(t,n,s){super(t),this.key=n,this.oldValue=s}}class In extends Lr{constructor(t){super(),this.on,this.once,this.un,Lt(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let s;s=`change:${t}`,this.hasListener(s)&&this.dispatchEvent(new My(s,t,n)),s=Wl.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new My(s,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,s){const r=this.values_||(this.values_={});if(s)r[t]=n;else{const u=r[t];r[t]=n,u!==n&&this.notify(t,u)}}setProperties(t,n){for(const s in t)this.set(s,t[s],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const s=this.values_[t];delete this.values_[t],Ql(this.values_)&&(this.values_=null),n||this.notify(t,s)}}}const wy={LENGTH:"length"};class Jo extends Si{constructor(t,n,s){super(t),this.element=n,this.index=s}}class Zn extends In{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let s=0,r=this.array_.length;s<r;++s)this.assertUnique_(this.array_[s],s);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,s=t.length;n<s;++n)this.push(t[n]);return this}forEach(t){const n=this.array_;for(let s=0,r=n.length;s<r;++s)t(n[s],s,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(wy.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new Jo(He.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){const n=this.array_;for(let s=0,r=n.length;s<r;++s)if(n[s]===t)return this.removeAt(s)}removeAt(t){if(t<0||t>=this.getLength())return;const n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Jo(He.REMOVE,n,t)),n}setAt(t,n){const s=this.getLength();if(t>=s){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);const r=this.array_[t];this.array_[t]=n,this.dispatchEvent(new Jo(He.REMOVE,r,t)),this.dispatchEvent(new Jo(He.ADD,n,t))}updateLength_(){this.set(wy.LENGTH,this.array_.length)}assertUnique_(t,n){for(let s=0,r=this.array_.length;s<r;++s)if(this.array_[s]===t&&s!==n)throw new Error("Duplicate item added to a unique collection")}}function Gt(a,t){if(!a)throw new Error(t)}class Jf extends In{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const n=t;this.setGeometry(n)}else{const n=t;this.setProperties(n)}}clone(){const t=new Jf(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&t.setGeometry(n.clone());const s=this.getStyle();return s&&t.setStyle(s),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Kt(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=wt(t,pt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?Rv(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function Rv(a){if(typeof a=="function")return a;let t;return Array.isArray(a)?t=a:(Gt(typeof a.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[a]),function(){return t}}const ye={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Oy(a){const t=vn();for(let n=0,s=a.length;n<s;++n)yr(t,a[n]);return t}function $f(a,t,n){return n?(n[0]=a[0]-t,n[1]=a[1]-t,n[2]=a[2]+t,n[3]=a[3]+t,n):[a[0]-t,a[1]-t,a[2]+t,a[3]+t]}function G0(a,t){return t?(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t):a.slice()}function U0(a,t,n){let s,r;return t<a[0]?s=a[0]-t:a[2]<t?s=t-a[2]:s=0,n<a[1]?r=a[1]-n:a[3]<n?r=n-a[3]:r=0,s*s+r*r}function Jl(a,t){return Y0(a,t[0],t[1])}function Hl(a,t){return a[0]<=t[0]&&t[2]<=a[2]&&a[1]<=t[1]&&t[3]<=a[3]}function Y0(a,t,n){return a[0]<=t&&t<=a[2]&&a[1]<=n&&n<=a[3]}function If(a,t){const n=a[0],s=a[1],r=a[2],u=a[3],c=t[0],f=t[1];let d=ye.UNKNOWN;return c<n?d=d|ye.LEFT:c>r&&(d=d|ye.RIGHT),f<s?d=d|ye.BELOW:f>u&&(d=d|ye.ABOVE),d===ye.UNKNOWN&&(d=ye.INTERSECTING),d}function vn(){return[1/0,1/0,-1/0,-1/0]}function us(a,t,n,s,r){return r?(r[0]=a,r[1]=t,r[2]=n,r[3]=s,r):[a,t,n,s]}function bu(a){return us(1/0,1/0,-1/0,-1/0,a)}function X0(a,t){const n=a[0],s=a[1];return us(n,s,n,s,t)}function td(a,t,n,s,r){const u=bu(r);return F0(u,a,t,n,s)}function Sr(a,t){return a[0]==t[0]&&a[2]==t[2]&&a[1]==t[1]&&a[3]==t[3]}function Cv(a,t){return t[0]<a[0]&&(a[0]=t[0]),t[2]>a[2]&&(a[2]=t[2]),t[1]<a[1]&&(a[1]=t[1]),t[3]>a[3]&&(a[3]=t[3]),a}function yr(a,t){t[0]<a[0]&&(a[0]=t[0]),t[0]>a[2]&&(a[2]=t[0]),t[1]<a[1]&&(a[1]=t[1]),t[1]>a[3]&&(a[3]=t[1])}function F0(a,t,n,s,r){for(;n<s;n+=r)bv(a,t[n],t[n+1]);return a}function bv(a,t,n){a[0]=Math.min(a[0],t),a[1]=Math.min(a[1],n),a[2]=Math.max(a[2],t),a[3]=Math.max(a[3],n)}function B0(a,t){let n;return n=t(Au(a)),n||(n=t(Mu(a)),n)||(n=t(wu(a)),n)||(n=t(Ps(a)),n)?n:!1}function Nf(a){let t=0;return Ou(a)||(t=Ft(a)*ze(a)),t}function Au(a){return[a[0],a[1]]}function Mu(a){return[a[2],a[1]]}function Xs(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function Av(a,t){let n;if(t==="bottom-left")n=Au(a);else if(t==="bottom-right")n=Mu(a);else if(t==="top-left")n=Ps(a);else if(t==="top-right")n=wu(a);else throw new Error("Invalid corner");return n}function zf(a,t,n,s,r){const[u,c,f,d,_,m,y,E]=H0(a,t,n,s);return us(Math.min(u,f,_,y),Math.min(c,d,m,E),Math.max(u,f,_,y),Math.max(c,d,m,E),r)}function H0(a,t,n,s){const r=t*s[0]/2,u=t*s[1]/2,c=Math.cos(n),f=Math.sin(n),d=r*c,_=r*f,m=u*c,y=u*f,E=a[0],S=a[1];return[E-d+y,S-_-m,E-d-y,S-_+m,E+d-y,S+_+m,E+d+y,S+_-m,E-d+y,S-_-m]}function ze(a){return a[3]-a[1]}function Ys(a,t,n){const s=n||vn();return Ze(a,t)?(a[0]>t[0]?s[0]=a[0]:s[0]=t[0],a[1]>t[1]?s[1]=a[1]:s[1]=t[1],a[2]<t[2]?s[2]=a[2]:s[2]=t[2],a[3]<t[3]?s[3]=a[3]:s[3]=t[3]):bu(s),s}function Ps(a){return[a[0],a[3]]}function wu(a){return[a[2],a[3]]}function Ft(a){return a[2]-a[0]}function Ze(a,t){return a[0]<=t[2]&&a[2]>=t[0]&&a[1]<=t[3]&&a[3]>=t[1]}function Ou(a){return a[2]<a[0]||a[3]<a[1]}function Mv(a,t){return t?(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t):a}function wv(a,t,n){let s=!1;const r=If(a,t),u=If(a,n);if(r===ye.INTERSECTING||u===ye.INTERSECTING)s=!0;else{const c=a[0],f=a[1],d=a[2],_=a[3],m=t[0],y=t[1],E=n[0],S=n[1],x=(S-y)/(E-m);let b,C;u&ye.ABOVE&&!(r&ye.ABOVE)&&(b=E-(S-_)/x,s=b>=c&&b<=d),!s&&u&ye.RIGHT&&!(r&ye.RIGHT)&&(C=S-(E-d)*x,s=C>=f&&C<=_),!s&&u&ye.BELOW&&!(r&ye.BELOW)&&(b=E-(S-f)/x,s=b>=c&&b<=d),!s&&u&ye.LEFT&&!(r&ye.LEFT)&&(C=S-(E-c)*x,s=C>=f&&C<=_)}return s}function P0(a,t){const n=t.getExtent(),s=Xs(a);if(t.canWrapX()&&(s[0]<n[0]||s[0]>=n[2])){const r=Ft(n),c=Math.floor((s[0]-n[0])/r)*r;a[0]-=c,a[2]-=c}return a}function k0(a,t,n){if(t.canWrapX()){const s=t.getExtent();if(!isFinite(a[0])||!isFinite(a[2]))return[[s[0],a[1],s[2],a[3]]];P0(a,t);const r=Ft(s);if(Ft(a)>r&&!n)return[[s[0],a[1],s[2],a[3]]];if(a[0]<s[0])return[[a[0]+r,a[1],s[2],a[3]],[s[0],a[1],a[2],a[3]]];if(a[2]>s[2])return[[a[0],a[1],s[2],a[3]],[s[0],a[1],a[2]-r,a[3]]]}return[a]}function Wt(a,t,n){return Math.min(Math.max(a,t),n)}function Ov(a,t,n,s,r,u){const c=r-n,f=u-s;if(c!==0||f!==0){const d=((a-n)*c+(t-s)*f)/(c*c+f*f);d>1?(n=r,s=u):d>0&&(n+=c*d,s+=f*d)}return Zl(a,t,n,s)}function Zl(a,t,n,s){const r=n-a,u=s-t;return r*r+u*u}function Dv(a){const t=a.length;for(let s=0;s<t;s++){let r=s,u=Math.abs(a[s][s]);for(let f=s+1;f<t;f++){const d=Math.abs(a[f][s]);d>u&&(u=d,r=f)}if(u===0)return null;const c=a[r];a[r]=a[s],a[s]=c;for(let f=s+1;f<t;f++){const d=-a[f][s]/a[s][s];for(let _=s;_<t+1;_++)s==_?a[f][_]=0:a[f][_]+=d*a[s][_]}}const n=new Array(t);for(let s=t-1;s>=0;s--){n[s]=a[s][t]/a[s][s];for(let r=s-1;r>=0;r--)a[r][t]-=a[r][s]*n[s]}return n}function Dy(a){return a*180/Math.PI}function as(a){return a*Math.PI/180}function jl(a,t){const n=a%t;return n*t<0?n+t:n}function mn(a,t,n){return a+n*(t-a)}function Du(a,t){const n=Math.pow(10,t);return Math.round(a*n)/n}function $o(a,t){return Math.floor(Du(a,t))}function tu(a,t){return Math.ceil(Du(a,t))}function Gf(a,t,n){if(a>=t&&a<n)return a;const s=n-t;return((a-t)%s+s)%s+t}const Lv=63710088e-1;function Ly(a,t,n){n=n||Lv;const s=as(a[1]),r=as(t[1]),u=(r-s)/2,c=as(t[0]-a[0])/2,f=Math.sin(u)*Math.sin(u)+Math.sin(c)*Math.sin(c)*Math.cos(s)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))}function Z0(...a){console.warn(...a)}function Iv(a,t){return a[0]+=+t[0],a[1]+=+t[1],a}function hu(a,t){let n=!0;for(let s=a.length-1;s>=0;--s)if(a[s]!=t[s]){n=!1;break}return n}function ed(a,t){const n=Math.cos(t),s=Math.sin(t),r=a[0]*n-a[1]*s,u=a[1]*n+a[0]*s;return a[0]=r,a[1]=u,a}function Nv(a,t){return a[0]*=t,a[1]*=t,a}function j0(a,t){if(t.canWrapX()){const n=Ft(t.getExtent()),s=zv(a,t,n);s&&(a[0]-=s*n)}return a}function zv(a,t,n){const s=t.getExtent();let r=0;return t.canWrapX()&&(a[0]<s[0]||a[0]>s[2])&&(n=n||Ft(s),r=Math.floor((a[0]-s[0])/n)),r}const nd={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class id{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||nd[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Ir=6378137,Pl=Math.PI*Ir,Gv=[-Pl,-Pl,Pl,Pl],Uv=[-180,-85,180,85],eu=Ir*Math.log(Math.tan(Math.PI/2));class Dl extends id{constructor(t){super({code:t,units:"m",extent:Gv,global:!0,worldExtent:Uv,getPointResolution:function(n,s){return n/Math.cosh(s[1]/Ir)}})}}const Iy=[new Dl("EPSG:3857"),new Dl("EPSG:102100"),new Dl("EPSG:102113"),new Dl("EPSG:900913"),new Dl("http://www.opengis.net/def/crs/EPSG/0/3857"),new Dl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Yv(a,t,n,s){const r=a.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=a.slice():t=new Array(r));for(let u=0;u<r;u+=s){t[u]=Pl*a[u]/180;let c=Ir*Math.log(Math.tan(Math.PI*(+a[u+1]+90)/360));c>eu?c=eu:c<-eu&&(c=-eu),t[u+1]=c}return t}function Xv(a,t,n,s){const r=a.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=a.slice():t=new Array(r));for(let u=0;u<r;u+=s)t[u]=180*a[u]/Pl,t[u+1]=360*Math.atan(Math.exp(a[u+1]/Ir))/Math.PI-90;return t}const Fv=6378137,Ny=[-180,-90,180,90],Bv=Math.PI*Fv/180;class Os extends id{constructor(t,n){super({code:t,units:"degrees",extent:Ny,axisOrientation:n,global:!0,metersPerUnit:Bv,worldExtent:Ny})}}const zy=[new Os("CRS:84"),new Os("EPSG:4326","neu"),new Os("urn:ogc:def:crs:OGC:1.3:CRS84"),new Os("urn:ogc:def:crs:OGC:2:84"),new Os("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Os("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Os("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Uf={};function Hv(a){return Uf[a]||Uf[a.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Pv(a,t){Uf[a]=t}let Kl={};function xr(a,t,n){const s=a.getCode(),r=t.getCode();s in Kl||(Kl[s]={}),Kl[s][r]=n}function rf(a,t){return a in Kl&&t in Kl[a]?Kl[a][t]:null}const fu=.9996,En=.00669438,Lu=En*En,Iu=Lu*En,Ns=En/(1-En),Gy=Math.sqrt(1-En),$l=(1-Gy)/(1+Gy),K0=$l*$l,sd=K0*$l,ld=sd*$l,q0=ld*$l,V0=1-En/4-3*Lu/64-5*Iu/256,kv=3*En/8+3*Lu/32+45*Iu/1024,Zv=15*Lu/256+45*Iu/1024,jv=35*Iu/3072,Kv=3/2*$l-27/32*sd+269/512*q0,qv=21/16*K0-55/32*ld,Vv=151/96*sd-417/128*q0,Wv=1097/512*ld,du=6378137;function Qv(a,t,n){const s=a-5e5,c=(n.north?t:t-1e7)/fu/(du*V0),f=c+Kv*Math.sin(2*c)+qv*Math.sin(4*c)+Vv*Math.sin(6*c)+Wv*Math.sin(8*c),d=Math.sin(f),_=d*d,m=Math.cos(f),y=d/m,E=y*y,S=E*E,x=1-En*_,b=Math.sqrt(1-En*_),C=du/b,M=(1-En)/x,I=Ns*m**2,X=I*I,D=s/(C*fu),w=D*D,j=w*D,q=j*D,K=q*D,W=K*D,J=f-y/M*(w/2-q/24*(5+3*E+10*I-4*X-9*Ns))+W/720*(61+90*E+298*I+45*S-252*Ns-3*X);let lt=(D-j/6*(1+2*E+I)+K/120*(5-2*I+28*E-3*X+8*Ns+24*S))/m;return lt=Gf(lt+as(W0(n.number)),-Math.PI,Math.PI),[Dy(lt),Dy(J)]}const Uy=-80,Yy=84,Jv=-180,$v=180;function tS(a,t,n){a=Gf(a,Jv,$v),t<Uy?t=Uy:t>Yy&&(t=Yy);const s=as(t),r=Math.sin(s),u=Math.cos(s),c=r/u,f=c*c,d=f*f,_=as(a),m=W0(n.number),y=as(m),E=du/Math.sqrt(1-En*r**2),S=Ns*u**2,x=u*Gf(_-y,-Math.PI,Math.PI),b=x*x,C=b*x,M=C*x,I=M*x,X=I*x,D=du*(V0*s-kv*Math.sin(2*s)+Zv*Math.sin(4*s)-jv*Math.sin(6*s)),w=fu*E*(x+C/6*(1-f+S)+I/120*(5-18*f+d+72*S-58*Ns))+5e5;let j=fu*(D+E*c*(b/2+M/24*(5-f+9*S+4*S**2)+X/720*(61-58*f+d+600*S-330*Ns)));return n.north||(j+=1e7),[w,j]}function W0(a){return(a-1)*6-180+3}const eS=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function Q0(a){let t=0;for(const r of eS){const u=a.match(r);if(u){t=parseInt(u[1]);break}}if(!t)return null;let n=0,s=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(s=!0,n=t-32600),n?{number:n,north:s}:null}function Xy(a,t){return function(n,s,r,u){const c=n.length;r=r>1?r:2,u=u??r,s||(r>2?s=n.slice():s=new Array(c));for(let f=0;f<c;f+=u){const d=n[f],_=n[f+1],m=a(d,_,t);s[f]=m[0],s[f+1]=m[1]}return s}}function nS(a){return Q0(a)?new id({code:a,units:"m"}):null}function iS(a){const t=Q0(a.getCode());return t?{forward:Xy(tS,t),inverse:Xy(Qv,t)}:null}const sS=[iS],lS=[nS];let Yf=!0;function J0(a){Yf=!1}function ad(a,t){if(t!==void 0){for(let n=0,s=a.length;n<s;++n)t[n]=a[n];t=t}else t=a.slice();return t}function Xf(a){Pv(a.getCode(),a),xr(a,a,ad)}function aS(a){a.forEach(Xf)}function qe(a){if(typeof a!="string")return a;const t=Hv(a);if(t)return t;for(const n of lS){const s=n(a);if(s)return s}return null}function Fy(a,t,n,s){a=qe(a);let r;const u=a.getPointResolutionFunc();if(u)r=u(t,n);else{const c=a.getUnits();if(c=="degrees"&&!s||s=="degrees")r=t;else{const f=od(a,qe("EPSG:4326"));if(!f&&c!=="degrees")r=t*a.getMetersPerUnit();else{let _=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];_=f(_,_,2);const m=Ly(_.slice(0,2),_.slice(2,4)),y=Ly(_.slice(4,6),_.slice(6,8));r=(m+y)/2}const d=a.getMetersPerUnit();d!==void 0&&(r/=d)}}return r}function By(a){aS(a),a.forEach(function(t){a.forEach(function(n){t!==n&&xr(t,n,ad)})})}function rS(a,t,n,s){a.forEach(function(r){t.forEach(function(u){xr(r,u,n),xr(u,r,s)})})}function rd(a,t){return a?typeof a=="string"?qe(a):a:qe(t)}function oS(a){return function(t,n,s,r){const u=t.length;s=s!==void 0?s:2,r=r??s,n=n!==void 0?n:new Array(u);for(let c=0;c<u;c+=r){const f=a(t.slice(c,c+s)),d=f.length;for(let _=0,m=r;_<m;++_)n[c+_]=_>=d?t[c+_]:f[_]}return n}}function Hy(a,t){return J0(),ud(a,"EPSG:4326","EPSG:3857")}function of(a,t){if(a===t)return!0;const n=a.getUnits()===t.getUnits();return(a.getCode()===t.getCode()||od(a,t)===ad)&&n}function od(a,t){const n=a.getCode(),s=t.getCode();let r=rf(n,s);if(r)return r;let u=null,c=null;for(const d of sS)u||(u=d(a)),c||(c=d(t));if(!u&&!c)return null;const f="EPSG:4326";if(c)if(u)r=uf(u.inverse,c.forward);else{const d=rf(n,f);d&&(r=uf(d,c.forward))}else{const d=rf(f,s);d&&(r=uf(u.inverse,d))}return r&&(Xf(a),Xf(t),xr(a,t,r)),r}function uf(a,t){return function(n,s,r,u){return s=a(n,s,r,u),t(s,s,r,u)}}function gu(a,t){const n=qe(a),s=qe(t);return od(n,s)}function ud(a,t,n){const s=gu(t,n);if(!s){const r=qe(t).getCode(),u=qe(n).getCode();throw new Error(`No transform available between ${r} and ${u}`)}return s(a,void 0,a.length)}function Ff(a,t){return a}function gi(a,t){return Yf&&!hu(a,[0,0])&&a[0]>=-180&&a[0]<=180&&a[1]>=-90&&a[1]<=90&&(Yf=!1,Z0("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),a}function $0(a,t){return a}function ss(a,t){return a}function uS(){By(Iy),By(zy),rS(zy,Iy,Yv,Xv)}uS();new Array(6);function Dn(){return[1,0,0,1,0,0]}function cS(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a}function pe(a,t){const n=t[0],s=t[1];return t[0]=a[0]*n+a[2]*s+a[4],t[1]=a[1]*n+a[3]*s+a[5],t}function vi(a,t,n,s,r,u,c,f){const d=Math.sin(u),_=Math.cos(u);return a[0]=s*_,a[1]=r*d,a[2]=-s*d,a[3]=r*_,a[4]=c*s*_-f*s*d+t,a[5]=c*r*d+f*r*_+n,a}function tp(a,t){const n=hS(t);Gt(n!==0,"Transformation matrix cannot be inverted");const s=t[0],r=t[1],u=t[2],c=t[3],f=t[4],d=t[5];return a[0]=c/n,a[1]=-r/n,a[2]=-u/n,a[3]=s/n,a[4]=(u*d-c*f)/n,a[5]=-(s*d-r*f)/n,a}function hS(a){return a[0]*a[3]-a[1]*a[2]}const fS=[1e5,1e5,1e5,1e5,2,2];function dS(a){return"matrix("+a.join(", ")+")"}function Py(a){return a.substring(7,a.length-1).split(",").map(parseFloat)}function gS(a,t){const n=Py(a),s=Py(t);for(let r=0;r<6;++r)if(Math.round((n[r]-s[r])*fS[r])!==0)return!1;return!0}function rs(a,t,n,s,r,u,c){u=u||[],c=c||2;let f=0;for(let d=t;d<n;d+=s){const _=a[d],m=a[d+1];u[f++]=r[0]*_+r[2]*m+r[4],u[f++]=r[1]*_+r[3]*m+r[5];for(let y=2;y<c;y++)u[f++]=a[d+y]}return u&&u.length!=f&&(u.length=f),u}function ep(a,t,n,s,r,u,c){c=c||[];const f=Math.cos(r),d=Math.sin(r),_=u[0],m=u[1];let y=0;for(let E=t;E<n;E+=s){const S=a[E]-_,x=a[E+1]-m;c[y++]=_+S*f-x*d,c[y++]=m+S*d+x*f;for(let b=E+2;b<E+s;++b)c[y++]=a[b]}return c&&c.length!=y&&(c.length=y),c}function _S(a,t,n,s,r,u,c,f){f=f||[];const d=c[0],_=c[1];let m=0;for(let y=t;y<n;y+=s){const E=a[y]-d,S=a[y+1]-_;f[m++]=d+r*E,f[m++]=_+u*S;for(let x=y+2;x<y+s;++x)f[m++]=a[x]}return f&&f.length!=m&&(f.length=m),f}function mS(a,t,n,s,r,u,c){c=c||[];let f=0;for(let d=t;d<n;d+=s){c[f++]=a[d]+r,c[f++]=a[d+1]+u;for(let _=d+2;_<d+s;++_)c[f++]=a[_]}return c&&c.length!=f&&(c.length=f),c}const ky=Dn(),yS=[NaN,NaN];class pS extends In{constructor(){super(),this.extent_=vn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=z0((t,n,s)=>{if(!s)return this.getSimplifiedGeometry(n);const r=this.clone();return r.applyTransform(s),r.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return Dt()}closestPointXY(t,n,s,r){return Dt()}containsXY(t,n){return this.closestPointXY(t,n,yS,Number.MIN_VALUE)===0}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return Dt()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&bu(n),this.extentRevision_=this.getRevision()}return Mv(this.extent_,t)}rotate(t,n){Dt()}scale(t,n,s){Dt()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return Dt()}getType(){return Dt()}applyTransform(t){Dt()}intersectsExtent(t){return Dt()}translate(t,n){Dt()}transform(t,n){const s=qe(t),r=s.getUnits()=="tile-pixels"?function(u,c,f){const d=s.getExtent(),_=s.getWorldExtent(),m=ze(_)/ze(d);vi(ky,_[0],_[3],m,-m,0,0,0);const y=rs(u,0,u.length,f,ky,c),E=gu(s,n);return E?E(y,y,f):y}:gu(s,n);return this.applyTransform(r),this}}class cd extends pS{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return td(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return Dt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=Zy(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){Dt()}setLayout(t,n,s){let r;if(t)r=Zy(t);else{for(let u=0;u<s;++u){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}r=n.length,t=ES(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,n){const s=this.getFlatCoordinates();if(s){const r=this.getStride();ep(s,0,s.length,r,t,n,s),this.changed()}}scale(t,n,s){n===void 0&&(n=t),s||(s=Xs(this.getExtent()));const r=this.getFlatCoordinates();if(r){const u=this.getStride();_S(r,0,r.length,u,t,n,s,r),this.changed()}}translate(t,n){const s=this.getFlatCoordinates();if(s){const r=this.getStride();mS(s,0,s.length,r,t,n,s),this.changed()}}}function ES(a){let t;return a==2?t="XY":a==3?t="XYZ":a==4&&(t="XYZM"),t}function Zy(a){let t;return a=="XY"?t=2:a=="XYZ"||a=="XYM"?t=3:a=="XYZM"&&(t=4),t}function vS(a,t,n){const s=a.getFlatCoordinates();if(!s)return null;const r=a.getStride();return rs(s,0,s.length,r,t,n)}function np(a,t,n,s){let r=0;const u=a[n-s],c=a[n-s+1];let f=0,d=0;for(;t<n;t+=s){const _=a[t]-u,m=a[t+1]-c;r+=d*_-f*m,f=_,d=m}return r/2}function SS(a,t,n,s){let r=0;for(let u=0,c=n.length;u<c;++u){const f=n[u];r+=np(a,t,f,s),t=f}return r}function jy(a,t,n,s,r,u,c){const f=a[t],d=a[t+1],_=a[n]-f,m=a[n+1]-d;let y;if(_===0&&m===0)y=t;else{const E=((r-f)*_+(u-d)*m)/(_*_+m*m);if(E>1)y=n;else if(E>0){for(let S=0;S<s;++S)c[S]=mn(a[t+S],a[n+S],E);c.length=s;return}else y=t}for(let E=0;E<s;++E)c[E]=a[y+E];c.length=s}function ip(a,t,n,s,r){let u=a[t],c=a[t+1];for(t+=s;t<n;t+=s){const f=a[t],d=a[t+1],_=Zl(u,c,f,d);_>r&&(r=_),u=f,c=d}return r}function xS(a,t,n,s,r){for(let u=0,c=n.length;u<c;++u){const f=n[u];r=ip(a,t,f,s,r),t=f}return r}function sp(a,t,n,s,r,u,c,f,d,_,m){if(t==n)return _;let y,E;if(r===0){if(E=Zl(c,f,a[t],a[t+1]),E<_){for(y=0;y<s;++y)d[y]=a[t+y];return d.length=s,E}return _}m=m||[NaN,NaN];let S=t+s;for(;S<n;)if(jy(a,S-s,S,s,c,f,m),E=Zl(c,f,m[0],m[1]),E<_){for(_=E,y=0;y<s;++y)d[y]=m[y];d.length=s,S+=s}else S+=s*Math.max((Math.sqrt(E)-Math.sqrt(_))/r|0,1);if(jy(a,n-s,t,s,c,f,m),E=Zl(c,f,m[0],m[1]),E<_){for(_=E,y=0;y<s;++y)d[y]=m[y];d.length=s}return _}function TS(a,t,n,s,r,u,c,f,d,_,m){m=m||[NaN,NaN];for(let y=0,E=n.length;y<E;++y){const S=n[y];_=sp(a,t,S,s,r,u,c,f,d,_,m),t=S}return _}function RS(a,t,n,s){for(let r=0,u=n.length;r<u;++r)a[t++]=n[r];return t}function lp(a,t,n,s){for(let r=0,u=n.length;r<u;++r){const c=n[r];for(let f=0;f<s;++f)a[t++]=c[f]}return t}function CS(a,t,n,s,r){r=r||[];let u=0;for(let c=0,f=n.length;c<f;++c){const d=lp(a,t,n[c],s);r[u++]=d,t=d}return r.length=u,r}function kl(a,t,n,s,r){r=r!==void 0?r:[];let u=0;for(let c=t;c<n;c+=s)r[u++]=a.slice(c,c+s);return r.length=u,r}function _u(a,t,n,s,r){r=r!==void 0?r:[];let u=0;for(let c=0,f=n.length;c<f;++c){const d=n[c];r[u++]=kl(a,t,d,s,r[u]),t=d}return r.length=u,r}function Ky(a,t,n,s,r){r=r!==void 0?r:[];let u=0;for(let c=0,f=n.length;c<f;++c){const d=n[c];r[u++]=d.length===1&&d[0]===t?[]:_u(a,t,d,s,r[u]),t=d[d.length-1]}return r.length=u,r}function hd(a,t,n,s,r,u,c){const f=(n-t)/s;if(f<3){for(;t<n;t+=s)u[c++]=a[t],u[c++]=a[t+1];return c}const d=new Array(f);d[0]=1,d[f-1]=1;const _=[t,n-s];let m=0;for(;_.length>0;){const y=_.pop(),E=_.pop();let S=0;const x=a[E],b=a[E+1],C=a[y],M=a[y+1];for(let I=E+s;I<y;I+=s){const X=a[I],D=a[I+1],w=Ov(X,D,x,b,C,M);w>S&&(m=I,S=w)}S>r&&(d[(m-t)/s]=1,E+s<m&&_.push(E,m),m+s<y&&_.push(m,y))}for(let y=0;y<f;++y)d[y]&&(u[c++]=a[t+y*s],u[c++]=a[t+y*s+1]);return c}function bS(a,t,n,s,r,u,c,f){for(let d=0,_=n.length;d<_;++d){const m=n[d];c=hd(a,t,m,s,r,u,c),f.push(c),t=m}return c}function Ls(a,t){return t*Math.round(a/t)}function AS(a,t,n,s,r,u,c){if(t==n)return c;let f=Ls(a[t],r),d=Ls(a[t+1],r);t+=s,u[c++]=f,u[c++]=d;let _,m;do if(_=Ls(a[t],r),m=Ls(a[t+1],r),t+=s,t==n)return u[c++]=_,u[c++]=m,c;while(_==f&&m==d);for(;t<n;){const y=Ls(a[t],r),E=Ls(a[t+1],r);if(t+=s,y==_&&E==m)continue;const S=_-f,x=m-d,b=y-f,C=E-d;if(S*C==x*b&&(S<0&&b<S||S==b||S>0&&b>S)&&(x<0&&C<x||x==C||x>0&&C>x)){_=y,m=E;continue}u[c++]=_,u[c++]=m,f=_,d=m,_=y,m=E}return u[c++]=_,u[c++]=m,c}function ap(a,t,n,s,r,u,c,f){for(let d=0,_=n.length;d<_;++d){const m=n[d];c=AS(a,t,m,s,r,u,c),f.push(c),t=m}return c}class Tr extends cd{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new Tr(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,s,r){return r<U0(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ip(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),sp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,s,r))}getArea(){return np(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return kl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=hd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new Tr(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=lp(this.flatCoordinates,0,t,this.stride),this.changed()}}class Nu extends cd{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new Nu(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,r){const u=this.flatCoordinates,c=Zl(t,n,u[0],u[1]);if(c<r){const f=this.stride;for(let d=0;d<f;++d)s[d]=u[d];return s.length=f,c}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return X0(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return Y0(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=RS(this.flatCoordinates,0,t,this.stride),this.changed()}}function MS(a,t,n,s,r){return!B0(r,function(c){return!zs(a,t,n,s,c[0],c[1])})}function zs(a,t,n,s,r,u){let c=0,f=a[n-s],d=a[n-s+1];for(;t<n;t+=s){const _=a[t],m=a[t+1];d<=u?m>u&&(_-f)*(u-d)-(r-f)*(m-d)>0&&c++:m<=u&&(_-f)*(u-d)-(r-f)*(m-d)<0&&c--,f=_,d=m}return c!==0}function rp(a,t,n,s,r,u){if(n.length===0||!zs(a,t,n[0],s,r,u))return!1;for(let c=1,f=n.length;c<f;++c)if(zs(a,n[c-1],n[c],s,r,u))return!1;return!0}function fd(a,t,n,s,r,u,c){let f,d,_,m,y,E,S;const x=r[u+1],b=[];for(let I=0,X=n.length;I<X;++I){const D=n[I];for(m=a[D-s],E=a[D-s+1],f=t;f<D;f+=s)y=a[f],S=a[f+1],(x<=E&&S<=x||E<=x&&x<=S)&&(_=(x-E)/(S-E)*(y-m)+m,b.push(_)),m=y,E=S}let C=NaN,M=-1/0;for(b.sort(yi),m=b[0],f=1,d=b.length;f<d;++f){y=b[f];const I=Math.abs(y-m);I>M&&(_=(m+y)/2,rp(a,t,n,s,_,x)&&(C=_,M=I)),m=y}return isNaN(C)&&(C=r[u]),c?(c.push(C,x,M),c):[C,x,M]}function wS(a,t,n,s,r){let u=[];for(let c=0,f=n.length;c<f;++c){const d=n[c];u=fd(a,t,d,s,r,2*c,u),t=d[d.length-1]}return u}function OS(a,t,n,s,r){let u;for(t+=s;t<n;t+=s)if(u=r(a.slice(t-s,t),a.slice(t,t+s)),u)return u;return!1}function op(a,t,n,s,r,u){return u=u??F0(vn(),a,t,n,s),Ze(r,u)?u[0]>=r[0]&&u[2]<=r[2]||u[1]>=r[1]&&u[3]<=r[3]?!0:OS(a,t,n,s,function(c,f){return wv(r,c,f)}):!1}function up(a,t,n,s,r){return!!(op(a,t,n,s,r)||zs(a,t,n,s,r[0],r[1])||zs(a,t,n,s,r[0],r[3])||zs(a,t,n,s,r[2],r[1])||zs(a,t,n,s,r[2],r[3]))}function DS(a,t,n,s,r){if(!up(a,t,n[0],s,r))return!1;if(n.length===1)return!0;for(let u=1,c=n.length;u<c;++u)if(MS(a,n[u-1],n[u],s,r)&&!op(a,n[u-1],n[u],s,r))return!1;return!0}function LS(a,t,n,s){for(;t<n-s;){for(let r=0;r<s;++r){const u=a[t+r];a[t+r]=a[n-s+r],a[n-s+r]=u}t+=s,n-=s}}function dd(a,t,n,s){let r=0,u=a[n-s],c=a[n-s+1];for(;t<n;t+=s){const f=a[t],d=a[t+1];r+=(f-u)*(d+c),u=f,c=d}return r===0?void 0:r>0}function IS(a,t,n,s,r){r=r!==void 0?r:!1;for(let u=0,c=n.length;u<c;++u){const f=n[u],d=dd(a,t,f,s);if(u===0){if(r&&d||!r&&!d)return!1}else if(r&&!d||!r&&d)return!1;t=f}return!0}function qy(a,t,n,s,r){r=r!==void 0?r:!1;for(let u=0,c=n.length;u<c;++u){const f=n[u],d=dd(a,t,f,s);(u===0?r&&d||!r&&!d:r&&!d||!r&&d)&&LS(a,t,f,s),t=f}return t}function NS(a,t){const n=[];let s=0,r=0,u;for(let c=0,f=t.length;c<f;++c){const d=t[c],_=dd(a,s,d,2);if(u===void 0&&(u=_),_===u)n.push(t.slice(r,c+1));else{if(n.length===0)continue;n[n.length-1].push(t[r])}r=c+1,s=d}return n}class Rr extends cd{constructor(t,n,s){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&s?(this.setFlatCoordinates(n,t),this.ends_=s):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?Qf(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new Rr(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,s,r){return r<U0(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(xS(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),TS(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,s,r))}containsXY(t,n){return rp(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return SS(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),qy(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,_u(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=Xs(this.getExtent());this.flatInteriorPoint_=fd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Nu(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new Tr(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,s=this.ends_,r=[];let u=0;for(let c=0,f=s.length;c<f;++c){const d=s[c],_=new Tr(n.slice(u,d),t);r.push(_),u=d}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;IS(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=qy(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],s=[];return n.length=ap(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,s),new Rr(n,"XY",s)}getType(){return"Polygon"}intersectsExtent(t){return DS(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const s=CS(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()}}function Vy(a){if(Ou(a))throw new Error("Cannot create polygon from empty extent");const t=a[0],n=a[1],s=a[2],r=a[3],u=[t,n,t,r,s,r,s,n,t,n];return new Rr(u,"XY",[u.length])}function Wy(a,t,n,s,r,u,c){let f,d;const _=(n-t)/s;if(_===1)f=t;else if(_===2)f=t,d=r;else if(_!==0){let m=a[t],y=a[t+1],E=0;const S=[0];for(let C=t+s;C<n;C+=s){const M=a[C],I=a[C+1];E+=Math.sqrt((M-m)*(M-m)+(I-y)*(I-y)),S.push(E),m=M,y=I}const x=r*E,b=yv(S,x);b<0?(d=(x-S[-b-2])/(S[-b-1]-S[-b-2]),f=t+(-b-2)*s):f=t+b*s}c=c>1?c:2,u=u||new Array(c);for(let m=0;m<c;++m)u[m]=f===void 0?NaN:d===void 0?a[f+m]:mn(a[f+m],a[f+s+m],d);return u}function zS(a,t,n,s){let r=a[t],u=a[t+1],c=0;for(let f=t+s;f<n;f+=s){const d=a[f],_=a[f+1];c+=Math.sqrt((d-r)*(d-r)+(_-u)*(_-u)),r=d,u=_}return c}const yn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Fs=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",GS=Fs.includes("safari")&&!Fs.includes("chrom");GS&&(Fs.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Fs));const US=Fs.includes("webkit")&&!Fs.includes("edge"),cp=Fs.includes("macintosh"),YS=typeof devicePixelRatio<"u"?devicePixelRatio:1,gd=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,hp=typeof Image<"u"&&Image.prototype.decode,fp=function(){let a=!1;try{const t=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return a}(),Et={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function ce(a,t,n,s){let r;return n&&n.length?r=n.shift():gd?r=new OffscreenCanvas(a||300,t||300):r=document.createElement("canvas"),a&&(r.width=a),t&&(r.height=t),r.getContext("2d",s)}let cf;function mu(){return cf||(cf=ce(1,1)),cf}function zu(a){const t=a.canvas;t.width=1,t.height=1,a.clearRect(0,0,1,1)}function XS(a){let t=a.offsetWidth;const n=getComputedStyle(a);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function FS(a){let t=a.offsetHeight;const n=getComputedStyle(a);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function Qy(a,t){const n=t.parentNode;n&&n.replaceChild(a,t)}function dp(a){for(;a.lastChild;)a.lastChild.remove()}function BS(a,t){const n=a.childNodes;for(let s=0;;++s){const r=n[s],u=t[s];if(!r&&!u)break;if(r!==u){if(!r){a.appendChild(u);continue}if(!u){a.removeChild(r),--s;continue}a.insertBefore(u,r)}}}const _d=[NaN,NaN,NaN,0];let hf;function HS(){return hf||(hf=ce(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),hf}const PS=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,kS=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,ZS=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,jS=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function nu(a,t){return a.endsWith("%")?Number(a.substring(0,a.length-1))/t:Number(a)}function pr(a){throw new Error('failed to parse "'+a+'" as color')}function gp(a){if(a.toLowerCase().startsWith("rgb")){const u=a.match(kS)||a.match(PS)||a.match(ZS);if(u){const c=u[4],f=100/255;return[Wt(nu(u[1],f)+.5|0,0,255),Wt(nu(u[2],f)+.5|0,0,255),Wt(nu(u[3],f)+.5|0,0,255),c!==void 0?Wt(nu(c,100),0,1):1]}pr(a)}if(a.startsWith("#")){if(jS.test(a)){const u=a.substring(1),c=u.length<=4?1:2,f=[0,0,0,255];for(let d=0,_=u.length;d<_;d+=c){let m=parseInt(u.substring(d,d+c),16);c===1&&(m+=m<<4),f[d/c]=m}return f[3]=f[3]/255,f}pr(a)}const t=HS();t.fillStyle="#abcdef";let n=t.fillStyle;t.fillStyle=a,t.fillStyle===n&&(t.fillStyle="#fedcba",n=t.fillStyle,t.fillStyle=a,t.fillStyle===n&&pr(a));const s=t.fillStyle;if(s.startsWith("#")||s.startsWith("rgba"))return gp(s);t.clearRect(0,0,1,1),t.fillRect(0,0,1,1);const r=Array.from(t.getImageData(0,0,1,1).data);return r[3]=Du(r[3]/255,3),r}function KS(a){return typeof a=="string"?a:yd(a)}const qS=1024,ar={};let ff=0;function VS(a){if(a.length===4)return a;const t=a.slice();return t[3]=1,t}function df(a){return a>.0031308?Math.pow(a,1/2.4)*269.025-14.025:a*3294.6}function gf(a){return a>.2068965?Math.pow(a,3):(a-4/29)*(108/841)}function _f(a){return a>10.314724?Math.pow((a+14.025)/269.025,2.4):a/3294.6}function mf(a){return a>.0088564?Math.pow(a,1/3):a/(108/841)+4/29}function Jy(a){const t=_f(a[0]),n=_f(a[1]),s=_f(a[2]),r=mf(t*.222488403+n*.716873169+s*.06060791),u=500*(mf(t*.452247074+n*.399439023+s*.148375274)-r),c=200*(r-mf(t*.016863605+n*.117638439+s*.865350722)),f=Math.atan2(c,u)*(180/Math.PI);return[116*r-16,Math.sqrt(u*u+c*c),f<0?f+360:f,a[3]]}function WS(a){const t=(a[0]+16)/116,n=a[1],s=a[2]*Math.PI/180,r=gf(t),u=gf(t+n/500*Math.cos(s)),c=gf(t-n/200*Math.sin(s)),f=df(u*3.021973625-r*1.617392459-c*.404875592),d=df(u*-.943766287+r*1.916279586+c*.027607165),_=df(u*.069407491-r*.22898585+c*1.159737864);return[Wt(f+.5|0,0,255),Wt(d+.5|0,0,255),Wt(_+.5|0,0,255),a[3]]}function md(a){if(a==="none")return _d;if(ar.hasOwnProperty(a))return ar[a];if(ff>=qS){let n=0;for(const s in ar)(n++&3)===0&&(delete ar[s],--ff)}const t=gp(a);t.length!==4&&pr(a);for(const n of t)isNaN(n)&&pr(a);return ar[a]=t,++ff,t}function ta(a){return Array.isArray(a)?a:md(a)}function yd(a){let t=a[0];t!=(t|0)&&(t=t+.5|0);let n=a[1];n!=(n|0)&&(n=n+.5|0);let s=a[2];s!=(s|0)&&(s=s+.5|0);const r=a[3]===void 0?1:Math.round(a[3]*1e3)/1e3;return"rgba("+t+","+n+","+s+","+r+")"}function QS(a,t,n){const s=a;let r=!0,u=!1,c=!1;const f=[cu(s,pt.LOAD,function(){c=!0,u||t()})];return s.src&&hp?(u=!0,s.decode().then(function(){r&&t()}).catch(function(d){r&&(c?t():n())})):f.push(cu(s,pt.ERROR,n)),function(){r=!1,f.forEach(Kt)}}function JS(a,t){return new Promise((n,s)=>{function r(){c(),n(a)}function u(){c(),s(new Error("Image load error"))}function c(){a.removeEventListener("load",r),a.removeEventListener("error",u)}a.addEventListener("load",r),a.addEventListener("error",u)})}function $S(a,t){return t&&(a.src=t),a.src&&hp?new Promise((n,s)=>a.decode().then(()=>n(a)).catch(r=>a.complete&&a.width?n(a):s(r))):JS(a)}class tx{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const n in this.cache_){const s=this.cache_[n];(t++&3)===0&&!s.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(t,n,s){const r=yf(t,n,s);return r in this.cache_?this.cache_[r]:null}getPattern(t,n,s){const r=yf(t,n,s);return r in this.patternCache_?this.patternCache_[r]:null}set(t,n,s,r,u){const c=yf(t,n,s),f=c in this.cache_;this.cache_[c]=r,u&&(r.getImageState()===Et.IDLE&&r.load(),r.getImageState()===Et.LOADING?r.ready().then(()=>{this.patternCache_[c]=mu().createPattern(r.getImage(1),"repeat")}):this.patternCache_[c]=mu().createPattern(r.getImage(1),"repeat")),f||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function yf(a,t,n){const s=n?ta(n):"null";return t+":"+a+":"+s}const pn=new tx;let rr=null;class _p extends Cu{constructor(t,n,s,r,u){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=s,this.canvas_={},this.color_=u,this.imageState_=r===void 0?Et.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Et.LOADED){rr||(rr=ce(1,1,void 0,{willReadFrequently:!0})),rr.drawImage(this.image_,0,0);try{rr.getImageData(0,0,1,1),this.tainted_=!1}catch{rr=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(pt.CHANGE)}handleImageError_(){this.imageState_=Et.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Et.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],n=this.size_[1],s=ce(t,n);s.fillRect(0,0,t,n),this.hitDetectionImage_=s.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Et.IDLE){this.image_||this.initializeImage_(),this.imageState_=Et.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&$S(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==Et.LOADED)return;const n=this.image_,s=ce(Math.ceil(n.width*t),Math.ceil(n.height*t)),r=s.canvas;s.scale(t,t),s.drawImage(n,0,0),s.globalCompositeOperation="multiply",s.fillStyle=KS(this.color_),s.fillRect(0,0,r.width/t,r.height/t),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0),this.canvas_[t]=r}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===Et.LOADED||this.imageState_===Et.ERROR)t();else{const n=()=>{(this.imageState_===Et.LOADED||this.imageState_===Et.ERROR)&&(this.removeEventListener(pt.CHANGE,n),t())};this.addEventListener(pt.CHANGE,n)}})),this.ready_}}function pd(a,t,n,s,r,u){let c=t===void 0?void 0:pn.get(t,n,r);return c||(c=new _p(a,a&&"src"in a?a.src||void 0:t,n,s,r),pn.set(t,n,r,c,u)),u&&c&&!pn.getPattern(t,n,r)&&pn.set(t,n,r,c,u),c}function jn(a){return a?Array.isArray(a)?yd(a):typeof a=="object"&&"src"in a?ex(a):a:null}function ex(a){if(!a.offset||!a.size)return pn.getPattern(a.src,"anonymous",a.color);const t=a.src+":"+a.offset,n=pn.getPattern(t,void 0,a.color);if(n)return n;const s=pn.get(a.src,"anonymous",null);if(s.getImageState()!==Et.LOADED)return null;const r=ce(a.size[0],a.size[1]);return r.drawImage(s.getImage(1),a.offset[0],a.offset[1],a.size[0],a.size[1],0,0,a.size[0],a.size[1]),pd(r.canvas,t,void 0,Et.LOADED,a.color,!0),pn.getPattern(t,void 0,a.color)}class mp{drawCustom(t,n,s,r,u){}drawGeometry(t){}setStyle(t){}drawCircle(t,n,s){}drawFeature(t,n,s){}drawGeometryCollection(t,n,s){}drawLineString(t,n,s){}drawMultiLineString(t,n,s){}drawMultiPoint(t,n,s){}drawMultiPolygon(t,n,s){}drawPoint(t,n,s){}drawPolygon(t,n,s){}drawText(t,n,s){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}}const iu="ol-hidden",nx="ol-selectable",Gu="ol-unselectable",Ed="ol-control",$y="ol-collapsed",ix=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),t0=["style","variant","weight","size","lineHeight","family"],Bf={normal:400,bold:700},Hf=function(a){const t=a.match(ix);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let s=0,r=t0.length;s<r;++s){const u=t[s+1];u!==void 0&&(n[t0[s]]=typeof u=="string"?u.trim():u)}return isNaN(Number(n.weight))&&n.weight in Bf&&(n.weight=Bf[n.weight]),n.families=n.family.split(/,\s?/).map(s=>s.trim().replace(/^['"]|['"]$/g,"")),n},yp="10px sans-serif",Pe="#000",ea="round",pi=[],Ei=0,na="round",Cr=10,br="#000",Ar="center",yu="middle",Gs=[0,0,0,0],Mr=1,Yl=new In;let or=null,e0;const Pf={},sx=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function lx(a,t,n){return`${a} ${t} 16px "${n}"`}const ax=function(){let t,n;async function s(u){await n.ready;const c=await n.load(u);if(c.length===0)return!1;const f=Hf(u),d=f.families[0].toLowerCase(),_=f.weight;return c.some(m=>{const y=m.family.replace(/^['"]|['"]$/g,"").toLowerCase(),E=Bf[m.weight]||m.weight;return y===d&&m.style===f.style&&E==_})}async function r(){await n.ready;let u=!0;const c=Yl.getProperties(),f=Object.keys(c).filter(d=>c[d]<100);for(let d=f.length-1;d>=0;--d){const _=f[d];let m=c[_];m<100&&(await s(_)?(Dr(Pf),Yl.set(_,100)):(m+=10,Yl.set(_,m,!0),m<100&&(u=!1)))}t=void 0,u||(t=setTimeout(r,100))}return async function(u){n||(n=gd?self.fonts:document.fonts);const c=Hf(u);if(!c)return;const f=c.families;let d=!1;for(const _ of f){if(sx.has(_))continue;const m=lx(c.style,c.weight,_);Yl.get(m)===void 0&&(Yl.set(m,0,!0),d=!0)}d&&(clearTimeout(t),t=setTimeout(r,100))}}(),rx=function(){let a;return function(t){let n=Pf[t];if(n==null){if(gd){const s=Hf(t),r=pp(t,"g");n=(isNaN(Number(s.lineHeight))?1.2:Number(s.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else a||(a=document.createElement("div"),a.innerHTML="M",a.style.minHeight="0",a.style.maxHeight="none",a.style.height="auto",a.style.padding="0",a.style.border="none",a.style.position="absolute",a.style.display="block",a.style.left="-99999px"),a.style.font=t,document.body.appendChild(a),n=a.offsetHeight,document.body.removeChild(a);Pf[t]=n}return n}}();function pp(a,t){return or||(or=ce(1,1)),a!=e0&&(or.font=a,e0=or.font),or.measureText(t)}function Ep(a,t){return pp(a,t).width}function n0(a,t,n){if(t in n)return n[t];const s=t.split(`
`).reduce((r,u)=>Math.max(r,Ep(a,u)),0);return n[t]=s,s}function ox(a,t){const n=[],s=[],r=[];let u=0,c=0,f=0,d=0;for(let _=0,m=t.length;_<=m;_+=2){const y=t[_];if(y===`
`||_===m){u=Math.max(u,c),r.push(c),c=0,f+=d,d=0;continue}const E=t[_+1]||a.font,S=Ep(E,y);n.push(S),c+=S;const x=rx(E);s.push(x),d=Math.max(d,x)}return{width:u,height:f,widths:n,heights:s,lineWidths:r}}function ux(a,t,n,s,r,u,c,f,d,_,m){a.save(),n!==1&&(a.globalAlpha===void 0?a.globalAlpha=y=>y.globalAlpha*=n:a.globalAlpha*=n),t&&a.transform.apply(a,t),s.contextInstructions?(a.translate(d,_),a.scale(m[0],m[1]),cx(s,a)):m[0]<0||m[1]<0?(a.translate(d,_),a.scale(m[0],m[1]),a.drawImage(s,r,u,c,f,0,0,c,f)):a.drawImage(s,r,u,c,f,d,_,c*m[0],f*m[1]),a.restore()}function cx(a,t){const n=a.contextInstructions;for(let s=0,r=n.length;s<r;s+=2)Array.isArray(n[s+1])?t[n[s]].apply(t,n[s+1]):t[n[s]]=n[s+1]}class hx extends mp{constructor(t,n,s,r,u,c,f){super(),this.context_=t,this.pixelRatio_=n,this.extent_=s,this.transform_=r,this.transformRotation_=r?Du(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=u,this.squaredTolerance_=c,this.userTransform_=f,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Dn()}drawImages_(t,n,s,r){if(!this.image_)return;const u=rs(t,n,s,r,this.transform_,this.pixelCoordinates_),c=this.context_,f=this.tmpLocalTransform_,d=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=d*this.imageOpacity_);let _=this.imageRotation_;this.transformRotation_===0&&(_-=this.viewRotation_),this.imageRotateWithView_&&(_+=this.viewRotation_);for(let m=0,y=u.length;m<y;m+=2){const E=u[m]-this.imageAnchorX_,S=u[m+1]-this.imageAnchorY_;if(_!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const x=E+this.imageAnchorX_,b=S+this.imageAnchorY_;vi(f,x,b,1,1,_,-x,-b),c.save(),c.transform.apply(c,f),c.translate(x,b),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.restore()}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,E,S,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=d)}drawText_(t,n,s,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const u=rs(t,n,s,r,this.transform_,this.pixelCoordinates_),c=this.context_;let f=this.textRotation_;for(this.transformRotation_===0&&(f-=this.viewRotation_),this.textRotateWithView_&&(f+=this.viewRotation_);n<s;n+=r){const d=u[n]+this.textOffsetX_,_=u[n+1]+this.textOffsetY_;f!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(c.save(),c.translate(d-this.textOffsetX_,_-this.textOffsetY_),c.rotate(f),c.translate(this.textOffsetX_,this.textOffsetY_),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.restore()):(this.textStrokeState_&&c.strokeText(this.text_,d,_),this.textFillState_&&c.fillText(this.text_,d,_))}}moveToLineTo_(t,n,s,r,u){const c=this.context_,f=rs(t,n,s,r,this.transform_,this.pixelCoordinates_);c.moveTo(f[0],f[1]);let d=f.length;u&&(d-=2);for(let _=2;_<d;_+=2)c.lineTo(f[_],f[_+1]);return u&&c.closePath(),s}drawRings_(t,n,s,r){for(let u=0,c=s.length;u<c;++u)n=this.moveToLineTo_(t,n,s[u],r,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ze(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=vS(t,this.transform_,this.pixelCoordinates_),s=n[2]-n[0],r=n[3]-n[1],u=Math.sqrt(s*s+r*r),c=this.context_;c.beginPath(),c.arc(n[0],n[1],u,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,n){const s=n.getGeometryFunction()(t);s&&(this.setStyle(n),this.drawGeometry(s))}drawGeometryCollection(t){const n=t.getGeometriesArray();for(let s=0,r=n.length;s<r;++s)this.drawGeometry(n[s])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ze(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(s,0,s.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){const n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getExtent();if(Ze(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const s=this.context_,r=t.getFlatCoordinates();let u=0;const c=t.getEnds(),f=t.getStride();s.beginPath();for(let d=0,_=c.length;d<_;++d)u=this.moveToLineTo_(r,u,c[d],f,!1);s.stroke()}if(this.text_!==""){const s=t.getFlatMidpoints();this.drawText_(s,0,s.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ze(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ze(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getOrientedFlatCoordinates();let r=0;const u=t.getEndss(),c=t.getStride();n.beginPath();for(let f=0,d=u.length;f<d;++f){const _=u[f];r=this.drawRings_(s,r,_,c)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){const n=this.context_,s=this.contextFillState_;s?s.fillStyle!=t.fillStyle&&(s.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const n=this.context_,s=this.contextStrokeState_;s?(s.lineCap!=t.lineCap&&(s.lineCap=t.lineCap,n.lineCap=t.lineCap),cs(s.lineDash,t.lineDash)||n.setLineDash(s.lineDash=t.lineDash),s.lineDashOffset!=t.lineDashOffset&&(s.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),s.lineJoin!=t.lineJoin&&(s.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),s.lineWidth!=t.lineWidth&&(s.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),s.miterLimit!=t.miterLimit&&(s.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),s.strokeStyle!=t.strokeStyle&&(s.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const n=this.context_,s=this.contextTextState_,r=t.textAlign?t.textAlign:Ar;s?(s.font!=t.font&&(s.font=t.font,n.font=t.font),s.textAlign!=r&&(s.textAlign=r,n.textAlign=r),s.textBaseline!=t.textBaseline&&(s.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=r,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{const s=t.getColor();this.fillState_={fillStyle:jn(s||Pe)}}if(!n)this.strokeState_=null;else{const s=n.getColor(),r=n.getLineCap(),u=n.getLineDash(),c=n.getLineDashOffset(),f=n.getLineJoin(),d=n.getWidth(),_=n.getMiterLimit(),m=u||pi;this.strokeState_={lineCap:r!==void 0?r:ea,lineDash:this.pixelRatio_===1?m:m.map(y=>y*this.pixelRatio_),lineDashOffset:(c||Ei)*this.pixelRatio_,lineJoin:f!==void 0?f:na,lineWidth:(d!==void 0?d:Mr)*this.pixelRatio_,miterLimit:_!==void 0?_:Cr,strokeStyle:jn(s||br)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}const s=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),u=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*s,this.imageAnchorY_=r[1]*s,this.imageHeight_=n[1]*s,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=u[0],this.imageOriginY_=u[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const c=t.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/s,c[1]*this.pixelRatio_/s],this.imageWidth_=n[0]*s}setTextStyle(t){if(!t)this.text_="";else{const n=t.getFill();if(!n)this.textFillState_=null;else{const S=n.getColor();this.textFillState_={fillStyle:jn(S||Pe)}}const s=t.getStroke();if(!s)this.textStrokeState_=null;else{const S=s.getColor(),x=s.getLineCap(),b=s.getLineDash(),C=s.getLineDashOffset(),M=s.getLineJoin(),I=s.getWidth(),X=s.getMiterLimit();this.textStrokeState_={lineCap:x!==void 0?x:ea,lineDash:b||pi,lineDashOffset:C||Ei,lineJoin:M!==void 0?M:na,lineWidth:I!==void 0?I:Mr,miterLimit:X!==void 0?X:Cr,strokeStyle:jn(S||br)}}const r=t.getFont(),u=t.getOffsetX(),c=t.getOffsetY(),f=t.getRotateWithView(),d=t.getRotation(),_=t.getScaleArray(),m=t.getText(),y=t.getTextAlign(),E=t.getTextBaseline();this.textState_={font:r!==void 0?r:yp,textAlign:y!==void 0?y:Ar,textBaseline:E!==void 0?E:yu},this.text_=m!==void 0?Array.isArray(m)?m.reduce((S,x,b)=>S+=b%2?" ":x,""):m:"",this.textOffsetX_=u!==void 0?this.pixelRatio_*u:0,this.textOffsetY_=c!==void 0?this.pixelRatio_*c:0,this.textRotateWithView_=f!==void 0?f:!1,this.textRotation_=d!==void 0?d:0,this.textScale_=[this.pixelRatio_*_[0],this.pixelRatio_*_[1]]}}}const fx=.5,vp={Point:vx,LineString:yx,Polygon:xx,MultiPoint:Sx,MultiLineString:px,MultiPolygon:Ex,GeometryCollection:mx,Circle:gx};function dx(a,t){return parseInt(Lt(a),10)-parseInt(Lt(t),10)}function i0(a,t){const n=Sp(a,t);return n*n}function Sp(a,t){return fx*a/t}function gx(a,t,n,s,r){const u=n.getFill(),c=n.getStroke();if(u||c){const d=a.getBuilder(n.getZIndex(),"Circle");d.setFillStrokeStyle(u,c),d.drawCircle(t,s,r)}const f=n.getText();if(f&&f.getText()){const d=a.getBuilder(n.getZIndex(),"Text");d.setTextStyle(f),d.drawText(t,s)}}function s0(a,t,n,s,r,u,c,f){const d=[],_=n.getImage();if(_){let E=!0;const S=_.getImageState();S==Et.LOADED||S==Et.ERROR?E=!1:S==Et.IDLE&&_.load(),E&&d.push(_.ready())}const m=n.getFill();m&&m.loading()&&d.push(m.ready());const y=d.length>0;return y&&Promise.all(d).then(()=>r(null)),_x(a,t,n,s,u,c,f),y}function _x(a,t,n,s,r,u,c){const f=n.getGeometryFunction()(t);if(!f)return;const d=f.simplifyTransformed(s,r);if(n.getRenderer())xp(a,d,n,t,c);else{const m=vp[d.getType()];m(a,d,n,t,c,u)}}function xp(a,t,n,s,r){if(t.getType()=="GeometryCollection"){const c=t.getGeometries();for(let f=0,d=c.length;f<d;++f)xp(a,c[f],n,s,r);return}a.getBuilder(n.getZIndex(),"Default").drawCustom(t,s,n.getRenderer(),n.getHitDetectionRenderer(),r)}function mx(a,t,n,s,r,u){const c=t.getGeometriesArray();let f,d;for(f=0,d=c.length;f<d;++f){const _=vp[c[f].getType()];_(a,c[f],n,s,r,u)}}function yx(a,t,n,s,r){const u=n.getStroke();if(u){const f=a.getBuilder(n.getZIndex(),"LineString");f.setFillStrokeStyle(null,u),f.drawLineString(t,s,r)}const c=n.getText();if(c&&c.getText()){const f=a.getBuilder(n.getZIndex(),"Text");f.setTextStyle(c),f.drawText(t,s,r)}}function px(a,t,n,s,r){const u=n.getStroke();if(u){const f=a.getBuilder(n.getZIndex(),"LineString");f.setFillStrokeStyle(null,u),f.drawMultiLineString(t,s,r)}const c=n.getText();if(c&&c.getText()){const f=a.getBuilder(n.getZIndex(),"Text");f.setTextStyle(c),f.drawText(t,s,r)}}function Ex(a,t,n,s,r){const u=n.getFill(),c=n.getStroke();if(c||u){const d=a.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(u,c),d.drawMultiPolygon(t,s,r)}const f=n.getText();if(f&&f.getText()){const d=a.getBuilder(n.getZIndex(),"Text");d.setTextStyle(f),d.drawText(t,s,r)}}function vx(a,t,n,s,r,u){const c=n.getImage(),f=n.getText(),d=f&&f.getText(),_=u&&c&&d?{}:void 0;if(c){if(c.getImageState()!=Et.LOADED)return;const m=a.getBuilder(n.getZIndex(),"Image");m.setImageStyle(c,_),m.drawPoint(t,s,r)}if(d){const m=a.getBuilder(n.getZIndex(),"Text");m.setTextStyle(f,_),m.drawText(t,s,r)}}function Sx(a,t,n,s,r,u){const c=n.getImage(),f=c&&c.getOpacity()!==0,d=n.getText(),_=d&&d.getText(),m=u&&f&&_?{}:void 0;if(f){if(c.getImageState()!=Et.LOADED)return;const y=a.getBuilder(n.getZIndex(),"Image");y.setImageStyle(c,m),y.drawMultiPoint(t,s,r)}if(_){const y=a.getBuilder(n.getZIndex(),"Text");y.setTextStyle(d,m),y.drawText(t,s,r)}}function xx(a,t,n,s,r){const u=n.getFill(),c=n.getStroke();if(u||c){const d=a.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(u,c),d.drawPolygon(t,s,r)}const f=n.getText();if(f&&f.getText()){const d=a.getBuilder(n.getZIndex(),"Text");d.setTextStyle(f),d.drawText(t,s,r)}}let Tx=!1;function Rx(a,t,n,s,r,u,c){const f=new XMLHttpRequest;f.open("GET",typeof a=="function"?a(n,s,r):a,!0),t.getType()=="arraybuffer"&&(f.responseType="arraybuffer"),f.withCredentials=Tx,f.onload=function(d){if(!f.status||f.status>=200&&f.status<300){const _=t.getType();try{let m;_=="text"||_=="json"?m=f.responseText:_=="xml"?m=f.responseXML||f.responseText:_=="arraybuffer"&&(m=f.response),m?u(t.readFeatures(m,{extent:n,featureProjection:r}),t.readProjection(m)):c()}catch{c()}}else c()},f.onerror=c,f.send()}function l0(a,t){return function(n,s,r,u,c){Rx(a,t,n,s,r,(f,d)=>{this.addFeatures(f),u!==void 0&&u(f)},()=>{this.changed(),c!==void 0&&c()})}}function Cx(a,t){return[[-1/0,-1/0,1/0,1/0]]}function bx(a,t,n,s){const r=[];let u=vn();for(let c=0,f=n.length;c<f;++c){const d=n[c];u=td(a,t,d[0],s),r.push((u[0]+u[2])/2,(u[1]+u[3])/2),t=d[d.length-1]}return r}const a0=Dn();class wn{constructor(t,n,s,r,u,c){this.styleFunction,this.extent_,this.id_=c,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=s||null,this.properties_=u,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?X0(this.flatCoordinates_):td(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=Xs(this.getExtent());this.flatInteriorPoints_=fd(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=NS(this.flatCoordinates_,this.ends_),n=bx(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=wS(this.flatCoordinates_,0,t,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Wy(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let n=0;const s=this.ends_;for(let r=0,u=s.length;r<u;++r){const c=s[r],f=Wy(t,n,c,2,.5);Qf(this.flatMidpoints_,f),n=c}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=qe(t);const n=t.getExtent(),s=t.getWorldExtent();if(n&&s){const r=ze(s)/ze(n);vi(a0,s[0],s[3],r,-r,0,0,0),rs(this.flatCoordinates_,0,this.flatCoordinates_.length,2,a0,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new wn(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=z0((t,n)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const s=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":s.length=hd(s,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,s,0),r=[s.length];break;case"MultiLineString":r=[],s.length=bS(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,s,0,r);break;case"Polygon":r=[],s.length=ap(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),s,0,r);break}return r&&(this.simplifiedGeometry_=new wn(this.type_,s,r,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}wn.prototype.getFlatCoordinates=wn.prototype.getOrientedFlatCoordinates;function Tp(a,t,n=0,s=a.length-1,r=Ax){for(;s>n;){if(s-n>600){const d=s-n+1,_=t-n+1,m=Math.log(d),y=.5*Math.exp(2*m/3),E=.5*Math.sqrt(m*y*(d-y)/d)*(_-d/2<0?-1:1),S=Math.max(n,Math.floor(t-_*y/d+E)),x=Math.min(s,Math.floor(t+(d-_)*y/d+E));Tp(a,t,S,x,r)}const u=a[t];let c=n,f=s;for(ur(a,n,t),r(a[s],u)>0&&ur(a,n,s);c<f;){for(ur(a,c,f),c++,f--;r(a[c],u)<0;)c++;for(;r(a[f],u)>0;)f--}r(a[n],u)===0?ur(a,n,f):(f++,ur(a,f,s)),f<=t&&(n=f+1),t<=f&&(s=f-1)}}function ur(a,t,n){const s=a[t];a[t]=a[n],a[n]=s}function Ax(a,t){return a<t?-1:a>t?1:0}let Rp=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const s=[];if(!lu(t,n))return s;const r=this.toBBox,u=[];for(;n;){for(let c=0;c<n.children.length;c++){const f=n.children[c],d=n.leaf?r(f):f;lu(t,d)&&(n.leaf?s.push(f):Ef(t,d)?this._all(f,s):u.push(f))}n=u.pop()}return s}collides(t){let n=this.data;if(!lu(t,n))return!1;const s=[];for(;n;){for(let r=0;r<n.children.length;r++){const u=n.children[r],c=n.leaf?this.toBBox(u):u;if(lu(t,c)){if(n.leaf||Ef(t,c))return!0;s.push(u)}}n=s.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let s=0;s<t.length;s++)this.insert(t[s]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const s=this.data;this.data=n,n=s}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Xl([]),this}remove(t,n){if(!t)return this;let s=this.data;const r=this.toBBox(t),u=[],c=[];let f,d,_;for(;s||u.length;){if(s||(s=u.pop(),d=u[u.length-1],f=c.pop(),_=!0),s.leaf){const m=Mx(t,s.children,n);if(m!==-1)return s.children.splice(m,1),u.push(s),this._condense(u),this}!_&&!s.leaf&&Ef(s,r)?(u.push(s),c.push(f),f=0,d=s,s=s.children[0]):d?(f++,s=d.children[f],_=!1):s=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const s=[];for(;t;)t.leaf?n.push(...t.children):s.push(...t.children),t=s.pop();return n}_build(t,n,s,r){const u=s-n+1;let c=this._maxEntries,f;if(u<=c)return f=Xl(t.slice(n,s+1)),Ll(f,this.toBBox),f;r||(r=Math.ceil(Math.log(u)/Math.log(c)),c=Math.ceil(u/Math.pow(c,r-1))),f=Xl([]),f.leaf=!1,f.height=r;const d=Math.ceil(u/c),_=d*Math.ceil(Math.sqrt(c));r0(t,n,s,_,this.compareMinX);for(let m=n;m<=s;m+=_){const y=Math.min(m+_-1,s);r0(t,m,y,d,this.compareMinY);for(let E=m;E<=y;E+=d){const S=Math.min(E+d-1,y);f.children.push(this._build(t,E,S,r-1))}}return Ll(f,this.toBBox),f}_chooseSubtree(t,n,s,r){for(;r.push(n),!(n.leaf||r.length-1===s);){let u=1/0,c=1/0,f;for(let d=0;d<n.children.length;d++){const _=n.children[d],m=pf(_),y=Dx(t,_)-m;y<c?(c=y,u=m<u?m:u,f=_):y===c&&m<u&&(u=m,f=_)}n=f||n.children[0]}return n}_insert(t,n,s){const r=s?t:this.toBBox(t),u=[],c=this._chooseSubtree(r,this.data,n,u);for(c.children.push(t),fr(c,r);n>=0&&u[n].children.length>this._maxEntries;)this._split(u,n),n--;this._adjustParentBBoxes(r,u,n)}_split(t,n){const s=t[n],r=s.children.length,u=this._minEntries;this._chooseSplitAxis(s,u,r);const c=this._chooseSplitIndex(s,u,r),f=Xl(s.children.splice(c,s.children.length-c));f.height=s.height,f.leaf=s.leaf,Ll(s,this.toBBox),Ll(f,this.toBBox),n?t[n-1].children.push(f):this._splitRoot(s,f)}_splitRoot(t,n){this.data=Xl([t,n]),this.data.height=t.height+1,this.data.leaf=!1,Ll(this.data,this.toBBox)}_chooseSplitIndex(t,n,s){let r,u=1/0,c=1/0;for(let f=n;f<=s-n;f++){const d=hr(t,0,f,this.toBBox),_=hr(t,f,s,this.toBBox),m=Lx(d,_),y=pf(d)+pf(_);m<u?(u=m,r=f,c=y<c?y:c):m===u&&y<c&&(c=y,r=f)}return r||s-n}_chooseSplitAxis(t,n,s){const r=t.leaf?this.compareMinX:wx,u=t.leaf?this.compareMinY:Ox,c=this._allDistMargin(t,n,s,r),f=this._allDistMargin(t,n,s,u);c<f&&t.children.sort(r)}_allDistMargin(t,n,s,r){t.children.sort(r);const u=this.toBBox,c=hr(t,0,n,u),f=hr(t,s-n,s,u);let d=su(c)+su(f);for(let _=n;_<s-n;_++){const m=t.children[_];fr(c,t.leaf?u(m):m),d+=su(c)}for(let _=s-n-1;_>=n;_--){const m=t.children[_];fr(f,t.leaf?u(m):m),d+=su(f)}return d}_adjustParentBBoxes(t,n,s){for(let r=s;r>=0;r--)fr(n[r],t)}_condense(t){for(let n=t.length-1,s;n>=0;n--)t[n].children.length===0?n>0?(s=t[n-1].children,s.splice(s.indexOf(t[n]),1)):this.clear():Ll(t[n],this.toBBox)}};function Mx(a,t,n){if(!n)return t.indexOf(a);for(let s=0;s<t.length;s++)if(n(a,t[s]))return s;return-1}function Ll(a,t){hr(a,0,a.children.length,t,a)}function hr(a,t,n,s,r){r||(r=Xl(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let u=t;u<n;u++){const c=a.children[u];fr(r,a.leaf?s(c):c)}return r}function fr(a,t){return a.minX=Math.min(a.minX,t.minX),a.minY=Math.min(a.minY,t.minY),a.maxX=Math.max(a.maxX,t.maxX),a.maxY=Math.max(a.maxY,t.maxY),a}function wx(a,t){return a.minX-t.minX}function Ox(a,t){return a.minY-t.minY}function pf(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function su(a){return a.maxX-a.minX+(a.maxY-a.minY)}function Dx(a,t){return(Math.max(t.maxX,a.maxX)-Math.min(t.minX,a.minX))*(Math.max(t.maxY,a.maxY)-Math.min(t.minY,a.minY))}function Lx(a,t){const n=Math.max(a.minX,t.minX),s=Math.max(a.minY,t.minY),r=Math.min(a.maxX,t.maxX),u=Math.min(a.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,u-s)}function Ef(a,t){return a.minX<=t.minX&&a.minY<=t.minY&&t.maxX<=a.maxX&&t.maxY<=a.maxY}function lu(a,t){return t.minX<=a.maxX&&t.minY<=a.maxY&&t.maxX>=a.minX&&t.maxY>=a.minY}function Xl(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function r0(a,t,n,s,r){const u=[t,n];for(;u.length;){if(n=u.pop(),t=u.pop(),n-t<=s)continue;const c=t+Math.ceil((n-t)/s/2)*s;Tp(a,c,t,n,r),u.push(t,c,c,n)}}class o0{constructor(t){this.rbush_=new Rp(t),this.items_={}}insert(t,n){const s={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(s),this.items_[Lt(n)]=s}load(t,n){const s=new Array(n.length);for(let r=0,u=n.length;r<u;r++){const c=t[r],f=n[r],d={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],value:f};s[r]=d,this.items_[Lt(f)]=d}this.rbush_.load(s)}remove(t){const n=Lt(t),s=this.items_[n];return delete this.items_[n],this.rbush_.remove(s)!==null}update(t,n){const s=this.items_[Lt(n)],r=[s.minX,s.minY,s.maxX,s.maxY];Sr(r,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(r){return r.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let s;for(let r=0,u=t.length;r<u;r++)if(s=n(t[r]),s)return s;return s}isEmpty(){return Ql(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const n=this.rbush_.toJSON();return us(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const n in t.items_)this.items_[n]=t.items_[n]}}class Cp extends In{constructor(t){super(),this.projection=qe(t.projection),this.attributions_=u0(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(s,r){n.viewResolver=s,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=u0(t),this.changed()}setState(t){this.state_=t,this.changed()}}function u0(a){return a?typeof a=="function"?a:(Array.isArray(a)||(a=[a]),t=>a):null}const _n={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class Qi extends Si{constructor(t,n,s){super(t),this.feature=n,this.features=s}}class Ix extends Cp{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=vr,this.format_=t.format||null,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(Gt(this.format_,"`format` must be set when `url` is set"),this.loader_=l0(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:Cx;const n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new o0:null,this.loadedExtentsRtree_=new o0,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let s,r;Array.isArray(t.features)?r=t.features:t.features&&(s=t.features,r=s.getArray()),!n&&s===void 0&&(s=new Zn(r)),r!==void 0&&this.addFeaturesInternal(r),s!==void 0&&this.bindFeaturesCollection_(s)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const n=Lt(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);const s=t.getGeometry();if(s){const r=s.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new Qi(_n.ADDFEATURE,t))}setupChangeEvents_(t,n){n instanceof wn||(this.featureChangeKeys_[t]=[wt(n,pt.CHANGE,this.handleFeatureChange_,this),wt(n,Wl.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,n){let s=!0;if(n.getId()!==void 0){const r=String(n.getId());if(!(r in this.idIndex_))this.idIndex_[r]=n;else if(n instanceof wn){const u=this.idIndex_[r];u instanceof wn?Array.isArray(u)?u.push(n):this.idIndex_[r]=[u,n]:s=!1}else s=!1}return s&&(Gt(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=n),s}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const n=[],s=[],r=[];for(let u=0,c=t.length;u<c;u++){const f=t[u],d=Lt(f);this.addToIndex_(d,f)&&s.push(f)}for(let u=0,c=s.length;u<c;u++){const f=s[u],d=Lt(f);this.setupChangeEvents_(d,f);const _=f.getGeometry();if(_){const m=_.getExtent();n.push(m),r.push(f)}else this.nullGeometryFeatures_[d]=f}if(this.featuresRtree_&&this.featuresRtree_.load(n,r),this.hasListener(_n.ADDFEATURE))for(let u=0,c=s.length;u<c;u++)this.dispatchEvent(new Qi(_n.ADDFEATURE,s[u]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(_n.ADDFEATURE,function(s){n||(n=!0,t.push(s.feature),n=!1)}),this.addEventListener(_n.REMOVEFEATURE,function(s){n||(n=!0,t.remove(s.feature),n=!1)}),t.addEventListener(He.ADD,s=>{n||(n=!0,this.addFeature(s.element),n=!1)}),t.addEventListener(He.REMOVE,s=>{n||(n=!0,this.removeFeature(s.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const s in this.featureChangeKeys_)this.featureChangeKeys_[s].forEach(Kt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(s=>{this.removeFeatureInternal(s)});for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new Qi(_n.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){const s=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(s,function(r){const u=r.getGeometry();if(u instanceof wn||u.intersectsCoordinate(t))return n(r)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(s){const r=s.getGeometry();if(r instanceof wn||r.intersectsExtent(t)){const u=n(s);if(u)return u}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Ql(this.nullGeometryFeatures_)||Qf(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const n=[];return this.forEachFeatureAtCoordinateDirect(t,function(s){n.push(s)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const r=k0(t,n);return[].concat(...r.map(u=>this.featuresRtree_.getInExtent(u)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){const s=t[0],r=t[1];let u=null;const c=[NaN,NaN];let f=1/0;const d=[-1/0,-1/0,1/0,1/0];return n=n||Er,this.featuresRtree_.forEachInExtent(d,function(_){if(n(_)){const m=_.getGeometry(),y=f;if(f=m instanceof wn?0:m.closestPointXY(s,r,c,f),f<y){u=_;const E=Math.sqrt(f);d[0]=s-E,d[1]=r-E,d[2]=s+E,d[3]=r+E}}}),u}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){const n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const n=t.target,s=Lt(n),r=n.getGeometry();if(!r)s in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[s]=n);else{const c=r.getExtent();s in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[s],this.featuresRtree_&&this.featuresRtree_.insert(c,n)):this.featuresRtree_&&this.featuresRtree_.update(c,n)}const u=n.getId();if(u!==void 0){const c=u.toString();this.idIndex_[c]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[c]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[s]=n;this.changed(),this.dispatchEvent(new Qi(_n.CHANGEFEATURE,n))}hasFeature(t){const n=t.getId();return n!==void 0?n in this.idIndex_:Lt(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Ql(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,s){const r=this.loadedExtentsRtree_,u=this.strategy_(t,n,s);for(let c=0,f=u.length;c<f;++c){const d=u[c];r.forEachInExtent(d,function(m){return Hl(m.extent,d)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Qi(_n.FEATURESLOADSTART)),this.loader_.call(this,d,n,s,m=>{--this.loadingExtentsCount_,this.dispatchEvent(new Qi(_n.FEATURESLOADEND,void 0,m))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Qi(_n.FEATURESLOADERROR))}),r.insert(d,{extent:d.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const n=this.loadedExtentsRtree_,s=n.forEachInExtent(t,function(r){if(Sr(r.extent,t))return r});s&&n.remove(s)}removeFeatures(t){let n=!1;for(let s=0,r=t.length;s<r;++s)n=this.removeFeatureInternal(t[s])||n;n&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const n=Lt(t);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.featureChangeKeys_[n]?.forEach(Kt),delete this.featureChangeKeys_[n];const r=t.getId();if(r!==void 0){const u=r.toString(),c=this.idIndex_[u];c===t?delete this.idIndex_[u]:Array.isArray(c)&&(c.splice(c.indexOf(t),1),c.length===1&&(this.idIndex_[u]=c[0]))}return delete this.uidIndex_[n],this.hasListener(_n.REMOVEFEATURE)&&this.dispatchEvent(new Qi(_n.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(const n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n];break}}setLoader(t){this.loader_=t}setUrl(t){Gt(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(l0(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}}class Bs{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new Bs({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const n=pd(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===Et.IDLE&&n.load(),n.getImageState()===Et.LOADING&&(this.patternImage_=n)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?Lt(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:ta(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class ia{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new ia({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}function c0(a){return a[0]>0&&a[1]>0}function Nx(a,t,n){return n===void 0&&(n=[0,0]),n[0]=a[0]*t+.5|0,n[1]=a[1]*t+.5|0,n}function Ke(a,t){return Array.isArray(a)?a:(t===void 0?t=[a,a]:(t[0]=a,t[1]=a),t)}class Uu{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Ke(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Uu({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Dt()}getImage(t){return Dt()}getHitDetectionImage(){return Dt()}getPixelRatio(t){return 1}getImageState(){return Dt()}getImageSize(){return Dt()}getOrigin(){return Dt()}getSize(){return Dt()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Ke(t)}listenImageChange(t){Dt()}load(){Dt()}unlistenImageChange(t){Dt()}ready(){return Promise.resolve()}}class Yu extends Uu{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Et.LOADING:Et.LOADED,this.imageState_===Et.LOADING&&this.ready().then(()=>this.imageState_=Et.LOADED),this.render()}clone(){const t=this.getScale(),n=new Yu({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const t=this.size_,n=this.getDisplacement(),s=this.getScaleArray();return[t[0]/2-n[0]/s[0],t[1]/2+n[1]/s[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){const n=this.fill_?.getKey(),s=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let r=pn.get(s,null,null)?.getImage(1);if(!r){const u=this.renderOptions_,c=Math.ceil(u.size*t),f=ce(c,c);this.draw_(u,f,t),r=f.canvas,pn.set(s,null,null,new _p(r,void 0,null,Et.LOADED,null))}return r}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,s){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let r=this.radius,u=this.radius2_===void 0?r:this.radius2_;if(r<u){const j=r;r=u,u=j}const c=this.radius2_===void 0?this.points_:this.points_*2,f=2*Math.PI/c,d=u*Math.sin(f),_=Math.sqrt(u*u-d*d),m=r-_,y=Math.sqrt(d*d+m*m),E=y/d;if(t==="miter"&&E<=s)return E*n;const S=n/2/E,x=n/2*(m/y),C=Math.sqrt((r+S)*(r+S)+x*x)-r;if(this.radius2_===void 0||t==="bevel")return C*2;const M=r*Math.sin(f),I=Math.sqrt(r*r-M*M),X=u-I,w=Math.sqrt(M*M+X*X)/M;if(w<=s){const j=w*n/2-u-r;return 2*Math.max(C,j)}return C*2}createRenderOptions(){let t=ea,n=na,s=0,r=null,u=0,c,f=0;this.stroke_&&(c=jn(this.stroke_.getColor()??br),f=this.stroke_.getWidth()??Mr,r=this.stroke_.getLineDash(),u=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??na,t=this.stroke_.getLineCap()??ea,s=this.stroke_.getMiterLimit()??Cr);const d=this.calculateLineJoinSize_(n,f,s),_=Math.max(this.radius,this.radius2_||0),m=Math.ceil(2*_+d);return{strokeStyle:c,strokeWidth:f,size:m,lineCap:t,lineDash:r,lineDashOffset:u,lineJoin:n,miterLimit:s}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,n,s){if(n.scale(s,s),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=Pe),n.fillStyle=jn(r),n.fill()}t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineCap=t.lineCap,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){let n;if(this.fill_){let s=this.fill_.getColor(),r=0;typeof s=="string"&&(s=ta(s)),s===null?r=1:Array.isArray(s)&&(r=s.length===4?s[3]:1),r===0&&(n=ce(t.size,t.size),this.drawHitDetectionCanvas_(t,n))}return n?n.canvas:this.getImage(1)}createPath_(t){let n=this.points_;const s=this.radius;if(n===1/0)t.arc(0,0,s,0,2*Math.PI);else{const r=this.radius2_===void 0?s:this.radius2_;this.radius2_!==void 0&&(n*=2);const u=this.angle_-Math.PI/2,c=2*Math.PI/n;for(let f=0;f<n;f++){const d=u+f*c,_=f%2===0?s:r;t.lineTo(_*Math.cos(d),_*Math.sin(d))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=Pe,n.fill(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Nr extends Yu{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),n=new Nr({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius=t,this.render()}}class os{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=h0,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new os({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=h0,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function zx(a){let t;if(typeof a=="function")t=a;else{let n;Array.isArray(a)?n=a:(Gt(typeof a.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[a]),t=function(){return n}}return t}let vf=null;function bp(a,t){if(!vf){const n=new Bs({color:"rgba(255,255,255,0.4)"}),s=new ia({color:"#3399CC",width:1.25});vf=[new os({image:new Nr({fill:n,stroke:s,radius:5}),fill:n,stroke:s})]}return vf}function h0(a){return a.getGeometry()}const Gx="#333";class Xu{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=Ke(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Bs({color:Gx}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Xu({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Ke(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const De={ANIMATING:0,INTERACTING:1},ct={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},au=[ct.FILL],ls=[ct.STROKE],Us=[ct.BEGIN_PATH],f0=[ct.CLOSE_PATH];class zr extends mp{constructor(t,n,s,r){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=s,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const n=this.pixelRatio;return n==1?t:t.map(function(s){return s*n})}appendFlatPointCoordinates(t,n){const s=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,u=this.coordinates;let c=u.length;for(let f=0,d=t.length;f<d;f+=n)r[0]=t[f],r[1]=t[f+1],Jl(s,r)&&(u[c++]=r[0],u[c++]=r[1]);return c}appendFlatLineCoordinates(t,n,s,r,u,c){const f=this.coordinates;let d=f.length;const _=this.getBufferedMaxExtent();c&&(n+=r);let m=t[n],y=t[n+1];const E=this.tmpCoordinate_;let S=!0,x,b,C;for(x=n+r;x<s;x+=r)E[0]=t[x],E[1]=t[x+1],C=If(_,E),C!==b?(S&&(f[d++]=m,f[d++]=y,S=!1),f[d++]=E[0],f[d++]=E[1]):C===ye.INTERSECTING?(f[d++]=E[0],f[d++]=E[1],S=!1):S=!0,m=E[0],y=E[1],b=C;return(u&&S||x===n+r)&&(f[d++]=m,f[d++]=y),d}drawCustomCoordinates_(t,n,s,r,u){for(let c=0,f=s.length;c<f;++c){const d=s[c],_=this.appendFlatLineCoordinates(t,n,d,r,!1,!1);u.push(_),n=d}return n}drawCustom(t,n,s,r,u){this.beginGeometry(t,n,u);const c=t.getType(),f=t.getStride(),d=this.coordinates.length;let _,m,y,E,S;switch(c){case"MultiPolygon":_=t.getOrientedFlatCoordinates(),E=[];const x=t.getEndss();S=0;for(let b=0,C=x.length;b<C;++b){const M=[];S=this.drawCustomCoordinates_(_,S,x[b],f,M),E.push(M)}this.instructions.push([ct.CUSTOM,d,E,t,s,Ky,u]),this.hitDetectionInstructions.push([ct.CUSTOM,d,E,t,r||s,Ky,u]);break;case"Polygon":case"MultiLineString":y=[],_=c=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),S=this.drawCustomCoordinates_(_,0,t.getEnds(),f,y),this.instructions.push([ct.CUSTOM,d,y,t,s,_u,u]),this.hitDetectionInstructions.push([ct.CUSTOM,d,y,t,r||s,_u,u]);break;case"LineString":case"Circle":_=t.getFlatCoordinates(),m=this.appendFlatLineCoordinates(_,0,_.length,f,!1,!1),this.instructions.push([ct.CUSTOM,d,m,t,s,kl,u]),this.hitDetectionInstructions.push([ct.CUSTOM,d,m,t,r||s,kl,u]);break;case"MultiPoint":_=t.getFlatCoordinates(),m=this.appendFlatPointCoordinates(_,f),m>d&&(this.instructions.push([ct.CUSTOM,d,m,t,s,kl,u]),this.hitDetectionInstructions.push([ct.CUSTOM,d,m,t,r||s,kl,u]));break;case"Point":_=t.getFlatCoordinates(),this.coordinates.push(_[0],_[1]),m=this.coordinates.length,this.instructions.push([ct.CUSTOM,d,m,t,s,void 0,u]),this.hitDetectionInstructions.push([ct.CUSTOM,d,m,t,r||s,void 0,u]);break}this.endGeometry(n)}beginGeometry(t,n,s){this.beginGeometryInstruction1_=[ct.BEGIN_GEOMETRY,n,0,t,s],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ct.BEGIN_GEOMETRY,n,0,t,s],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let n;const s=t.length;let r,u,c=-1;for(n=0;n<s;++n)r=t[n],u=r[0],u==ct.END_GEOMETRY?c=n:u==ct.BEGIN_GEOMETRY&&(r[2]=n,Ev(this.hitDetectionInstructions,c,n),c=-1)}fillStyleToState(t,n={}){if(t){const s=t.getColor();n.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,n.fillStyle=jn(s||Pe)}else n.fillStyle=void 0;return n}strokeStyleToState(t,n={}){if(t){const s=t.getColor();n.strokeStyle=jn(s||br);const r=t.getLineCap();n.lineCap=r!==void 0?r:ea;const u=t.getLineDash();n.lineDash=u?u.slice():pi;const c=t.getLineDashOffset();n.lineDashOffset=c||Ei;const f=t.getLineJoin();n.lineJoin=f!==void 0?f:na;const d=t.getWidth();n.lineWidth=d!==void 0?d:Mr;const _=t.getMiterLimit();n.miterLimit=_!==void 0?_:Cr,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(t,n){const s=this.state;this.fillStyleToState(t,s),this.strokeStyleToState(n,s)}createFill(t){const n=t.fillStyle,s=[ct.SET_FILL_STYLE,n];return typeof n!="string"&&s.push(t.fillPatternScale),s}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[ct.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){const s=t.fillStyle;(typeof s!="string"||t.currentFillStyle!=s)&&(this.instructions.push(n.call(this,t)),t.currentFillStyle=s)}updateStrokeStyle(t,n){const s=t.strokeStyle,r=t.lineCap,u=t.lineDash,c=t.lineDashOffset,f=t.lineJoin,d=t.lineWidth,_=t.miterLimit;(t.currentStrokeStyle!=s||t.currentLineCap!=r||u!=t.currentLineDash&&!cs(t.currentLineDash,u)||t.currentLineDashOffset!=c||t.currentLineJoin!=f||t.currentLineWidth!=d||t.currentMiterLimit!=_)&&(n.call(this,t),t.currentStrokeStyle=s,t.currentLineCap=r,t.currentLineDash=u,t.currentLineDashOffset=c,t.currentLineJoin=f,t.currentLineWidth=d,t.currentMiterLimit=_)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[ct.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=G0(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;$f(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class Ux extends zr{constructor(t,n,s,r){super(t,n,s,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n,s){if(!this.image_||this.maxExtent&&!Jl(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,n,s);const r=t.getFlatCoordinates(),u=t.getStride(),c=this.coordinates.length,f=this.appendFlatPointCoordinates(r,u);this.instructions.push([ct.DRAW_IMAGE,c,f,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ct.DRAW_IMAGE,c,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n,s){if(!this.image_)return;this.beginGeometry(t,n,s);const r=t.getFlatCoordinates(),u=[];for(let d=0,_=r.length;d<_;d+=t.getStride())(!this.maxExtent||Jl(this.maxExtent,r.slice(d,d+2)))&&u.push(r[d],r[d+1]);const c=this.coordinates.length,f=this.appendFlatPointCoordinates(u,2);this.instructions.push([ct.DRAW_IMAGE,c,f,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ct.DRAW_IMAGE,c,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){const s=t.getAnchor(),r=t.getSize(),u=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=s[0],this.anchorY_=s[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=u[0],this.originY_=u[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}class Yx extends zr{constructor(t,n,s,r){super(t,n,s,r)}drawFlatCoordinates_(t,n,s,r){const u=this.coordinates.length,c=this.appendFlatLineCoordinates(t,n,s,r,!1,!1),f=[ct.MOVE_TO_LINE_TO,u,c];return this.instructions.push(f),this.hitDetectionInstructions.push(f),s}drawLineString(t,n,s){const r=this.state,u=r.strokeStyle,c=r.lineWidth;if(u===void 0||c===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([ct.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,pi,Ei],Us);const f=t.getFlatCoordinates(),d=t.getStride();this.drawFlatCoordinates_(f,0,f.length,d),this.hitDetectionInstructions.push(ls),this.endGeometry(n)}drawMultiLineString(t,n,s){const r=this.state,u=r.strokeStyle,c=r.lineWidth;if(u===void 0||c===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([ct.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,pi,Ei],Us);const f=t.getEnds(),d=t.getFlatCoordinates(),_=t.getStride();let m=0;for(let y=0,E=f.length;y<E;++y)m=this.drawFlatCoordinates_(d,m,f[y],_);this.hitDetectionInstructions.push(ls),this.endGeometry(n)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(ls),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(ls),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(Us)}}class d0 extends zr{constructor(t,n,s,r){super(t,n,s,r)}drawFlatCoordinatess_(t,n,s,r){const u=this.state,c=u.fillStyle!==void 0,f=u.strokeStyle!==void 0,d=s.length;this.instructions.push(Us),this.hitDetectionInstructions.push(Us);for(let _=0;_<d;++_){const m=s[_],y=this.coordinates.length,E=this.appendFlatLineCoordinates(t,n,m,r,!0,!f),S=[ct.MOVE_TO_LINE_TO,y,E];this.instructions.push(S),this.hitDetectionInstructions.push(S),f&&(this.instructions.push(f0),this.hitDetectionInstructions.push(f0)),n=m}return c&&(this.instructions.push(au),this.hitDetectionInstructions.push(au)),f&&(this.instructions.push(ls),this.hitDetectionInstructions.push(ls)),n}drawCircle(t,n,s){const r=this.state,u=r.fillStyle,c=r.strokeStyle;if(u===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_FILL_STYLE,Pe]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,pi,Ei]);const f=t.getFlatCoordinates(),d=t.getStride(),_=this.coordinates.length;this.appendFlatLineCoordinates(f,0,f.length,d,!1,!1);const m=[ct.CIRCLE,_];this.instructions.push(Us,m),this.hitDetectionInstructions.push(Us,m),r.fillStyle!==void 0&&(this.instructions.push(au),this.hitDetectionInstructions.push(au)),r.strokeStyle!==void 0&&(this.instructions.push(ls),this.hitDetectionInstructions.push(ls)),this.endGeometry(n)}drawPolygon(t,n,s){const r=this.state,u=r.fillStyle,c=r.strokeStyle;if(u===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_FILL_STYLE,Pe]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,pi,Ei]);const f=t.getEnds(),d=t.getOrientedFlatCoordinates(),_=t.getStride();this.drawFlatCoordinatess_(d,0,f,_),this.endGeometry(n)}drawMultiPolygon(t,n,s){const r=this.state,u=r.fillStyle,c=r.strokeStyle;if(u===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_FILL_STYLE,Pe]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,pi,Ei]);const f=t.getEndss(),d=t.getOrientedFlatCoordinates(),_=t.getStride();let m=0;for(let y=0,E=f.length;y<E;++y)m=this.drawFlatCoordinatess_(d,m,f[y],_);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const n=this.coordinates;for(let s=0,r=n.length;s<r;++s)n[s]=Ls(n[s],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;this.updateFillStyle(t,this.createFill),this.updateStrokeStyle(t,this.applyStroke)}}function Xx(a,t,n,s,r){const u=[];let c=n,f=0,d=t.slice(n,2);for(;f<a&&c+r<s;){const[_,m]=d.slice(-2),y=t[c+r],E=t[c+r+1],S=Math.sqrt((y-_)*(y-_)+(E-m)*(E-m));if(f+=S,f>=a){const x=(a-f+S)/S,b=mn(_,y,x),C=mn(m,E,x);d.push(b,C),u.push(d),d=[b,C],f==a&&(c+=r),f=0}else if(f<a)d.push(t[c+r],t[c+r+1]),c+=r;else{const x=S-f,b=mn(_,y,x/S),C=mn(m,E,x/S);d.push(b,C),u.push(d),d=[b,C],f=0,c+=r}}return f>0&&u.push(d),u}function Fx(a,t,n,s,r){let u=n,c=n,f=0,d=0,_=n,m,y,E,S,x,b,C,M,I,X;for(y=n;y<s;y+=r){const D=t[y],w=t[y+1];x!==void 0&&(I=D-x,X=w-b,S=Math.sqrt(I*I+X*X),C!==void 0&&(d+=E,m=Math.acos((C*I+M*X)/(E*S)),m>a&&(d>f&&(f=d,u=_,c=y),d=0,_=y-r)),E=S,C=I,M=X),x=D,b=w}return d+=S,d>f?[_,y]:[u,c]}const pu={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class Bx extends zr{constructor(t,n,s,r){super(t,n,s,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Pe]={fillStyle:Pe},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n,s){const r=this.textFillState_,u=this.textStrokeState_,c=this.textState_;if(this.text_===""||!c||!r&&!u)return;const f=this.coordinates;let d=f.length;const _=t.getType();let m=null,y=t.getStride();if(c.placement==="line"&&(_=="LineString"||_=="MultiLineString"||_=="Polygon"||_=="MultiPolygon")){if(!Ze(this.maxExtent,t.getExtent()))return;let E;if(m=t.getFlatCoordinates(),_=="LineString")E=[m.length];else if(_=="MultiLineString")E=t.getEnds();else if(_=="Polygon")E=t.getEnds().slice(0,1);else if(_=="MultiPolygon"){const C=t.getEndss();E=[];for(let M=0,I=C.length;M<I;++M)E.push(C[M][0])}this.beginGeometry(t,n,s);const S=c.repeat,x=S?void 0:c.textAlign;let b=0;for(let C=0,M=E.length;C<M;++C){let I;S?I=Xx(S*this.resolution,m,b,E[C],y):I=[m.slice(b,E[C])];for(let X=0,D=I.length;X<D;++X){const w=I[X];let j=0,q=w.length;if(x==null){const W=Fx(c.maxAngle,w,0,w.length,2);j=W[0],q=W[1]}for(let W=j;W<q;W+=y)f.push(w[W],w[W+1]);const K=f.length;b=E[C],this.drawChars_(d,K),d=K}}this.endGeometry(n)}else{let E=c.overflow?null:[];switch(_){case"Point":case"MultiPoint":m=t.getFlatCoordinates();break;case"LineString":m=t.getFlatMidpoint();break;case"Circle":m=t.getCenter();break;case"MultiLineString":m=t.getFlatMidpoints(),y=2;break;case"Polygon":m=t.getFlatInteriorPoint(),c.overflow||E.push(m[2]/this.resolution),y=3;break;case"MultiPolygon":const D=t.getFlatInteriorPoints();m=[];for(let w=0,j=D.length;w<j;w+=3)c.overflow||E.push(D[w+2]/this.resolution),m.push(D[w],D[w+1]);if(m.length===0)return;y=2;break}const S=this.appendFlatPointCoordinates(m,y);if(S===d)return;if(E&&(S-d)/2!==m.length/y){let D=d/2;E=E.filter((w,j)=>{const q=f[(D+j)*2]===m[j*y]&&f[(D+j)*2+1]===m[j*y+1];return q||--D,q})}this.saveTextStates_();const x=c.backgroundFill?this.createFill(this.fillStyleToState(c.backgroundFill)):null,b=c.backgroundStroke?this.createStroke(this.strokeStyleToState(c.backgroundStroke)):null;this.beginGeometry(t,n,s);let C=c.padding;if(C!=Gs&&(c.scale[0]<0||c.scale[1]<0)){let D=c.padding[0],w=c.padding[1],j=c.padding[2],q=c.padding[3];c.scale[0]<0&&(w=-w,q=-q),c.scale[1]<0&&(D=-D,j=-j),C=[D,w,j,q]}const M=this.pixelRatio;this.instructions.push([ct.DRAW_IMAGE,d,S,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,C==Gs?Gs:C.map(function(D){return D*M}),x,b,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,E]);const I=1/M,X=x?x.slice(0):null;X&&(X[1]=Pe),this.hitDetectionInstructions.push([ct.DRAW_IMAGE,d,S,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[I,I],NaN,this.declutterMode_,this.declutterImageWithText_,C,X,b,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Pe:this.fillKey_,this.textOffsetX_,this.textOffsetY_,E]),this.endGeometry(n)}}saveTextStates_(){const t=this.textStrokeState_,n=this.textState_,s=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const u=this.textKey_;u in this.textStates||(this.textStates[u]={font:n.font,textAlign:n.textAlign||Ar,justify:n.justify,textBaseline:n.textBaseline||yu,scale:n.scale});const c=this.fillKey_;s&&(c in this.fillStates||(this.fillStates[c]={fillStyle:s.fillStyle}))}drawChars_(t,n){const s=this.textStrokeState_,r=this.textState_,u=this.strokeKey_,c=this.textKey_,f=this.fillKey_;this.saveTextStates_();const d=this.pixelRatio,_=pu[r.textBaseline],m=this.textOffsetY_*d,y=this.text_,E=s?s.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([ct.DRAW_CHARS,t,n,_,r.overflow,f,r.maxAngle,d,m,u,E*d,y,c,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([ct.DRAW_CHARS,t,n,_,r.overflow,f&&Pe,r.maxAngle,d,m,u,E*d,y,c,1/d,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,n){let s,r,u;if(!t)this.text_="";else{const c=t.getFill();c?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=jn(c.getColor()||Pe)):(r=null,this.textFillState_=r);const f=t.getStroke();if(!f)u=null,this.textStrokeState_=u;else{u=this.textStrokeState_,u||(u={},this.textStrokeState_=u);const b=f.getLineDash(),C=f.getLineDashOffset(),M=f.getWidth(),I=f.getMiterLimit();u.lineCap=f.getLineCap()||ea,u.lineDash=b?b.slice():pi,u.lineDashOffset=C===void 0?Ei:C,u.lineJoin=f.getLineJoin()||na,u.lineWidth=M===void 0?Mr:M,u.miterLimit=I===void 0?Cr:I,u.strokeStyle=jn(f.getColor()||br)}s=this.textState_;const d=t.getFont()||yp;ax(d);const _=t.getScaleArray();s.overflow=t.getOverflow(),s.font=d,s.maxAngle=t.getMaxAngle(),s.placement=t.getPlacement(),s.textAlign=t.getTextAlign(),s.repeat=t.getRepeat(),s.justify=t.getJustify(),s.textBaseline=t.getTextBaseline()||yu,s.backgroundFill=t.getBackgroundFill(),s.backgroundStroke=t.getBackgroundStroke(),s.padding=t.getPadding()||Gs,s.scale=_===void 0?[1,1]:_;const m=t.getOffsetX(),y=t.getOffsetY(),E=t.getRotateWithView(),S=t.getKeepUpright(),x=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=m===void 0?0:m,this.textOffsetY_=y===void 0?0:y,this.textRotateWithView_=E===void 0?!1:E,this.textKeepUpright_=S===void 0?!0:S,this.textRotation_=x===void 0?0:x,this.strokeKey_=u?(typeof u.strokeStyle=="string"?u.strokeStyle:Lt(u.strokeStyle))+u.lineCap+u.lineDashOffset+"|"+u.lineWidth+u.lineJoin+u.miterLimit+"["+u.lineDash.join()+"]":"",this.textKey_=s.font+s.scale+(s.textAlign||"?")+(s.repeat||"?")+(s.justify||"?")+(s.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+Lt(r.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}const Hx={Circle:d0,Default:zr,Image:Ux,LineString:Yx,Polygon:d0,Text:Bx};class Px{constructor(t,n,s,r){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=s,this.buildersByZIndex_={}}finish(){const t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const s=this.buildersByZIndex_[n];for(const r in s){const u=s[r].finish();t[n][r]=u}}return t}getBuilder(t,n){const s=t!==void 0?t.toString():"0";let r=this.buildersByZIndex_[s];r===void 0&&(r={},this.buildersByZIndex_[s]=r);let u=r[n];if(u===void 0){const c=Hx[n];u=new c(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[n]=u}return u}}function kx(a,t,n,s,r,u,c,f,d,_,m,y,E=!0){let S=a[t],x=a[t+1],b=0,C=0,M=0,I=0;function X(){b=S,C=x,t+=s,S=a[t],x=a[t+1],I+=M,M=Math.sqrt((S-b)*(S-b)+(x-C)*(x-C))}do X();while(t<n-s&&I+M<u);let D=M===0?0:(u-I)/M;const w=mn(b,S,D),j=mn(C,x,D),q=t-s,K=I,W=u+f*d(_,r,m);for(;t<n-s&&I+M<W;)X();D=M===0?0:(W-I)/M;const J=mn(b,S,D),lt=mn(C,x,D);let $=!1;if(E)if(y){const k=[w,j,J,lt];ep(k,0,4,2,y,k,k),$=k[0]>k[2]}else $=w>J;const tt=Math.PI,st=[],ot=q+s===t;t=q,M=0,I=K,S=a[t],x=a[t+1];let L;if(ot){X(),L=Math.atan2(x-C,S-b),$&&(L+=L>0?-tt:tt);const k=(J+w)/2,V=(lt+j)/2;return st[0]=[k,V,(W-u)/2,L,r],st}r=r.replace(/\n/g," ");for(let k=0,V=r.length;k<V;){X();let et=Math.atan2(x-C,S-b);if($&&(et+=et>0?-tt:tt),L!==void 0){let ut=et-L;if(ut+=ut>tt?-2*tt:ut<-tt?2*tt:0,Math.abs(ut)>c)return null}L=et;const T=k;let F=0;for(;k<V;++k){const ut=$?V-k-1:k,at=f*d(_,r[ut],m);if(t+s<n&&I+M<u+F+at/2)break;F+=at}if(k===T)continue;const G=$?r.substring(V-T,V-k):r.substring(T,k);D=M===0?0:(u+F/2-I)/M;const Q=mn(b,S,D),nt=mn(C,x,D);st.push([Q,nt,F/2,et,G]),u+=F}return st}class Ap{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(mu(),{get:(t,n)=>{if(typeof mu()[n]=="function")return this.push_(n),this.pushMethodArgs_},set:(t,n,s)=>(this.push_(n,s),!0)})}push_(...t){const n=this.instructions_,s=this.zIndex+this.offset_;n[s]||(n[s]=[]),n[s].push(...t)}pushMethodArgs_=(...t)=>(this.push_(t),this);pushFunction(t){this.push_(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(n=>{for(let s=0,r=n.length;s<r;++s){const u=n[s];if(typeof u=="function"){u(t);continue}const c=n[++s];if(typeof t[u]=="function")t[u](...c);else{if(typeof c=="function"){t[u]=c(t);continue}t[u]=c}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const Il=vn(),Ji=[],hi=[],fi=[],$i=[];function g0(a){return a[3].declutterBox}const _0=new RegExp("[-----]");function Sf(a,t){return t==="start"?t=_0.test(a)?"right":"left":t==="end"&&(t=_0.test(a)?"left":"right"),pu[t]}function Zx(a,t,n){return n>0&&a.push(`
`,""),a.push(t,""),a}function jx(a,t,n){return n%2===0&&(a+=t),a}class Kx{constructor(t,n,s,r,u){this.overlaps=s,this.pixelRatio=n,this.resolution=t,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Dn(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=u?new Ap:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,n,s,r){const u=t+n+s+r;if(this.labels_[u])return this.labels_[u];const c=r?this.strokeStates[r]:null,f=s?this.fillStates[s]:null,d=this.textStates[n],_=this.pixelRatio,m=[d.scale[0]*_,d.scale[1]*_],y=d.justify?pu[d.justify]:Sf(Array.isArray(t)?t[0]:t,d.textAlign||Ar),E=r&&c.lineWidth?c.lineWidth:0,S=Array.isArray(t)?t:String(t).split(`
`).reduce(Zx,[]),{width:x,height:b,widths:C,heights:M,lineWidths:I}=ox(d,S),X=x+E,D=[],w=(X+2)*m[0],j=(b+E)*m[1],q={width:w<0?Math.floor(w):Math.ceil(w),height:j<0?Math.floor(j):Math.ceil(j),contextInstructions:D};(m[0]!=1||m[1]!=1)&&D.push("scale",m),r&&(D.push("strokeStyle",c.strokeStyle),D.push("lineWidth",E),D.push("lineCap",c.lineCap),D.push("lineJoin",c.lineJoin),D.push("miterLimit",c.miterLimit),D.push("setLineDash",[c.lineDash]),D.push("lineDashOffset",c.lineDashOffset)),s&&D.push("fillStyle",f.fillStyle),D.push("textBaseline","middle"),D.push("textAlign","center");const K=.5-y;let W=y*X+K*E;const J=[],lt=[];let $=0,tt=0,st=0,ot=0,L;for(let k=0,V=S.length;k<V;k+=2){const et=S[k];if(et===`
`){tt+=$,$=0,W=y*X+K*E,++ot;continue}const T=S[k+1]||d.font;T!==L&&(r&&J.push("font",T),s&&lt.push("font",T),L=T),$=Math.max($,M[st]);const F=[et,W+K*C[st]+y*(C[st]-I[ot]),.5*(E+$)+tt];W+=C[st],r&&J.push("strokeText",F),s&&lt.push("fillText",F),++st}return Array.prototype.push.apply(D,J),Array.prototype.push.apply(D,lt),this.labels_[u]=q,q}replayTextBackground_(t,n,s,r,u,c,f){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,s),t.lineTo.apply(t,r),t.lineTo.apply(t,u),t.lineTo.apply(t,n),c&&(this.alignAndScaleFill_=c[2],t.fillStyle=c[1],this.fill_(t)),f&&(this.setStrokeStyle_(t,f),t.stroke())}calculateImageOrLabelDimensions_(t,n,s,r,u,c,f,d,_,m,y,E,S,x,b,C){f*=E[0],d*=E[1];let M=s-f,I=r-d;const X=u+_>t?t-_:u,D=c+m>n?n-m:c,w=x[3]+X*E[0]+x[1],j=x[0]+D*E[1]+x[2],q=M-x[3],K=I-x[0];(b||y!==0)&&(Ji[0]=q,$i[0]=q,Ji[1]=K,hi[1]=K,hi[0]=q+w,fi[0]=hi[0],fi[1]=K+j,$i[1]=fi[1]);let W;return y!==0?(W=vi(Dn(),s,r,1,1,y,-s,-r),pe(W,Ji),pe(W,hi),pe(W,fi),pe(W,$i),us(Math.min(Ji[0],hi[0],fi[0],$i[0]),Math.min(Ji[1],hi[1],fi[1],$i[1]),Math.max(Ji[0],hi[0],fi[0],$i[0]),Math.max(Ji[1],hi[1],fi[1],$i[1]),Il)):us(Math.min(q,q+w),Math.min(K,K+j),Math.max(q,q+w),Math.max(K,K+j),Il),S&&(M=Math.round(M),I=Math.round(I)),{drawImageX:M,drawImageY:I,drawImageW:X,drawImageH:D,originX:_,originY:m,declutterBox:{minX:Il[0],minY:Il[1],maxX:Il[2],maxY:Il[3],value:C},canvasTransform:W,scale:E}}replayImageOrLabel_(t,n,s,r,u,c,f){const d=!!(c||f),_=r.declutterBox,m=f?f[2]*r.scale[0]/2:0;return _.minX-m<=n[0]&&_.maxX+m>=0&&_.minY-m<=n[1]&&_.maxY+m>=0&&(d&&this.replayTextBackground_(t,Ji,hi,fi,$i,c,f),ux(t,r.canvasTransform,u,s,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(t){const n=this.alignAndScaleFill_;if(n){const s=pe(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(s[0]%r,s[1]%r),n!==1&&t.scale(n,n),t.rotate(this.viewRotation_)}t.fill(),n&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],n[1]&&(t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6]))}drawLabelWithPointPlacement_(t,n,s,r){const u=this.textStates[n],c=this.createLabel(t,n,r,s),f=this.strokeStates[s],d=this.pixelRatio,_=Sf(Array.isArray(t)?t[0]:t,u.textAlign||Ar),m=pu[u.textBaseline||yu],y=f&&f.lineWidth?f.lineWidth:0,E=c.width/d-2*u.scale[0],S=_*E+2*(.5-_)*y,x=m*c.height/d+2*(.5-m)*y;return{label:c,anchorX:S,anchorY:x}}execute_(t,n,s,r,u,c,f,d){const _=this.zIndexContext_;let m;this.pixelCoordinates_&&cs(s,this.renderedTransform_)?m=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),m=rs(this.coordinates,0,this.coordinates.length,2,s,this.pixelCoordinates_),cS(this.renderedTransform_,s));let y=0;const E=r.length;let S=0,x,b,C,M,I,X,D,w,j,q,K,W,J,lt=0,$=0;const tt=this.coordinateCache_,st=this.viewRotation_,ot=Math.round(Math.atan2(-s[1],s[0])*1e12)/1e12,L={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:st},k=this.instructions!=r||this.overlaps?0:200;let V,et,T,F;for(;y<E;){const G=r[y];switch(G[0]){case ct.BEGIN_GEOMETRY:V=G[1],F=G[3],V.getGeometry()?f!==void 0&&!Ze(f,F.getExtent())?y=G[2]+1:++y:y=G[2],_&&(_.zIndex=G[4]);break;case ct.BEGIN_PATH:lt>k&&(this.fill_(t),lt=0),$>k&&(t.stroke(),$=0),!lt&&!$&&(t.beginPath(),I=NaN,X=NaN),++y;break;case ct.CIRCLE:S=G[1];const nt=m[S],ut=m[S+1],at=m[S+2],zt=m[S+3],bt=at-nt,se=zt-ut,Ee=Math.sqrt(bt*bt+se*se);t.moveTo(nt+Ee,ut),t.arc(nt,ut,Ee,0,2*Math.PI,!0),++y;break;case ct.CLOSE_PATH:t.closePath(),++y;break;case ct.CUSTOM:S=G[1],x=G[2];const Kn=G[3],hs=G[4],qn=G[5];L.geometry=Kn,L.feature=V,y in tt||(tt[y]=[]);const Sn=tt[y];qn?qn(m,S,x,2,Sn):(Sn[0]=m[S],Sn[1]=m[S+1],Sn.length=2),_&&(_.zIndex=G[6]),hs(Sn,L),++y;break;case ct.DRAW_IMAGE:S=G[1],x=G[2],j=G[3],b=G[4],C=G[5];let Ge=G[6];const ln=G[7],ve=G[8],Ti=G[9],Ri=G[10];let Nn=G[11];const xn=G[12];let Ci=G[13];M=G[14]||"declutter";const ee=G[15];if(!j&&G.length>=20){q=G[19],K=G[20],W=G[21],J=G[22];const Le=this.drawLabelWithPointPlacement_(q,K,W,J);j=Le.label,G[3]=j;const Rn=G[23];b=(Le.anchorX-Rn)*this.pixelRatio,G[4]=b;const be=G[24];C=(Le.anchorY-be)*this.pixelRatio,G[5]=C,Ge=j.height,G[6]=Ge,Ci=j.width,G[13]=Ci}let aa;G.length>25&&(aa=G[25]);let ra,zn,he;G.length>17?(ra=G[16],zn=G[17],he=G[18]):(ra=Gs,zn=null,he=null),Ri&&ot?Nn+=st:!Ri&&!ot&&(Nn-=st);let Gn=0;for(;S<x;S+=2){if(aa&&aa[Gn++]<Ci/this.pixelRatio)continue;const Le=this.calculateImageOrLabelDimensions_(j.width,j.height,m[S],m[S+1],Ci,Ge,b,C,ve,Ti,Nn,xn,u,ra,!!zn||!!he,V),Rn=[t,n,j,Le,ln,zn,he];if(d){let be,Ve,Ue;if(ee){const Tt=x-S;if(!ee[Tt]){ee[Tt]={args:Rn,declutterMode:M};continue}const Qt=ee[Tt];be=Qt.args,Ve=Qt.declutterMode,delete ee[Tt],Ue=g0(be)}let fe,Zt;if(be&&(Ve!=="declutter"||!d.collides(Ue))&&(fe=!0),(M!=="declutter"||!d.collides(Le.declutterBox))&&(Zt=!0),Ve==="declutter"&&M==="declutter"){const Tt=fe&&Zt;fe=Tt,Zt=Tt}fe&&(Ve!=="none"&&d.insert(Ue),this.replayImageOrLabel_.apply(this,be)),Zt&&(M!=="none"&&d.insert(Le.declutterBox),this.replayImageOrLabel_.apply(this,Rn))}else this.replayImageOrLabel_.apply(this,Rn)}++y;break;case ct.DRAW_CHARS:const Ce=G[1],Xr=G[2],oa=G[3],ku=G[4];J=G[5];const Zs=G[6],fs=G[7],Un=G[8];W=G[9];const bi=G[10];q=G[11],Array.isArray(q)&&(q=q.reduce(jx,"")),K=G[12];const Ai=[G[13],G[13]];M=G[14]||"declutter";const Zu=G[15],js=this.textStates[K],Mi=js.font,Vn=[js.scale[0]*fs,js.scale[1]*fs];let Tn;Mi in this.widths_?Tn=this.widths_[Mi]:(Tn={},this.widths_[Mi]=Tn);const Fr=zS(m,Ce,Xr,2),ua=Math.abs(Vn[0])*n0(Mi,q,Tn);if(ku||ua<=Fr){const Le=this.textStates[K].textAlign,Rn=(Fr-ua)*Sf(q,Le),be=kx(m,Ce,Xr,2,q,Rn,Zs,Math.abs(Vn[0]),n0,Mi,Tn,ot?0:this.viewRotation_,Zu);t:if(be){const Ve=[];let Ue,fe,Zt,Tt,Qt;if(W)for(Ue=0,fe=be.length;Ue<fe;++Ue){Qt=be[Ue],Zt=Qt[4],Tt=this.createLabel(Zt,K,"",W),b=Qt[2]+(Vn[0]<0?-bi:bi),C=oa*Tt.height+(.5-oa)*2*bi*Vn[1]/Vn[0]-Un;const We=this.calculateImageOrLabelDimensions_(Tt.width,Tt.height,Qt[0],Qt[1],Tt.width,Tt.height,b,C,0,0,Qt[3],Ai,!1,Gs,!1,V);if(d&&M==="declutter"&&d.collides(We.declutterBox))break t;Ve.push([t,n,Tt,We,1,null,null])}if(J)for(Ue=0,fe=be.length;Ue<fe;++Ue){Qt=be[Ue],Zt=Qt[4],Tt=this.createLabel(Zt,K,J,""),b=Qt[2],C=oa*Tt.height-Un;const We=this.calculateImageOrLabelDimensions_(Tt.width,Tt.height,Qt[0],Qt[1],Tt.width,Tt.height,b,C,0,0,Qt[3],Ai,!1,Gs,!1,V);if(d&&M==="declutter"&&d.collides(We.declutterBox))break t;Ve.push([t,n,Tt,We,1,null,null])}d&&M!=="none"&&d.load(Ve.map(g0));for(let We=0,ju=Ve.length;We<ju;++We)this.replayImageOrLabel_.apply(this,Ve[We])}}++y;break;case ct.END_GEOMETRY:if(c!==void 0){V=G[1];const Le=c(V,F,M);if(Le)return Le}++y;break;case ct.FILL:k?lt++:this.fill_(t),++y;break;case ct.MOVE_TO_LINE_TO:for(S=G[1],x=G[2],et=m[S],T=m[S+1],t.moveTo(et,T),I=et+.5|0,X=T+.5|0,S+=2;S<x;S+=2)et=m[S],T=m[S+1],D=et+.5|0,w=T+.5|0,(S==x-2||D!==I||w!==X)&&(t.lineTo(et,T),I=D,X=w);++y;break;case ct.SET_FILL_STYLE:this.alignAndScaleFill_=G[2],lt&&(this.fill_(t),lt=0,$&&(t.stroke(),$=0)),t.fillStyle=G[1],++y;break;case ct.SET_STROKE_STYLE:$&&(t.stroke(),$=0),this.setStrokeStyle_(t,G),++y;break;case ct.STROKE:k?$++:t.stroke(),++y;break;default:++y;break}}lt&&this.fill_(t),$&&t.stroke()}execute(t,n,s,r,u,c){this.viewRotation_=r,this.execute_(t,n,s,this.instructions,u,void 0,void 0,c)}executeHitDetection(t,n,s,r,u){return this.viewRotation_=s,this.execute_(t,[t.canvas.width,t.canvas.height],n,this.hitDetectionInstructions,!0,r,u)}}const Is=["Polygon","Circle","LineString","Image","Text","Default"],Mp=["Image","Text"],qx=Is.filter(a=>!Mp.includes(a));class Vx{constructor(t,n,s,r,u,c,f){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=s,this.resolution_=n,this.renderBuffer_=c,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Dn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(u,f)}clip(t,n){const s=this.getClipCoords(n);t.beginPath(),t.moveTo(s[0],s[1]),t.lineTo(s[2],s[3]),t.lineTo(s[4],s[5]),t.lineTo(s[6],s[7]),t.clip()}createExecutors_(t,n){for(const s in t){let r=this.executorsByZIndex_[s];r===void 0&&(r={},this.executorsByZIndex_[s]=r);const u=t[s];for(const c in u){const f=u[c];r[c]=new Kx(this.resolution_,this.pixelRatio_,this.overlaps_,f,n)}}}hasExecutors(t){for(const n in this.executorsByZIndex_){const s=this.executorsByZIndex_[n];for(let r=0,u=t.length;r<u;++r)if(t[r]in s)return!0}return!1}forEachFeatureAtCoordinate(t,n,s,r,u,c){r=Math.round(r);const f=r*2+1,d=vi(this.hitDetectionTransform_,r+.5,r+.5,1/n,-1/n,-s,-t[0],-t[1]),_=!this.hitDetectionContext_;_&&(this.hitDetectionContext_=ce(f,f));const m=this.hitDetectionContext_;m.canvas.width!==f||m.canvas.height!==f?(m.canvas.width=f,m.canvas.height=f):_||m.clearRect(0,0,f,f);let y;this.renderBuffer_!==void 0&&(y=vn(),yr(y,t),$f(y,n*(this.renderBuffer_+r),y));const E=Wx(r);let S;function x(w,j,q){const K=m.getImageData(0,0,f,f).data;for(let W=0,J=E.length;W<J;W++)if(K[E[W]]>0){if(!c||q==="none"||S!=="Image"&&S!=="Text"||c.includes(w)){const lt=(E[W]-3)/4,$=r-lt%f,tt=r-(lt/f|0),st=u(w,j,$*$+tt*tt);if(st)return st}m.clearRect(0,0,f,f);break}}const b=Object.keys(this.executorsByZIndex_).map(Number);b.sort(yi);let C,M,I,X,D;for(C=b.length-1;C>=0;--C){const w=b[C].toString();for(I=this.executorsByZIndex_[w],M=Is.length-1;M>=0;--M)if(S=Is[M],X=I[S],X!==void 0&&(D=X.executeHitDetection(m,d,s,x,y),D))return D}}getClipCoords(t){const n=this.maxExtent_;if(!n)return null;const s=n[0],r=n[1],u=n[2],c=n[3],f=[s,r,s,c,u,c,u,r];return rs(f,0,8,2,t,f),f}isEmpty(){return Ql(this.executorsByZIndex_)}execute(t,n,s,r,u,c,f){const d=Object.keys(this.executorsByZIndex_).map(Number);d.sort(f?pv:yi),c=c||Is;const _=Is.length;for(let m=0,y=d.length;m<y;++m){const E=d[m].toString(),S=this.executorsByZIndex_[E];for(let x=0,b=c.length;x<b;++x){const C=c[x],M=S[C];if(M!==void 0){const I=f===null?void 0:M.getZIndexContext(),X=I?I.getContext():t,D=this.maxExtent_&&C!=="Image"&&C!=="Text";if(D&&(X.save(),this.clip(X,s)),!I||C==="Text"||C==="Image"?M.execute(X,n,s,r,u,f):I.pushFunction(w=>M.execute(w,n,s,r,u,f)),D&&X.restore(),I){I.offset();const w=d[m]*_+Is.indexOf(C);this.deferredZIndexContexts_[w]||(this.deferredZIndexContexts_[w]=[]),this.deferredZIndexContexts_[w].push(I)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,n=Object.keys(t).map(Number).sort(yi);for(let s=0,r=n.length;s<r;++s)t[n[s]].forEach(u=>{u.draw(this.renderedContext_),u.clear()}),t[n[s]].length=0}}const xf={};function Wx(a){if(xf[a]!==void 0)return xf[a];const t=a*2+1,n=a*a,s=new Array(n+1);for(let u=0;u<=a;++u)for(let c=0;c<=a;++c){const f=u*u+c*c;if(f>n)break;let d=s[f];d||(d=[],s[f]=d),d.push(((a+u)*t+(a+c))*4+3),u>0&&d.push(((a-u)*t+(a+c))*4+3),c>0&&(d.push(((a+u)*t+(a-c))*4+3),u>0&&d.push(((a-u)*t+(a-c))*4+3))}const r=[];for(let u=0,c=s.length;u<c;++u)s[u]&&r.push(...s[u]);return xf[a]=r,r}function m0(a,t,n,s){return n!==void 0&&s!==void 0?[n/a,s/t]:n!==void 0?n/a:s!==void 0?s/t:1}class Fu extends Uu{constructor(t){t=t||{};const n=t.opacity!==void 0?t.opacity:1,s=t.rotation!==void 0?t.rotation:0,r=t.scale!==void 0?t.scale:1,u=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:s,scale:r,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:u,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const c=t.img!==void 0?t.img:null;let f=t.src;Gt(!(f!==void 0&&c),"`image` and `src` cannot be provided at the same time"),(f===void 0||f.length===0)&&c&&(f=c.src||Lt(c)),Gt(f!==void 0&&f.length>0,"A defined and non-empty `src` or `image` must be provided"),Gt(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let d;if(t.src!==void 0?d=Et.IDLE:c!==void 0&&("complete"in c?c.complete?d=c.src?Et.LOADED:Et.IDLE:d=Et.LOADING:d=Et.LOADED),this.color_=t.color!==void 0?ta(t.color):null,this.iconImage_=pd(c,f,this.crossOrigin_,d,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let _,m;if(t.size)[_,m]=t.size;else{const y=this.getImage(1);if(y.width&&y.height)_=y.width,m=y.height;else if(y instanceof HTMLImageElement){this.initialOptions_=t;const E=()=>{if(this.unlistenImageChange(E),!this.initialOptions_)return;const S=this.iconImage_.getSize();this.setScale(m0(S[0],S[1],t.width,t.height))};this.listenImageChange(E);return}}_!==void 0&&this.setScale(m0(_,m,t.width,t.height))}}clone(){let t,n,s;return this.initialOptions_?(n=this.initialOptions_.width,s=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new Fu({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:s,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=r[0]),this.anchorYUnits_=="fraction"&&(t[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}const n=this.getDisplacement(),s=this.getScaleArray();return[t[0]-n[0]/s[0],t[1]+n[1]/s[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),s=this.iconImage_.getSize();if(!n||!s)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=s[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=s[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==Et.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==Et.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(pt.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(pt.CHANGE,t)}ready(){return this.iconImage_.ready()}}const Pn=.5;function Qx(a,t,n,s,r,u,c,f,d){const _=r,m=a[0]*Pn,y=a[1]*Pn,E=ce(m,y);E.imageSmoothingEnabled=!1;const S=E.canvas,x=new hx(E,Pn,r,null,c,f,null),b=n.length,C=Math.floor((256*256*256-1)/b),M={};for(let X=1;X<=b;++X){const D=n[X-1],w=D.getStyleFunction()||s;if(!w)continue;let j=w(D,u);if(!j)continue;Array.isArray(j)||(j=[j]);const K=(X*C).toString(16).padStart(7,"#00000");for(let W=0,J=j.length;W<J;++W){const lt=j[W],$=lt.getGeometryFunction()(D);if(!$||!Ze(_,$.getExtent()))continue;const tt=lt.clone(),st=tt.getFill();st&&st.setColor(K);const ot=tt.getStroke();ot&&(ot.setColor(K),ot.setLineDash(null)),tt.setText(void 0);const L=lt.getImage();if(L){const T=L.getImageSize();if(!T)continue;const F=ce(T[0],T[1],void 0,{alpha:!1}),G=F.canvas;F.fillStyle=K,F.fillRect(0,0,G.width,G.height),tt.setImage(new Fu({img:G,anchor:L.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:L.getOrigin(),opacity:1,size:L.getSize(),scale:L.getScale(),rotation:L.getRotation(),rotateWithView:L.getRotateWithView()}))}const k=tt.getZIndex()||0;let V=M[k];V||(V={},M[k]=V,V.Polygon=[],V.Circle=[],V.LineString=[],V.Point=[]);const et=$.getType();if(et==="GeometryCollection"){const T=$.getGeometriesArrayRecursive();for(let F=0,G=T.length;F<G;++F){const Q=T[F];V[Q.getType().replace("Multi","")].push(Q,tt)}}else V[et.replace("Multi","")].push($,tt)}}const I=Object.keys(M).map(Number).sort(yi);for(let X=0,D=I.length;X<D;++X){const w=M[I[X]];for(const j in w){const q=w[j];for(let K=0,W=q.length;K<W;K+=2){x.setStyle(q[K+1]);for(let J=0,lt=t.length;J<lt;++J)x.setTransform(t[J]),x.drawGeometry(q[K])}}}return E.getImageData(0,0,S.width,S.height)}function Jx(a,t,n){const s=[];if(n){const r=Math.floor(Math.round(a[0])*Pn),u=Math.floor(Math.round(a[1])*Pn),c=(Wt(r,0,n.width-1)+Wt(u,0,n.height-1)*n.width)*4,f=n.data[c],d=n.data[c+1],m=n.data[c+2]+256*(d+256*f),y=Math.floor((256*256*256-1)/t.length);m&&m%y===0&&s.push(t[m/y-1])}return s}class wp extends Si{constructor(t,n,s,r){super(t),this.inversePixelTransform=n,this.frameState=s,this.context=r}}const $x=5;class tT extends Lr{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=$x}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return Dt()}getData(t){return null}prepareFrame(t){return Dt()}renderFrame(t,n){return Dt()}forEachFeatureAtCoordinate(t,n,s,r,u){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const n=t.target;(n.getState()===Et.LOADED||n.getState()===Et.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=Et.LOADED&&n!=Et.ERROR&&t.addEventListener(pt.CHANGE,this.boundHandleImageChange_),n==Et.IDLE&&(t.load(),n=t.getState()),n==Et.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const y0=[];let Fl=null;function eT(){Fl=ce(1,1,void 0,{willReadFrequently:!0})}class Op extends tT{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=Dn(),this.pixelTransform=Dn(),this.inversePixelTransform=Dn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,n,s){Fl||eT(),Fl.clearRect(0,0,1,1);let r;try{Fl.drawImage(t,n,s,1,1,0,0,1,1),r=Fl.getImageData(0,0,1,1).data}catch{return Fl=null,null}return r}getBackground(t){let s=this.getLayer().getBackground();return typeof s=="function"&&(s=s(t.viewState.resolution)),s||void 0}useContainer(t,n,s){const r=this.getLayer().getClassName();let u,c;if(t&&t.className===r&&(!s||t&&t.style.backgroundColor&&cs(ta(t.style.backgroundColor),ta(s)))){const f=t.firstElementChild;f instanceof HTMLCanvasElement&&(c=f.getContext("2d"))}if(c&&gS(c.canvas.style.transform,n)?(this.container=t,this.context=c,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){u=document.createElement("div"),u.className=r;let f=u.style;f.position="absolute",f.width="100%",f.height="100%",c=ce();const d=c.canvas;u.appendChild(d),f=d.style,f.position="absolute",f.left="0",f.transformOrigin="top left",this.container=u,this.context=c}!this.containerReused&&s&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=s)}clipUnrotated(t,n,s){const r=Ps(s),u=wu(s),c=Mu(s),f=Au(s);pe(n.coordinateToPixelTransform,r),pe(n.coordinateToPixelTransform,u),pe(n.coordinateToPixelTransform,c),pe(n.coordinateToPixelTransform,f);const d=this.inversePixelTransform;pe(d,r),pe(d,u),pe(d,c),pe(d,f),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(u[0]),Math.round(u[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(f[0]),Math.round(f[1])),t.clip()}prepareContainer(t,n){const s=t.extent,r=t.viewState.resolution,u=t.viewState.rotation,c=t.pixelRatio,f=Math.round(Ft(s)/r*c),d=Math.round(ze(s)/r*c);vi(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,u,-f/2,-d/2),tp(this.inversePixelTransform,this.pixelTransform);const _=dS(this.pixelTransform);if(this.useContainer(n,_,this.getBackground(t)),!this.containerReused){const m=this.context.canvas;m.width!=f||m.height!=d?(m.width=f,m.height=d):this.context.clearRect(0,0,f,d),_!==m.style.transform&&(m.style.transform=_)}}dispatchRenderEvent_(t,n,s){const r=this.getLayer();if(r.hasListener(t)){const u=new wp(t,this.inversePixelTransform,s,n);r.dispatchEvent(u)}}preRender(t,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(yn.PRERENDER,t,n)}postRender(t,n){n.declutter||this.dispatchRenderEvent_(yn.POSTRENDER,t,n)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new Ap),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(yn.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(yn.POSTRENDER,this.context,t))}getRenderTransform(t,n,s,r,u,c,f){const d=u/2,_=c/2,m=r/n,y=-m,E=-t[0]+f,S=-t[1];return vi(this.tempTransform,d,_,m,y,-s,E,S)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class nT extends Op{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=vn(),this.wrappedRenderedExtent_=vn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,n,s){const r=n.extent,u=n.viewState,c=u.center,f=u.resolution,d=u.projection,_=u.rotation,m=d.getExtent(),y=this.getLayer().getSource(),E=this.getLayer().getDeclutter(),S=n.pixelRatio,x=n.viewHints,b=!(x[De.ANIMATING]||x[De.INTERACTING]),C=this.context,M=Math.round(Ft(r)/f*S),I=Math.round(ze(r)/f*S),X=y.getWrapX()&&d.canWrapX(),D=X?Ft(m):null,w=X?Math.ceil((r[2]-m[2])/D)+1:1;let j=X?Math.floor((r[0]-m[0])/D):0;do{let q=this.getRenderTransform(c,f,0,S,M,I,j*D);n.declutter&&(q=q.slice(0)),t.execute(C,[C.canvas.width,C.canvas.height],q,_,b,s===void 0?Is:s?Mp:qx,s?E&&n.declutter[E]:void 0)}while(++j<w)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=ce(this.context.canvas.width,this.context.canvas.height,y0))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,zu(this.context),y0.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,n){const s=t.layerStatesArray[t.layerIndex];this.opacity_=s.opacity;const r=t.viewState;this.prepareContainer(t,n);const u=this.context,c=this.replayGroup_;let f=c&&!c.isEmpty();if(!f&&!(this.getLayer().hasListener(yn.PRERENDER)||this.getLayer().hasListener(yn.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(u,t),r.projection,this.clipped_=!1,f&&s.extent&&this.clipping){const d=ss(s.extent);f=Ze(d,t.extent),this.clipped_=f&&!Hl(d,t.extent),this.clipped_&&this.clipUnrotated(u,t,d)}return f&&this.renderWorlds(c,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&u.restore(),this.postRender(u,t),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const s=this.frameState.size.slice(),r=this.renderedCenter_,u=this.renderedResolution_,c=this.renderedRotation_,f=this.renderedProjection_,d=this.wrappedRenderedExtent_,_=this.getLayer(),m=[],y=s[0]*Pn,E=s[1]*Pn;m.push(this.getRenderTransform(r,u,c,Pn,y,E,0).slice());const S=_.getSource(),x=f.getExtent();if(S.getWrapX()&&f.canWrapX()&&!Hl(x,d)){let b=d[0];const C=Ft(x);let M=0,I;for(;b<x[0];)--M,I=C*M,m.push(this.getRenderTransform(r,u,c,Pn,y,E,I).slice()),b+=C;for(M=0,b=d[2];b>x[2];)++M,I=C*M,m.push(this.getRenderTransform(r,u,c,Pn,y,E,I).slice()),b-=C}this.hitDetectionImageData_=Qx(s,m,this.renderedFeatures_,_.getStyleFunction(),d,u,c,i0(u,this.renderedPixelRatio_))}n(Jx(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,s,r,u){if(!this.replayGroup_)return;const c=n.viewState.resolution,f=n.viewState.rotation,d=this.getLayer(),_={},m=function(E,S,x){const b=Lt(E),C=_[b];if(C){if(C!==!0&&x<C.distanceSq){if(x===0)return _[b]=!0,u.splice(u.lastIndexOf(C),1),r(E,d,S);C.geometry=S,C.distanceSq=x}}else{if(x===0)return _[b]=!0,r(E,d,S);u.push(_[b]={feature:E,layer:d,geometry:S,distanceSq:x,callback:r})}},y=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,c,f,s,m,y?n.declutter?.[y]?.all().map(E=>E.value):null)}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const n=this.getLayer(),s=n.getSource();if(!s)return!1;const r=t.viewHints[De.ANIMATING],u=t.viewHints[De.INTERACTING],c=n.getUpdateWhileAnimating(),f=n.getUpdateWhileInteracting();if(this.ready&&!c&&r||!f&&u)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const d=t.extent,_=t.viewState,m=_.projection,y=_.resolution,E=t.pixelRatio,S=n.getRevision(),x=n.getRenderBuffer();let b=n.getRenderOrder();b===void 0&&(b=dx);const C=_.center.slice(),M=$f(d,x*y),I=M.slice(),X=[M.slice()],D=m.getExtent();if(s.getWrapX()&&m.canWrapX()&&!Hl(D,t.extent)){const st=Ft(D),ot=Math.max(Ft(M)/2,st);M[0]=D[0]-ot,M[2]=D[2]+ot,j0(C,m);const L=P0(X[0],m);L[0]<D[0]&&L[2]<D[2]?X.push([L[0]+st,L[1],L[2]+st,L[3]]):L[0]>D[0]&&L[2]>D[2]&&X.push([L[0]-st,L[1],L[2]-st,L[3]])}if(this.ready&&this.renderedResolution_==y&&this.renderedRevision_==S&&this.renderedRenderOrder_==b&&this.renderedFrameDeclutter_===!!t.declutter&&Hl(this.wrappedRenderedExtent_,M))return cs(this.renderedExtent_,I)||(this.hitDetectionImageData_=null,this.renderedExtent_=I),this.renderedCenter_=C,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const w=new Px(Sp(y,E),M,y,E);let j;for(let st=0,ot=X.length;st<ot;++st)s.loadFeatures(X[st],y,m);const q=i0(y,E);let K=!0;const W=(st,ot)=>{let L;const k=st.getStyleFunction()||n.getStyleFunction();if(k&&(L=k(st,y)),L){const V=this.renderFeature(st,q,L,w,j,this.getLayer().getDeclutter(),ot);K=K&&!V}},J=$0(M),lt=s.getFeaturesInExtent(J);b&&lt.sort(b);for(let st=0,ot=lt.length;st<ot;++st)W(lt[st],st);this.renderedFeatures_=lt,this.ready=K;const $=w.finish(),tt=new Vx(M,y,E,s.getOverlaps(),$,n.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=y,this.renderedRevision_=S,this.renderedRenderOrder_=b,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=I,this.wrappedRenderedExtent_=M,this.renderedCenter_=C,this.renderedProjection_=m,this.renderedPixelRatio_=E,this.replayGroup_=tt,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,s,r,u,c,f){if(!s)return!1;let d=!1;if(Array.isArray(s))for(let _=0,m=s.length;_<m;++_)d=s0(r,t,s[_],n,this.boundHandleStyleImageChange_,u,c,f)||d;else d=s0(r,t,s,n,this.boundHandleStyleImageChange_,u,c,f);return d}}let ks=0;const Ne=1<<ks++,At=1<<ks++,ke=1<<ks++,On=1<<ks++,Hs=1<<ks++,dr=1<<ks++,ru=Math.pow(2,ks)-1,vd={[Ne]:"boolean",[At]:"number",[ke]:"string",[On]:"color",[Hs]:"number[]",[dr]:"size"},iT=Object.keys(vd).map(Number).sort(yi);function sT(a){return a in vd}function gr(a){const t=[];for(const n of iT)_r(a,n)&&t.push(vd[n]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function _r(a,t){return(a&t)===t}function ts(a,t){return a===t}class ue{constructor(t,n){if(!sT(t))throw new Error(`literal expressions must have a specific type, got ${gr(t)}`);this.type=t,this.value=n}}class lT{constructor(t,n,...s){this.type=t,this.operator=n,this.args=s}}function Dp(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Re(a,t,n){switch(typeof a){case"boolean":{if(ts(t,ke))return new ue(ke,a?"true":"false");if(!_r(t,Ne))throw new Error(`got a boolean, but expected ${gr(t)}`);return new ue(Ne,a)}case"number":{if(ts(t,dr))return new ue(dr,Ke(a));if(ts(t,Ne))return new ue(Ne,!!a);if(ts(t,ke))return new ue(ke,a.toString());if(!_r(t,At))throw new Error(`got a number, but expected ${gr(t)}`);return new ue(At,a)}case"string":{if(ts(t,On))return new ue(On,md(a));if(ts(t,Ne))return new ue(Ne,!!a);if(!_r(t,ke))throw new Error(`got a string, but expected ${gr(t)}`);return new ue(ke,a)}}if(!Array.isArray(a))throw new Error("expression must be an array or a primitive value");if(a.length===0)throw new Error("empty expression");if(typeof a[0]=="string")return mT(a,t,n);for(const s of a)if(typeof s!="number")throw new Error("expected an array of numbers");if(ts(t,dr)){if(a.length!==2)throw new Error(`expected an array of two values for a size, got ${a.length}`);return new ue(dr,a)}if(ts(t,On)){if(a.length===3)return new ue(On,[...a,1]);if(a.length===4)return new ue(On,a);throw new Error(`expected an array of 3 or 4 values for a color, got ${a.length}`)}if(!_r(t,Hs))throw new Error(`got an array of numbers, but expected ${gr(t)}`);return new ue(Hs,a)}const H={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},aT={[H.Get]:_t(yt(1,1/0),p0),[H.Var]:_t(yt(1,1),rT),[H.Has]:_t(yt(1,1/0),p0),[H.Id]:_t(oT,Nl),[H.Concat]:_t(yt(2,1/0),Nt(ke)),[H.GeometryType]:_t(uT,Nl),[H.LineMetric]:_t(Nl),[H.Resolution]:_t(Tf,Nl),[H.Zoom]:_t(Tf,Nl),[H.Time]:_t(Tf,Nl),[H.Any]:_t(yt(2,1/0),Nt(Ne)),[H.All]:_t(yt(2,1/0),Nt(Ne)),[H.Not]:_t(yt(1,1),Nt(Ne)),[H.Equal]:_t(yt(2,2),Nt(ru)),[H.NotEqual]:_t(yt(2,2),Nt(ru)),[H.GreaterThan]:_t(yt(2,2),Nt(At)),[H.GreaterThanOrEqualTo]:_t(yt(2,2),Nt(At)),[H.LessThan]:_t(yt(2,2),Nt(At)),[H.LessThanOrEqualTo]:_t(yt(2,2),Nt(At)),[H.Multiply]:_t(yt(2,1/0),E0),[H.Coalesce]:_t(yt(2,1/0),E0),[H.Divide]:_t(yt(2,2),Nt(At)),[H.Add]:_t(yt(2,1/0),Nt(At)),[H.Subtract]:_t(yt(2,2),Nt(At)),[H.Clamp]:_t(yt(3,3),Nt(At)),[H.Mod]:_t(yt(2,2),Nt(At)),[H.Pow]:_t(yt(2,2),Nt(At)),[H.Abs]:_t(yt(1,1),Nt(At)),[H.Floor]:_t(yt(1,1),Nt(At)),[H.Ceil]:_t(yt(1,1),Nt(At)),[H.Round]:_t(yt(1,1),Nt(At)),[H.Sin]:_t(yt(1,1),Nt(At)),[H.Cos]:_t(yt(1,1),Nt(At)),[H.Atan]:_t(yt(1,2),Nt(At)),[H.Sqrt]:_t(yt(1,1),Nt(At)),[H.Match]:_t(yt(4,1/0),v0,hT),[H.Between]:_t(yt(3,3),Nt(At)),[H.Interpolate]:_t(yt(6,1/0),v0,fT),[H.Case]:_t(yt(3,1/0),cT,dT),[H.In]:_t(yt(2,2),gT),[H.Number]:_t(yt(1,1/0),Nt(ru)),[H.String]:_t(yt(1,1/0),Nt(ru)),[H.Array]:_t(yt(1,1/0),Nt(At)),[H.Color]:_t(yt(1,4),Nt(At)),[H.Band]:_t(yt(1,3),Nt(At)),[H.Palette]:_t(yt(2,2),_T),[H.ToString]:_t(yt(1,1),Nt(Ne|At|ke|On))};function p0(a,t,n){const s=a.length-1,r=new Array(s);for(let u=0;u<s;++u){const c=a[u+1];switch(typeof c){case"number":{r[u]=new ue(At,c);break}case"string":{r[u]=new ue(ke,c);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${c}`)}u===0&&n.properties.add(String(c))}return r}function rT(a,t,n){const s=a[1];if(typeof s!="string")throw new Error("expected a string argument for var operation");return n.variables.add(s),[new ue(ke,s)]}function oT(a,t,n){n.featureId=!0}function uT(a,t,n){n.geometryType=!0}function Tf(a,t,n){n.mapState=!0}function Nl(a,t,n){const s=a[0];if(a.length!==1)throw new Error(`expected no arguments for ${s} operation`);return[]}function yt(a,t){return function(n,s,r){const u=n[0],c=n.length-1;if(a===t){if(c!==a){const f=a===1?"":"s";throw new Error(`expected ${a} argument${f} for ${u}, got ${c}`)}}else if(c<a||c>t){const f=t===1/0?`${a} or more`:`${a} to ${t}`;throw new Error(`expected ${f} arguments for ${u}, got ${c}`)}}}function E0(a,t,n){const s=a.length-1,r=new Array(s);for(let u=0;u<s;++u){const c=Re(a[u+1],t,n);r[u]=c}return r}function Nt(a){return function(t,n,s){const r=t.length-1,u=new Array(r);for(let c=0;c<r;++c){const f=Re(t[c+1],a,s);u[c]=f}return u}}function cT(a,t,n){const s=a[0],r=a.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${s}, got ${r} instead`)}function v0(a,t,n){const s=a[0],r=a.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${s}, got ${r} instead`)}function hT(a,t,n){const s=a.length-1,r=ke|At|Ne,u=Re(a[1],r,n),c=Re(a[a.length-1],t,n),f=new Array(s-2);for(let d=0;d<s-2;d+=2){try{const _=Re(a[d+2],u.type,n);f[d]=_}catch(_){throw new Error(`failed to parse argument ${d+1} of match expression: ${_.message}`)}try{const _=Re(a[d+3],c.type,n);f[d+1]=_}catch(_){throw new Error(`failed to parse argument ${d+2} of match expression: ${_.message}`)}}return[u,...f,c]}function fT(a,t,n){const s=a[1];let r;switch(s[0]){case"linear":r=1;break;case"exponential":const d=s[1];if(typeof d!="number"||d<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(d)} instead`);r=d;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(s)}`)}const u=new ue(At,r);let c;try{c=Re(a[2],At,n)}catch(d){throw new Error(`failed to parse argument 1 in interpolate expression: ${d.message}`)}const f=new Array(a.length-3);for(let d=0;d<f.length;d+=2){try{const _=Re(a[d+3],At,n);f[d]=_}catch(_){throw new Error(`failed to parse argument ${d+2} for interpolate expression: ${_.message}`)}try{const _=Re(a[d+4],t,n);f[d+1]=_}catch(_){throw new Error(`failed to parse argument ${d+3} for interpolate expression: ${_.message}`)}}return[u,c,...f]}function dT(a,t,n){const s=Re(a[a.length-1],t,n),r=new Array(a.length-1);for(let u=0;u<r.length-1;u+=2){try{const c=Re(a[u+1],Ne,n);r[u]=c}catch(c){throw new Error(`failed to parse argument ${u} of case expression: ${c.message}`)}try{const c=Re(a[u+2],s.type,n);r[u+1]=c}catch(c){throw new Error(`failed to parse argument ${u+1} of case expression: ${c.message}`)}}return r[r.length-1]=s,r}function gT(a,t,n){let s=a[2];if(!Array.isArray(s))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof s[0]=="string"){if(s[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(s[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');s=s[1],r=ke}else r=At;const u=new Array(s.length);for(let f=0;f<u.length;f++)try{const d=Re(s[f],r,n);u[f]=d}catch(d){throw new Error(`failed to parse haystack item ${f} for "in" expression: ${d.message}`)}return[Re(a[1],r,n),...u]}function _T(a,t,n){let s;try{s=Re(a[1],At,n)}catch(c){throw new Error(`failed to parse first argument in palette expression: ${c.message}`)}const r=a[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const u=new Array(r.length);for(let c=0;c<u.length;c++){let f;try{f=Re(r[c],On,n)}catch(d){throw new Error(`failed to parse color at index ${c} in palette expression: ${d.message}`)}if(!(f instanceof ue))throw new Error(`the palette color at index ${c} must be a literal value`);u[c]=f}return[s,...u]}function _t(...a){return function(t,n,s){const r=t[0];let u;for(let c=0;c<a.length;c++){const f=a[c](t,n,s);if(c==a.length-1){if(!f)throw new Error("expected last argument validator to return the parsed args");u=f}}return new lT(n,r,...u)}}function mT(a,t,n){const s=a[0],r=aT[s];if(!r)throw new Error(`unknown operator: ${s}`);return r(a,t,n)}function Lp(a){if(!a)return"";const t=a.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return Lp(a.getGeometries()[0]);default:return""}}function Ip(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function xi(a,t,n){const s=Re(a,t,n);return Ln(s)}function Ln(a,t){if(a instanceof ue){if(a.type===On&&typeof a.value=="string"){const s=md(a.value);return function(){return s}}return function(){return a.value}}const n=a.operator;switch(n){case H.Number:case H.String:case H.Coalesce:return yT(a);case H.Get:case H.Var:case H.Has:return pT(a);case H.Id:return s=>s.featureId;case H.GeometryType:return s=>s.geometryType;case H.Concat:{const s=a.args.map(r=>Ln(r));return r=>"".concat(...s.map(u=>u(r).toString()))}case H.Resolution:return s=>s.resolution;case H.Any:case H.All:case H.Between:case H.In:case H.Not:return vT(a);case H.Equal:case H.NotEqual:case H.LessThan:case H.LessThanOrEqualTo:case H.GreaterThan:case H.GreaterThanOrEqualTo:return ET(a);case H.Multiply:case H.Divide:case H.Add:case H.Subtract:case H.Clamp:case H.Mod:case H.Pow:case H.Abs:case H.Floor:case H.Ceil:case H.Round:case H.Sin:case H.Cos:case H.Atan:case H.Sqrt:return ST(a);case H.Case:return xT(a);case H.Match:return TT(a);case H.Interpolate:return RT(a);case H.ToString:return CT(a);default:throw new Error(`Unsupported operator ${n}`)}}function yT(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=Ln(a.args[u]);switch(n){case H.Coalesce:return u=>{for(let c=0;c<s;++c){const f=r[c](u);if(typeof f<"u"&&f!==null)return f}throw new Error("Expected one of the values to be non-null")};case H.Number:case H.String:return u=>{for(let c=0;c<s;++c){const f=r[c](u);if(typeof f===n)return f}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function pT(a,t){const s=a.args[0].value;switch(a.operator){case H.Get:return r=>{const u=a.args;let c=r.properties[s];for(let f=1,d=u.length;f<d;++f){const m=u[f].value;c=c[m]}return c};case H.Var:return r=>r.variables[s];case H.Has:return r=>{const u=a.args;if(!(s in r.properties))return!1;let c=r.properties[s];for(let f=1,d=u.length;f<d;++f){const m=u[f].value;if(!c||!Object.hasOwn(c,m))return!1;c=c[m]}return!0};default:throw new Error(`Unsupported accessor operator ${a.operator}`)}}function ET(a,t){const n=a.operator,s=Ln(a.args[0]),r=Ln(a.args[1]);switch(n){case H.Equal:return u=>s(u)===r(u);case H.NotEqual:return u=>s(u)!==r(u);case H.LessThan:return u=>s(u)<r(u);case H.LessThanOrEqualTo:return u=>s(u)<=r(u);case H.GreaterThan:return u=>s(u)>r(u);case H.GreaterThanOrEqualTo:return u=>s(u)>=r(u);default:throw new Error(`Unsupported comparison operator ${n}`)}}function vT(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=Ln(a.args[u]);switch(n){case H.Any:return u=>{for(let c=0;c<s;++c)if(r[c](u))return!0;return!1};case H.All:return u=>{for(let c=0;c<s;++c)if(!r[c](u))return!1;return!0};case H.Between:return u=>{const c=r[0](u),f=r[1](u),d=r[2](u);return c>=f&&c<=d};case H.In:return u=>{const c=r[0](u);for(let f=1;f<s;++f)if(c===r[f](u))return!0;return!1};case H.Not:return u=>!r[0](u);default:throw new Error(`Unsupported logical operator ${n}`)}}function ST(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=Ln(a.args[u]);switch(n){case H.Multiply:return u=>{let c=1;for(let f=0;f<s;++f)c*=r[f](u);return c};case H.Divide:return u=>r[0](u)/r[1](u);case H.Add:return u=>{let c=0;for(let f=0;f<s;++f)c+=r[f](u);return c};case H.Subtract:return u=>r[0](u)-r[1](u);case H.Clamp:return u=>{const c=r[0](u),f=r[1](u);if(c<f)return f;const d=r[2](u);return c>d?d:c};case H.Mod:return u=>r[0](u)%r[1](u);case H.Pow:return u=>Math.pow(r[0](u),r[1](u));case H.Abs:return u=>Math.abs(r[0](u));case H.Floor:return u=>Math.floor(r[0](u));case H.Ceil:return u=>Math.ceil(r[0](u));case H.Round:return u=>Math.round(r[0](u));case H.Sin:return u=>Math.sin(r[0](u));case H.Cos:return u=>Math.cos(r[0](u));case H.Atan:return s===2?u=>Math.atan2(r[0](u),r[1](u)):u=>Math.atan(r[0](u));case H.Sqrt:return u=>Math.sqrt(r[0](u));default:throw new Error(`Unsupported numeric operator ${n}`)}}function xT(a,t){const n=a.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Ln(a.args[r]);return r=>{for(let u=0;u<n-1;u+=2)if(s[u](r))return s[u+1](r);return s[n-1](r)}}function TT(a,t){const n=a.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Ln(a.args[r]);return r=>{const u=s[0](r);for(let c=1;c<n-1;c+=2)if(u===s[c](r))return s[c+1](r);return s[n-1](r)}}function RT(a,t){const n=a.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Ln(a.args[r]);return r=>{const u=s[0](r),c=s[1](r);let f,d;for(let _=2;_<n;_+=2){const m=s[_](r);let y=s[_+1](r);const E=Array.isArray(y);if(E&&(y=VS(y)),m>=c)return _===2?y:E?bT(u,c,f,d,m,y):mr(u,c,f,d,m,y);f=m,d=y}return d}}function CT(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=Ln(a.args[u]);switch(n){case H.ToString:return u=>{const c=r[0](u);return a.args[0].type===On?yd(c):c.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function mr(a,t,n,s,r,u){const c=r-n;if(c===0)return s;const f=t-n,d=a===1?f/c:(Math.pow(a,f)-1)/(Math.pow(a,c)-1);return s+d*(u-s)}function bT(a,t,n,s,r,u){if(r-n===0)return s;const f=Jy(s),d=Jy(u);let _=d[2]-f[2];_>180?_-=360:_<-180&&(_+=360);const m=[mr(a,t,n,f[0],r,d[0]),mr(a,t,n,f[1],r,d[1]),f[2]+mr(a,t,n,0,r,_),mr(a,t,n,s[3],r,u[3])];return WS(m)}function AT(a){return!0}function MT(a){const t=Dp(),n=wT(a,t),s=Ip();return function(r,u){if(s.properties=r.getPropertiesInternal(),s.resolution=u,t.featureId){const c=r.getId();c!==void 0?s.featureId=c:s.featureId=null}return t.geometryType&&(s.geometryType=Lp(r.getGeometry())),n(s)}}function S0(a){const t=Dp(),n=a.length,s=new Array(n);for(let c=0;c<n;++c)s[c]=kf(a[c],t);const r=Ip(),u=new Array(n);return function(c,f){if(r.properties=c.getPropertiesInternal(),r.resolution=f,t.featureId){const _=c.getId();_!==void 0?r.featureId=_:r.featureId=null}let d=0;for(let _=0;_<n;++_){const m=s[_](r);m&&(u[d]=m,d+=1)}return u.length=d,u}}function wT(a,t){const n=a.length,s=new Array(n);for(let r=0;r<n;++r){const u=a[r],c="filter"in u?xi(u.filter,Ne,t):AT;let f;if(Array.isArray(u.style)){const d=u.style.length;f=new Array(d);for(let _=0;_<d;++_)f[_]=kf(u.style[_],t)}else f=[kf(u.style,t)];s[r]={filter:c,styles:f}}return function(r){const u=[];let c=!1;for(let f=0;f<n;++f){const d=s[f].filter;if(d(r)&&!(a[f].else&&c)){c=!0;for(const _ of s[f].styles){const m=_(r);m&&u.push(m)}}}return u}}function kf(a,t){const n=wr(a,"",t),s=Or(a,"",t),r=OT(a,t),u=DT(a,t),c=je(a,"z-index",t);if(!n&&!s&&!r&&!u&&!Ql(a))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(a));const f=new os;return function(d){let _=!0;if(n){const m=n(d);m&&(_=!1),f.setFill(m)}if(s){const m=s(d);m&&(_=!1),f.setStroke(m)}if(r){const m=r(d);m&&(_=!1),f.setText(m)}if(u){const m=u(d);m&&(_=!1),f.setImage(m)}return c&&f.setZIndex(c(d)),_?null:f}}function wr(a,t,n){let s;if(t+"fill-pattern-src"in a)s=zT(a,t+"fill-",n);else{if(a[t+"fill-color"]==="none")return u=>null;s=Sd(a,t+"fill-color",n)}if(!s)return null;const r=new Bs;return function(u){const c=s(u);return c===_d?null:(r.setColor(c),r)}}function Or(a,t,n){const s=je(a,t+"stroke-width",n),r=Sd(a,t+"stroke-color",n);if(!s&&!r)return null;const u=mi(a,t+"stroke-line-cap",n),c=mi(a,t+"stroke-line-join",n),f=Np(a,t+"stroke-line-dash",n),d=je(a,t+"stroke-line-dash-offset",n),_=je(a,t+"stroke-miter-limit",n),m=new ia;return function(y){if(r){const E=r(y);if(E===_d)return null;m.setColor(E)}if(s&&m.setWidth(s(y)),u){const E=u(y);if(E!=="butt"&&E!=="round"&&E!=="square")throw new Error("Expected butt, round, or square line cap");m.setLineCap(E)}if(c){const E=c(y);if(E!=="bevel"&&E!=="round"&&E!=="miter")throw new Error("Expected bevel, round, or miter line join");m.setLineJoin(E)}return f&&m.setLineDash(f(y)),d&&m.setLineDashOffset(d(y)),_&&m.setMiterLimit(_(y)),m}}function OT(a,t){const n="text-",s=mi(a,n+"value",t);if(!s)return null;const r=wr(a,n,t),u=wr(a,n+"background-",t),c=Or(a,n,t),f=Or(a,n+"background-",t),d=mi(a,n+"font",t),_=je(a,n+"max-angle",t),m=je(a,n+"offset-x",t),y=je(a,n+"offset-y",t),E=ql(a,n+"overflow",t),S=mi(a,n+"placement",t),x=je(a,n+"repeat",t),b=Bu(a,n+"scale",t),C=ql(a,n+"rotate-with-view",t),M=je(a,n+"rotation",t),I=mi(a,n+"align",t),X=mi(a,n+"justify",t),D=mi(a,n+"baseline",t),w=ql(a,n+"keep-upright",t),j=Np(a,n+"padding",t),q=Hu(a,n+"declutter-mode"),K=new Xu({declutterMode:q});return function(W){if(K.setText(s(W)),r&&K.setFill(r(W)),u&&K.setBackgroundFill(u(W)),c&&K.setStroke(c(W)),f&&K.setBackgroundStroke(f(W)),d&&K.setFont(d(W)),_&&K.setMaxAngle(_(W)),m&&K.setOffsetX(m(W)),y&&K.setOffsetY(y(W)),E&&K.setOverflow(E(W)),S){const J=S(W);if(J!=="point"&&J!=="line")throw new Error("Expected point or line for text-placement");K.setPlacement(J)}if(x&&K.setRepeat(x(W)),b&&K.setScale(b(W)),C&&K.setRotateWithView(C(W)),M&&K.setRotation(M(W)),I){const J=I(W);if(J!=="left"&&J!=="center"&&J!=="right"&&J!=="end"&&J!=="start")throw new Error("Expected left, right, center, start, or end for text-align");K.setTextAlign(J)}if(X){const J=X(W);if(J!=="left"&&J!=="right"&&J!=="center")throw new Error("Expected left, right, or center for text-justify");K.setJustify(J)}if(D){const J=D(W);if(J!=="bottom"&&J!=="top"&&J!=="middle"&&J!=="alphabetic"&&J!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");K.setTextBaseline(J)}return j&&K.setPadding(j(W)),w&&K.setKeepUpright(w(W)),K}}function DT(a,t){return"icon-src"in a?LT(a,t):"shape-points"in a?IT(a,t):"circle-radius"in a?NT(a,t):null}function LT(a,t){const n="icon-",s=n+"src",r=zp(a[s],s),u=Eu(a,n+"anchor",t),c=Bu(a,n+"scale",t),f=je(a,n+"opacity",t),d=Eu(a,n+"displacement",t),_=je(a,n+"rotation",t),m=ql(a,n+"rotate-with-view",t),y=T0(a,n+"anchor-origin"),E=R0(a,n+"anchor-x-units"),S=R0(a,n+"anchor-y-units"),x=XT(a,n+"color"),b=UT(a,n+"cross-origin"),C=YT(a,n+"offset"),M=T0(a,n+"offset-origin"),I=vu(a,n+"width"),X=vu(a,n+"height"),D=GT(a,n+"size"),w=Hu(a,n+"declutter-mode"),j=new Fu({src:r,anchorOrigin:y,anchorXUnits:E,anchorYUnits:S,color:x,crossOrigin:b,offset:C,offsetOrigin:M,height:X,width:I,size:D,declutterMode:w});return function(q){return f&&j.setOpacity(f(q)),d&&j.setDisplacement(d(q)),_&&j.setRotation(_(q)),m&&j.setRotateWithView(m(q)),c&&j.setScale(c(q)),u&&j.setAnchor(u(q)),j}}function IT(a,t){const n="shape-",s=n+"points",r=n+"radius",u=Zf(a[s],s),c=Zf(a[r],r),f=wr(a,n,t),d=Or(a,n,t),_=Bu(a,n+"scale",t),m=Eu(a,n+"displacement",t),y=je(a,n+"rotation",t),E=ql(a,n+"rotate-with-view",t),S=vu(a,n+"radius2"),x=vu(a,n+"angle"),b=Hu(a,n+"declutter-mode"),C=new Yu({points:u,radius:c,radius2:S,angle:x,declutterMode:b});return function(M){return f&&C.setFill(f(M)),d&&C.setStroke(d(M)),m&&C.setDisplacement(m(M)),y&&C.setRotation(y(M)),E&&C.setRotateWithView(E(M)),_&&C.setScale(_(M)),C}}function NT(a,t){const n="circle-",s=wr(a,n,t),r=Or(a,n,t),u=je(a,n+"radius",t),c=Bu(a,n+"scale",t),f=Eu(a,n+"displacement",t),d=je(a,n+"rotation",t),_=ql(a,n+"rotate-with-view",t),m=Hu(a,n+"declutter-mode"),y=new Nr({radius:5,declutterMode:m});return function(E){return u&&y.setRadius(u(E)),s&&y.setFill(s(E)),r&&y.setStroke(r(E)),f&&y.setDisplacement(f(E)),d&&y.setRotation(d(E)),_&&y.setRotateWithView(_(E)),c&&y.setScale(c(E)),y}}function je(a,t,n){if(!(t in a))return;const s=xi(a[t],At,n);return function(r){return Zf(s(r),t)}}function mi(a,t,n){if(!(t in a))return null;const s=xi(a[t],ke,n);return function(r){return zp(s(r),t)}}function zT(a,t,n){const s=mi(a,t+"pattern-src",n),r=x0(a,t+"pattern-offset",n),u=x0(a,t+"pattern-size",n),c=Sd(a,t+"color",n);return function(f){return{src:s(f),offset:r&&r(f),size:u&&u(f),color:c&&c(f)}}}function ql(a,t,n){if(!(t in a))return null;const s=xi(a[t],Ne,n);return function(r){const u=s(r);if(typeof u!="boolean")throw new Error(`Expected a boolean for ${t}`);return u}}function Sd(a,t,n){if(!(t in a))return null;const s=xi(a[t],On,n);return function(r){return Gp(s(r),t)}}function Np(a,t,n){if(!(t in a))return null;const s=xi(a[t],Hs,n);return function(r){return Gr(s(r),t)}}function Eu(a,t,n){if(!(t in a))return null;const s=xi(a[t],Hs,n);return function(r){const u=Gr(s(r),t);if(u.length!==2)throw new Error(`Expected two numbers for ${t}`);return u}}function x0(a,t,n){if(!(t in a))return null;const s=xi(a[t],Hs,n);return function(r){return Up(s(r),t)}}function Bu(a,t,n){if(!(t in a))return null;const s=xi(a[t],Hs|At,n);return function(r){return FT(s(r),t)}}function vu(a,t){const n=a[t];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}}function GT(a,t){const n=a[t];if(n!==void 0){if(typeof n=="number")return Ke(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return n}}function UT(a,t){const n=a[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}}function T0(a,t){const n=a[t];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function R0(a,t){const n=a[t];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return n}}function YT(a,t){const n=a[t];if(n!==void 0)return Gr(n,t)}function Hu(a,t){const n=a[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function XT(a,t){const n=a[t];if(n!==void 0)return Gp(n,t)}function Gr(a,t){if(!Array.isArray(a))throw new Error(`Expected an array for ${t}`);const n=a.length;for(let s=0;s<n;++s)if(typeof a[s]!="number")throw new Error(`Expected an array of numbers for ${t}`);return a}function zp(a,t){if(typeof a!="string")throw new Error(`Expected a string for ${t}`);return a}function Zf(a,t){if(typeof a!="number")throw new Error(`Expected a number for ${t}`);return a}function Gp(a,t){if(typeof a=="string")return a;const n=Gr(a,t),s=n.length;if(s<3||s>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function Up(a,t){const n=Gr(a,t);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return n}function FT(a,t){return typeof a=="number"?a:Up(a,t)}const Mn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function C0(a,t,n){return function(s,r,u,c,f){if(!s)return;if(!r&&!t)return s;const d=t?0:u[0]*r,_=t?0:u[1]*r,m=f?f[0]:0,y=f?f[1]:0;let E=a[0]+d/2+m,S=a[2]-d/2+m,x=a[1]+_/2+y,b=a[3]-_/2+y;E>S&&(E=(S+E)/2,S=E),x>b&&(x=(b+x)/2,b=x);let C=Wt(s[0],E,S),M=Wt(s[1],x,b);if(c&&n&&r){const I=30*r;C+=-I*Math.log(1+Math.max(0,E-s[0])/I)+I*Math.log(1+Math.max(0,s[0]-S)/I),M+=-I*Math.log(1+Math.max(0,x-s[1])/I)+I*Math.log(1+Math.max(0,s[1]-b)/I)}return[C,M]}}function BT(a){return a}function Yp(a){return Math.pow(a,3)}function sa(a){return 1-Yp(1-a)}function HT(a){return 3*a*a-2*a*a*a}function PT(a){return a}function xd(a,t,n,s){const r=Ft(t)/n[0],u=ze(t)/n[1];return s?Math.min(a,Math.max(r,u)):Math.min(a,Math.min(r,u))}function Td(a,t,n){let s=Math.min(a,t);const r=50;return s*=Math.log(1+r*Math.max(0,a/t-1))/r+1,n&&(s=Math.max(s,n),s/=Math.log(1+r*Math.max(0,n/a-1))/r+1),Wt(s,n/2,t*2)}function kT(a,t,n,s){return t=t!==void 0?t:!0,function(r,u,c,f){if(r!==void 0){const d=a[0],_=a[a.length-1],m=n?xd(d,n,c,s):d;if(f)return t?Td(r,m,_):Wt(r,_,m);const y=Math.min(m,r),E=Math.floor(Wf(a,y,u));return a[E]>m&&E<a.length-1?a[E+1]:a[E]}}}function ZT(a,t,n,s,r,u){return s=s!==void 0?s:!0,n=n!==void 0?n:0,function(c,f,d,_){if(c!==void 0){const m=r?xd(t,r,d,u):t;if(_)return s?Td(c,m,n):Wt(c,n,m);const y=1e-9,E=Math.ceil(Math.log(t/m)/Math.log(a)-y),S=-f*(.5-y)+.5,x=Math.min(m,c),b=Math.floor(Math.log(t/x)/Math.log(a)+S),C=Math.max(E,b),M=t/Math.pow(a,C);return Wt(M,n,m)}}}function b0(a,t,n,s,r){return n=n!==void 0?n:!0,function(u,c,f,d){if(u!==void 0){const _=s?xd(a,s,f,r):a;return!n||!d?Wt(u,t,_):Td(u,_,t)}}}function Rd(a){if(a!==void 0)return 0}function A0(a){if(a!==void 0)return a}function jT(a){const t=2*Math.PI/a;return function(n,s){if(s)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function KT(a){const t=as(5);return function(n,s){return s||n===void 0?n:Math.abs(n)<=t?0:n}}const qT=42,Cd=256,Rf=0;class kn extends In{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=rd(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&J0(),t.center&&(t.center=gi(t.center,this.projection_)),t.extent&&(t.extent=ss(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const n=Object.assign({},t);for(const f in Mn)delete n[f];this.setProperties(n,!0);const s=WT(t);this.maxResolution_=s.maxResolution,this.minResolution_=s.minResolution,this.zoomFactor_=s.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=s.minZoom;const r=VT(t),u=s.constraint,c=QT(t);this.constraints_={center:r,resolution:u,rotation:c},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;const s=this.getCenterInternal();if(s){const r=t||[0,0,0,0];n=n||[0,0,0,0];const u=this.getResolution(),c=u/2*(r[3]-n[3]+n[1]-r[1]),f=u/2*(r[0]-n[0]+n[2]-r[2]);this.setCenterInternal([s[0]+c,s[1]-f])}}getUpdatedOptions_(t){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let s=0;s<n.length;++s){let r=arguments[s];r.center&&(r=Object.assign({},r),r.center=gi(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=gi(r.anchor,this.getProjection())),n[s]=r}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,s;n>1&&typeof arguments[n-1]=="function"&&(s=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const m=arguments[r];m.center&&this.setCenterInternal(m.center),m.zoom!==void 0?this.setZoom(m.zoom):m.resolution&&this.setResolution(m.resolution),m.rotation!==void 0&&this.setRotation(m.rotation)}if(r===n){s&&ou(s,!0);return}let u=Date.now(),c=this.targetCenter_.slice(),f=this.targetResolution_,d=this.targetRotation_;const _=[];for(;r<n;++r){const m=arguments[r],y={start:u,complete:!1,anchor:m.anchor,duration:m.duration!==void 0?m.duration:1e3,easing:m.easing||HT,callback:s};if(m.center&&(y.sourceCenter=c,y.targetCenter=m.center.slice(),c=y.targetCenter),m.zoom!==void 0?(y.sourceResolution=f,y.targetResolution=this.getResolutionForZoom(m.zoom),f=y.targetResolution):m.resolution&&(y.sourceResolution=f,y.targetResolution=m.resolution,f=y.targetResolution),m.rotation!==void 0){y.sourceRotation=d;const E=jl(m.rotation-d+Math.PI,2*Math.PI)-Math.PI;y.targetRotation=d+E,d=y.targetRotation}JT(y)?y.complete=!0:u+=y.duration,_.push(y)}this.animations_.push(_),this.setHint(De.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[De.ANIMATING]>0}getInteracting(){return this.hints_[De.INTERACTING]>0}cancelAnimations(){this.setHint(De.ANIMATING,-this.hints_[De.ANIMATING]);let t;for(let n=0,s=this.animations_.length;n<s;++n){const r=this.animations_[n];if(r[0].callback&&ou(r[0].callback,!1),!t)for(let u=0,c=r.length;u<c;++u){const f=r[u];if(!f.complete){t=f.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let n=!1;for(let s=this.animations_.length-1;s>=0;--s){const r=this.animations_[s];let u=!0;for(let c=0,f=r.length;c<f;++c){const d=r[c];if(d.complete)continue;const _=t-d.start;let m=d.duration>0?_/d.duration:1;m>=1?(d.complete=!0,m=1):u=!1;const y=d.easing(m);if(d.sourceCenter){const E=d.sourceCenter[0],S=d.sourceCenter[1],x=d.targetCenter[0],b=d.targetCenter[1];this.nextCenter_=d.targetCenter;const C=E+y*(x-E),M=S+y*(b-S);this.targetCenter_=[C,M]}if(d.sourceResolution&&d.targetResolution){const E=y===1?d.targetResolution:d.sourceResolution+y*(d.targetResolution-d.sourceResolution);if(d.anchor){const S=this.getViewportSize_(this.getRotation()),x=this.constraints_.resolution(E,0,S,!0);this.targetCenter_=this.calculateCenterZoom(x,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=E,this.applyTargetState_(!0)}if(d.sourceRotation!==void 0&&d.targetRotation!==void 0){const E=y===1?jl(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+y*(d.targetRotation-d.sourceRotation);if(d.anchor){const S=this.constraints_.rotation(E,!0);this.targetCenter_=this.calculateCenterRotate(S,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=E}if(this.applyTargetState_(!0),n=!0,!d.complete)break}if(u){this.animations_[s]=null,this.setHint(De.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const c=r[0].callback;c&&ou(c,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let s;const r=this.getCenterInternal();return r!==void 0&&(s=[r[0]-n[0],r[1]-n[1]],ed(s,t-this.getRotation()),Iv(s,n)),s}calculateCenterZoom(t,n){let s;const r=this.getCenterInternal(),u=this.getResolution();if(r!==void 0&&u!==void 0){const c=n[0]-t*(n[0]-r[0])/u,f=n[1]-t*(n[1]-r[1])/u;s=[c,f]}return s}getViewportSize_(t){const n=this.viewportSize_;if(t){const s=n[0],r=n[1];return[Math.abs(s*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(s*Math.sin(t))+Math.abs(r*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&Ff(t,this.getProjection())}getCenterInternal(){return this.get(Mn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const n=this.calculateExtentInternal(t);return $0(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Gt(n,"The view center is not defined");const s=this.getResolution();Gt(s!==void 0,"The view resolution is not defined");const r=this.getRotation();return Gt(r!==void 0,"The view rotation is not defined"),zf(n,s,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(Mn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(ss(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();const s=Ft(t)/n[0],r=ze(t)/n[1];return Math.max(s,r)}getResolutionForValueFunction(t){t=t||2;const n=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,r=Math.log(n/s)/Math.log(t);return function(u){return n/Math.pow(t,u*r)}}getRotation(){return this.get(Mn.ROTATION)}getValueForResolutionFunction(t){const n=Math.log(t||2),s=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,u=Math.log(s/r)/n;return function(c){return Math.log(s/c)/n/u}}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t);const s=this.padding_;return s&&(n=[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]),n}getState(){const t=this.getProjection(),n=this.getResolution(),s=this.getRotation();let r=this.getCenterInternal();const u=this.padding_;if(u){const c=this.getViewportSizeMinusPadding_();r=Cf(r,this.getViewportSize_(),[c[0]/2+u[3],c[1]/2+u[0]],n,s)}return{center:r.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:s,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,s,r;if(this.resolutions_){const u=Wf(this.resolutions_,t,1);n=u,s=this.resolutions_[u],u==this.resolutions_.length-1?r=2:r=s/this.resolutions_[u+1]}else s=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(s/t)/Math.log(r)}getResolutionForZoom(t){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];const n=Wt(Math.floor(t),0,this.resolutions_.length-2),s=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(s,Wt(t-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let s;if(Gt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){Gt(!Ou(t),"Cannot fit empty extent provided as `geometry`");const r=ss(t,this.getProjection());s=Vy(r)}else if(t.getType()==="Circle"){const r=ss(t.getExtent(),this.getProjection());s=Vy(r),s.rotate(this.getRotation(),Xs(r))}else s=t;this.fitInternal(s,n)}rotatedExtentForGeometry(t){const n=this.getRotation(),s=Math.cos(n),r=Math.sin(-n),u=t.getFlatCoordinates(),c=t.getStride();let f=1/0,d=1/0,_=-1/0,m=-1/0;for(let y=0,E=u.length;y<E;y+=c){const S=u[y]*s-u[y+1]*r,x=u[y]*r+u[y+1]*s;f=Math.min(f,S),d=Math.min(d,x),_=Math.max(_,S),m=Math.max(m,x)}return[f,d,_,m]}fitInternal(t,n){n=n||{};let s=n.size;s||(s=this.getViewportSizeMinusPadding_());const r=n.padding!==void 0?n.padding:[0,0,0,0],u=n.nearest!==void 0?n.nearest:!1;let c;n.minResolution!==void 0?c=n.minResolution:n.maxZoom!==void 0?c=this.getResolutionForZoom(n.maxZoom):c=0;const f=this.rotatedExtentForGeometry(t);let d=this.getResolutionForExtentInternal(f,[s[0]-r[1]-r[3],s[1]-r[0]-r[2]]);d=isNaN(d)?c:Math.max(d,c),d=this.getConstrainedResolution(d,u?0:1);const _=this.getRotation(),m=Math.sin(_),y=Math.cos(_),E=Xs(f);E[0]+=(r[1]-r[3])/2*d,E[1]+=(r[0]-r[2])/2*d;const S=E[0]*y-E[1]*m,x=E[1]*y+E[0]*m,b=this.getConstrainedCenter([S,x],d),C=n.callback?n.callback:vr;n.duration!==void 0?this.animateInternal({resolution:d,center:b,duration:n.duration,easing:n.easing},C):(this.targetResolution_=d,this.targetCenter_=b,this.applyTargetState_(!1,!0),ou(C,!0))}centerOn(t,n,s){this.centerOnInternal(gi(t,this.getProjection()),n,s)}centerOnInternal(t,n,s){this.setCenterInternal(Cf(t,n,s,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,s,r){let u;const c=this.padding_;if(c&&t){const f=this.getViewportSizeMinusPadding_(-s),d=Cf(t,r,[f[0]/2+c[3],f[1]/2+c[0]],n,s);u=[t[0]-d[0],t[1]-d[1]]}return u}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const n=Ff(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){const n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&gi(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){const s=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),u=this.constraints_.resolution(this.targetResolution_*t,0,r,s);n&&(this.targetCenter_=this.calculateCenterZoom(u,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=gi(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){const s=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,s);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&gi(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){const s=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,s),u=this.getViewportSize_(r),c=this.constraints_.resolution(this.targetResolution_,0,u,s),f=this.constraints_.center(this.targetCenter_,c,u,s,this.calculateCenterShift(this.targetCenter_,c,r,u));this.get(Mn.ROTATION)!==r&&this.set(Mn.ROTATION,r),this.get(Mn.RESOLUTION)!==c&&(this.set(Mn.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!f||!this.get(Mn.CENTER)||!hu(this.get(Mn.CENTER),f))&&this.set(Mn.CENTER,f),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,s){t=t!==void 0?t:200;const r=n||0,u=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(u),f=this.constraints_.resolution(this.targetResolution_,r,c),d=this.constraints_.center(this.targetCenter_,f,c,!1,this.calculateCenterShift(this.targetCenter_,f,u,c));if(t===0&&!this.cancelAnchor_){this.targetResolution_=f,this.targetRotation_=u,this.targetCenter_=d,this.applyTargetState_();return}s=s||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==f||this.getRotation()!==u||!this.getCenterInternal()||!hu(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:u,center:d,resolution:f,duration:t,easing:sa,anchor:s}))}beginInteraction(){this.resolveConstraints(0),this.setHint(De.INTERACTING,1)}endInteraction(t,n,s){s=s&&gi(s,this.getProjection()),this.endInteractionInternal(t,n,s)}endInteractionInternal(t,n,s){this.getInteracting()&&(this.setHint(De.INTERACTING,-1),this.resolveConstraints(t,n,s))}getConstrainedCenter(t,n){const s=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),s)}getConstrainedZoom(t,n){const s=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(s,n))}getConstrainedResolution(t,n){n=n||0;const s=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,s)}}function ou(a,t){setTimeout(function(){a(t)},0)}function VT(a){if(a.extent!==void 0){const n=a.smoothExtentConstraint!==void 0?a.smoothExtentConstraint:!0;return C0(a.extent,a.constrainOnlyCenter,n)}const t=rd(a.projection,"EPSG:3857");if(a.multiWorld!==!0&&t.isGlobal()){const n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,C0(n,!1,!1)}return BT}function WT(a){let t,n,s,c=a.minZoom!==void 0?a.minZoom:Rf,f=a.maxZoom!==void 0?a.maxZoom:28;const d=a.zoomFactor!==void 0?a.zoomFactor:2,_=a.multiWorld!==void 0?a.multiWorld:!1,m=a.smoothResolutionConstraint!==void 0?a.smoothResolutionConstraint:!0,y=a.showFullExtent!==void 0?a.showFullExtent:!1,E=rd(a.projection,"EPSG:3857"),S=E.getExtent();let x=a.constrainOnlyCenter,b=a.extent;if(!_&&!b&&E.isGlobal()&&(x=!1,b=S),a.resolutions!==void 0){const C=a.resolutions;n=C[c],s=C[f]!==void 0?C[f]:C[C.length-1],a.constrainResolution?t=kT(C,m,!x&&b,y):t=b0(n,s,m,!x&&b,y)}else{const M=(S?Math.max(Ft(S),ze(S)):360*nd.degrees/E.getMetersPerUnit())/Cd/Math.pow(2,Rf),I=M/Math.pow(2,28-Rf);n=a.maxResolution,n!==void 0?c=0:n=M/Math.pow(d,c),s=a.minResolution,s===void 0&&(a.maxZoom!==void 0?a.maxResolution!==void 0?s=n/Math.pow(d,f):s=M/Math.pow(d,f):s=I),f=c+Math.floor(Math.log(n/s)/Math.log(d)),s=n/Math.pow(d,f-c),a.constrainResolution?t=ZT(d,n,s,m,!x&&b,y):t=b0(n,s,m,!x&&b,y)}return{constraint:t,maxResolution:n,minResolution:s,minZoom:c,zoomFactor:d}}function QT(a){if(a.enableRotation!==void 0?a.enableRotation:!0){const n=a.constrainRotation;return n===void 0||n===!0?KT():n===!1?A0:typeof n=="number"?jT(n):A0}return Rd}function JT(a){return!(a.sourceCenter&&a.targetCenter&&!hu(a.sourceCenter,a.targetCenter)||a.sourceResolution!==a.targetResolution||a.sourceRotation!==a.targetRotation)}function Cf(a,t,n,s,r){const u=Math.cos(-r);let c=Math.sin(-r),f=a[0]*u-a[1]*c,d=a[1]*u+a[0]*c;f+=(t[0]/2-n[0])*s,d+=(n[1]-t[1]/2)*s,c=-c;const _=f*u-d*c,m=d*u+f*c;return[_,m]}const Xt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class Xp extends In{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[Xt.OPACITY]=t.opacity!==void 0?t.opacity:1,Gt(typeof n[Xt.OPACITY]=="number","Layer opacity must be a number"),n[Xt.VISIBLE]=t.visible!==void 0?t.visible:!0,n[Xt.Z_INDEX]=t.zIndex,n[Xt.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[Xt.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[Xt.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[Xt.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const n=this.state_||{layer:this,managed:t===void 0?!0:t},s=this.getZIndex();return n.opacity=Wt(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=s===void 0&&!n.managed?1/0:s,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return Dt()}getLayerStatesArray(t){return Dt()}getExtent(){return this.get(Xt.EXTENT)}getMaxResolution(){return this.get(Xt.MAX_RESOLUTION)}getMinResolution(){return this.get(Xt.MIN_RESOLUTION)}getMinZoom(){return this.get(Xt.MIN_ZOOM)}getMaxZoom(){return this.get(Xt.MAX_ZOOM)}getOpacity(){return this.get(Xt.OPACITY)}getSourceState(){return Dt()}getVisible(){return this.get(Xt.VISIBLE)}getZIndex(){return this.get(Xt.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(Xt.EXTENT,t)}setMaxResolution(t){this.set(Xt.MAX_RESOLUTION,t)}setMinResolution(t){this.set(Xt.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(Xt.MAX_ZOOM,t)}setMinZoom(t){this.set(Xt.MIN_ZOOM,t)}setOpacity(t){Gt(typeof t=="number","Layer opacity must be a number"),this.set(Xt.OPACITY,t)}setVisible(t){this.set(Xt.VISIBLE,t)}setZIndex(t){this.set(Xt.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class Pu extends Xp{constructor(t){const n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(Xt.SOURCE,this.handleSourcePropertyChange_);const s=t.source?t.source:null;this.setSource(s)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(Xt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Kt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=wt(t,pt.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n;const s=this.getMapInternal();!t&&s&&(t=s.getView()),t instanceof kn?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&s&&(n.layerStatesArray=s.getLayerGroup().getLayerStatesArray());let r;if(n.layerStatesArray){if(r=n.layerStatesArray.find(c=>c.layer===this),!r)return!1}else r=this.getLayerState();const u=this.getExtent();return bd(r,n.viewState)&&(!u||Ze(u,n.extent))}getAttributions(t){if(!this.isVisible(t))return[];const n=this.getSource()?.getAttributions();if(!n)return[];const s=t instanceof kn?t.getViewStateAndExtent():t;let r=n(s);return Array.isArray(r)||(r=[r]),r}render(t,n){const s=this.getRenderer();return s.prepareFrame(t)?(this.rendered=!0,s.renderFrame(t,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,n){}renderDeferred(t){const n=this.getRenderer();n&&n.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(Xt.MAP,t)}getMapInternal(){return this.get(Xt.MAP)}setMap(t){this.mapPrecomposeKey_&&(Kt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Kt(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=wt(t,yn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=wt(this,pt.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){const n=t.frameState.layerStatesArray,s=this.getLayerState(!1);Gt(!n.some(r=>r.layer===s.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(s)}setSource(t){this.set(Xt.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function bd(a,t){if(!a.visible)return!1;const n=t.resolution;if(n<a.minResolution||n>=a.maxResolution)return!1;const s=t.zoom;return s>a.minZoom&&s<=a.maxZoom}const M0={RENDER_ORDER:"renderOrder"};class Fp extends Pu{constructor(t){t=t||{};const n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(M0.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,n){const s=this.getDeclutter();s in t.declutter||(t.declutter[s]=new Rp(9)),this.getRenderer().renderDeclutter(t,n)}setRenderOrder(t){this.set(M0.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?bp:t;const n=$T(t);this.styleFunction_=t===null?void 0:zx(n),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}}function $T(a){if(a===void 0)return bp;if(!a)return null;if(typeof a=="function"||a instanceof os)return a;if(!Array.isArray(a))return S0([a]);if(a.length===0)return[];const t=a.length,n=a[0];if(n instanceof os){const r=new Array(t);for(let u=0;u<t;++u){const c=a[u];if(!(c instanceof os))throw new Error("Expected a list of style instances");r[u]=c}return r}if("style"in n){const r=new Array(t);for(let u=0;u<t;++u){const c=a[u];if(!("style"in c))throw new Error("Expected a list of rules with a style property");r[u]=c}return MT(r)}return S0(a)}class tR extends Fp{constructor(t){super(t)}createRenderer(){return new nT(this)}}const ht={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class Ad extends Cu{constructor(t,n,s){super(),s=s||{},this.tileCoord=t,this.state=n,this.key="",this.transition_=s.transition===void 0?250:s.transition,this.transitionStarts_={},this.interpolate=!!s.interpolate}changed(){this.dispatchEvent(pt.CHANGE)}release(){this.setState(ht.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==ht.EMPTY){if(this.state!==ht.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){Dt()}getAlpha(t,n){if(!this.transition_)return 1;let s=this.transitionStarts_[t];if(!s)s=n,this.transitionStarts_[t]=s;else if(s===-1)return 1;const r=n-s+1e3/60;return r>=this.transition_?1:Yp(r/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}class Bp extends Ad{constructor(t,n,s,r,u,c){super(t,n,c),this.crossOrigin_=r,this.src_=s,this.key=s,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=u}getImage(){return this.image_}setImage(t){this.image_=t,this.state=ht.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=ht.ERROR,this.unlistenImage_(),this.image_=eR(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=ht.LOADED:this.state=ht.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==ht.ERROR&&(this.state=ht.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ht.IDLE&&(this.state=ht.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=QS(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function eR(){const a=ce(1,1);return a.fillStyle="rgba(0,0,0,0)",a.fillRect(0,0,1,1),a.canvas}class nR{constructor(t,n,s){this.decay_=t,this.minVelocity_=n,this.delay_=s,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let s=n-3;for(;s>0&&this.points_[s+2]>t;)s-=3;const r=this.points_[n+2]-this.points_[s+2];if(r<1e3/60)return!1;const u=this.points_[n]-this.points_[s],c=this.points_[n+1]-this.points_[s+1];return this.angle_=Math.atan2(c,u),this.initialVelocity_=Math.sqrt(u*u+c*c)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class Bl extends Si{constructor(t,n,s){super(t),this.map=n,this.frameState=s!==void 0?s:null}}class ns extends Bl{constructor(t,n,s,r,u,c){super(t,n,u),this.originalEvent=s,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=c}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const te={SINGLECLICK:"singleclick",CLICK:pt.CLICK,DBLCLICK:pt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},jf={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class iR extends Cu{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const s=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=s,this.pointerdownListenerKey_=wt(s,jf.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=wt(s,jf.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(pt.TOUCHMOVE,this.boundHandleTouchMove_,fp?{passive:!1}:!1)}emulateClick_(t){let n=new ns(te.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new ns(te.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const s=new ns(te.SINGLECLICK,this.map_,t);this.dispatchEvent(s)},250)}updateActivePointers_(t){const n=t,s=n.pointerId;if(n.type==te.POINTERUP||n.type==te.POINTERCANCEL){delete this.trackedTouches_[s];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==te.POINTERDOWN||n.type==te.POINTERMOVE)&&(this.trackedTouches_[s]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const n=new ns(te.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Kt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const n=new ns(te.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(wt(s,te.POINTERMOVE,this.handlePointerMove_,this),wt(s,te.POINTERUP,this.handlePointerUp_,this),wt(this.element_,te.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(wt(this.element_.getRootNode(),te.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const n=new ns(te.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new ns(te.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Kt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(pt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Kt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Kt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const _i={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Oe={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Su=1/0;class sR{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Dr(this.queuedElements_)}dequeue(){const t=this.elements_,n=this.priorities_,s=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));const r=this.keyFunction_(s);return delete this.queuedElements_[r],s}enqueue(t){Gt(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(t);return n!=Su?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const n=this.elements_,s=this.priorities_,r=n.length,u=n[t],c=s[t],f=t;for(;t<r>>1;){const d=this.getLeftChildIndex_(t),_=this.getRightChildIndex_(t),m=_<r&&s[_]<s[d]?_:d;n[t]=n[m],s[t]=s[m],t=m}n[t]=u,s[t]=c,this.siftDown_(f,t)}siftDown_(t,n){const s=this.elements_,r=this.priorities_,u=s[n],c=r[n];for(;n>t;){const f=this.getParentIndex_(n);if(r[f]>c)s[n]=s[f],r[n]=r[f],n=f;else break}s[n]=u,r[n]=c}reprioritize(){const t=this.priorityFunction_,n=this.elements_,s=this.priorities_;let r=0;const u=n.length;let c,f,d;for(f=0;f<u;++f)c=n[f],d=t(c),d==Su?delete this.queuedElements_[this.keyFunction_(c)]:(s[r]=d,n[r++]=c);n.length=r,s.length=r,this.heapify_()}}class lR extends sR{constructor(t,n){super(s=>t.apply(null,s),s=>s[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const n=super.enqueue(t);return n&&t[0].addEventListener(pt.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const n=t.target,s=n.getState();if(s===ht.LOADED||s===ht.ERROR||s===ht.EMPTY){s!==ht.ERROR&&n.removeEventListener(pt.CHANGE,this.boundHandleTileChange_);const r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let s=0;for(;this.tilesLoading_<t&&s<n&&this.getCount()>0;){const r=this.dequeue()[0],u=r.getKey();r.getState()===ht.IDLE&&!(u in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[u]=!0,++this.tilesLoading_,++s,r.load())}}}function aR(a,t,n,s,r){if(!a||!(n in a.wantedTiles)||!a.wantedTiles[n][t.getKey()])return Su;const u=a.viewState.center,c=s[0]-u[0],f=s[1]-u[1];return 65536*Math.log(r)+Math.sqrt(c*c+f*f)/r}class Md extends In{constructor(t){super();const n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&this.element?.remove();for(let n=0,s=this.listenerKeys.length;n<s;++n)Kt(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=t,t){const n=this.target_??t.getOverlayContainerStopEvent();this.element&&n.appendChild(this.element),this.render!==vr&&this.listenerKeys.push(wt(t,_i.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class rR extends Md{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const n=t.className!==void 0?t.className:"ol-attribution",s=t.tipLabel!==void 0?t.tipLabel:"Attributions",r=t.expandClassName!==void 0?t.expandClassName:n+"-expand",u=t.collapseLabel!==void 0?t.collapseLabel:"",c=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof u=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=u,this.collapseLabel_.className=c):this.collapseLabel_=u;const f=t.label!==void 0?t.label:"i";typeof f=="string"?(this.label_=document.createElement("span"),this.label_.textContent=f,this.label_.className=r):this.label_=f;const d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=s,this.toggleButton_.appendChild(d),this.toggleButton_.addEventListener(pt.CLICK,this.handleClick_.bind(this),!1);const _=n+" "+Gu+" "+Ed+(this.collapsed_&&this.collapsible_?" "+$y:"")+(this.collapsible_?"":" ol-uncollapsible"),m=this.element;m.className=_,m.appendChild(this.toggleButton_),m.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const n=this.getMap().getAllLayers(),s=new Set(n.flatMap(r=>r.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>s.add(r)):s.add(this.attributions_)),!this.overrideCollapsible_){const r=!n.some(u=>u.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return Array.from(s)}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(t).map(r=>Sv(()=>r))),s=n.length>0;if(this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),!cs(n,this.renderedAttributions_)){dp(this.ulElement_);for(let r=0,u=n.length;r<u;++r){const c=document.createElement("li");c.innerHTML=n[r],this.ulElement_.appendChild(c)}this.renderedAttributions_=n}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle($y),this.collapsed_?Qy(this.collapseLabel_,this.label_):Qy(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class oR extends Md{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const n=t.className!==void 0?t.className:"ol-rotate",s=t.label!==void 0?t.label:"",r=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof s=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=s):(this.label_=s,this.label_.classList.add(r));const u=t.tipLabel?t.tipLabel:"Reset rotation",c=document.createElement("button");c.className=n+"-reset",c.setAttribute("type","button"),c.title=u,c.appendChild(this.label_),c.addEventListener(pt.CLICK,this.handleClick_.bind(this),!1);const f=n+" "+Gu+" "+Ed,d=this.element;d.className=f,d.appendChild(c),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(iu)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const s=n.getRotation();s!==void 0&&(this.duration_>0&&s%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:sa}):n.setRotation(0))}render(t){const n=t.frameState;if(!n)return;const s=n.viewState.rotation;if(s!=this.rotation_){const r="rotate("+s+"rad)";if(this.autoHide_){const u=this.element.classList.contains(iu);!u&&s===0?this.element.classList.add(iu):u&&s!==0&&this.element.classList.remove(iu)}this.label_.style.transform=r}this.rotation_=s}}class uR extends Md{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const n=t.className!==void 0?t.className:"ol-zoom",s=t.delta!==void 0?t.delta:1,r=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",u=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",c=t.zoomInLabel!==void 0?t.zoomInLabel:"+",f=t.zoomOutLabel!==void 0?t.zoomOutLabel:"",d=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",_=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=r,m.setAttribute("type","button"),m.title=d,m.appendChild(typeof c=="string"?document.createTextNode(c):c),m.addEventListener(pt.CLICK,this.handleClick_.bind(this,s),!1);const y=document.createElement("button");y.className=u,y.setAttribute("type","button"),y.title=_,y.appendChild(typeof f=="string"?document.createTextNode(f):f),y.addEventListener(pt.CLICK,this.handleClick_.bind(this,-s),!1);const E=n+" "+Gu+" "+Ed,S=this.element;S.className=E,S.appendChild(m),S.appendChild(y),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const s=this.getMap().getView();if(!s)return;const r=s.getZoom();if(r!==void 0){const u=s.getConstrainedZoom(r+t);this.duration_>0?(s.getAnimating()&&s.cancelAnimations(),s.animate({zoom:u,duration:this.duration_,easing:sa})):s.setZoom(u)}}}function cR(a){a=a||{};const t=new Zn;return(a.zoom!==void 0?a.zoom:!0)&&t.push(new uR(a.zoomOptions)),(a.rotate!==void 0?a.rotate:!0)&&t.push(new oR(a.rotateOptions)),(a.attribution!==void 0?a.attribution:!0)&&t.push(new rR(a.attributionOptions)),t}const w0={ACTIVE:"active"};class Ur extends In{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(w0.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(w0.ACTIVE,t)}setMap(t){this.map_=t}}function hR(a,t,n){const s=a.getCenterInternal();if(s){const r=[s[0]+t[0],s[1]+t[1]];a.animateInternal({duration:n!==void 0?n:250,easing:PT,center:a.getConstrainedCenter(r)})}}function wd(a,t,n,s){const r=a.getZoom();if(r===void 0)return;const u=a.getConstrainedZoom(r+t),c=a.getResolutionForZoom(u);a.getAnimating()&&a.cancelAnimations(),a.animate({resolution:c,anchor:n,duration:s!==void 0?s:250,easing:sa})}class fR extends Ur{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==te.DBLCLICK){const s=t.originalEvent,r=t.map,u=t.coordinate,c=s.shiftKey?-this.delta_:this.delta_,f=r.getView();wd(f,c,u,this.duration_),s.preventDefault(),n=!0}return!n}}function Kf(a){const t=arguments;return function(n){let s=!0;for(let r=0,u=t.length;r<u&&(s=s&&t[r](n),!!s);++r);return s}}const dR=function(a){const t=a.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},gR=function(a){const t=a.map.getTargetElement(),n=t.getRootNode(),s=a.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(s):t.contains(s)},Hp=function(a){const t=a.map.getTargetElement(),n=t.getRootNode();return(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")?gR(a):!0},_R=Er,Pp=function(a){const t=a.originalEvent;return"pointerId"in t&&t.button==0&&!(US&&cp&&t.ctrlKey)},kp=function(a){const t=a.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},mR=function(a){const t=a.originalEvent;return cp?t.metaKey:t.ctrlKey},yR=function(a){const t=a.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Zp=function(a){const t=a.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},bf=function(a){const t=a.originalEvent;return"pointerId"in t&&t.pointerType=="mouse"},pR=function(a){const t=a.originalEvent;return"pointerId"in t&&t.isPrimary&&t.button===0};class Yr extends Ur{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==te.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==te.POINTERUP){const s=this.handleUpEvent(t);this.handlingDownUpSequence=s&&this.targetPointers.length>0}}else if(t.type==te.POINTERDOWN){const s=this.handleDownEvent(t);this.handlingDownUpSequence=s,n=this.stopDown(s)}else t.type==te.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function Od(a){const t=a.length;let n=0,s=0;for(let r=0;r<t;r++)n+=a[r].clientX,s+=a[r].clientY;return{clientX:n/t,clientY:s/t}}class ER extends Yr{constructor(t){super({stopDown:Ru}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=t.condition?t.condition:Kf(kp,pR);this.condition_=t.onFocusOnly?Kf(Hp,n):n,this.noKinetic_=!1}handleDragEvent(t){const n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const s=this.targetPointers,r=n.getEventPixel(Od(s));if(s.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const u=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],f=t.map.getView();Nv(u,f.getResolution()),ed(u,f.getRotation()),f.adjustCenterInternal(u)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=s.length,t.originalEvent.preventDefault()}handleUpEvent(t){const n=t.map,s=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),u=this.kinetic_.getAngle(),c=s.getCenterInternal(),f=n.getPixelFromCoordinateInternal(c),d=n.getCoordinateFromPixelInternal([f[0]-r*Math.cos(u),f[1]-r*Math.sin(u)]);s.animateInternal({center:s.getConstrainedCenter(d),duration:500,easing:sa})}return this.panning_&&(this.panning_=!1,s.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const s=t.map.getView();return this.lastCentroid=null,s.getAnimating()&&s.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class vR extends Yr{constructor(t){t=t||{},super({stopDown:Ru}),this.condition_=t.condition?t.condition:dR,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!bf(t))return;const n=t.map,s=n.getView();if(s.getConstraints().rotation===Rd)return;const r=n.getSize(),u=t.pixel,c=Math.atan2(r[1]/2-u[1],u[0]-r[0]/2);if(this.lastAngle_!==void 0){const f=c-this.lastAngle_;s.adjustRotationInternal(-f)}this.lastAngle_=c}handleUpEvent(t){return bf(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return bf(t)&&Pp(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class SR extends Tu{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,n=this.endPixel_,s="px",r=this.element_.style;r.left=Math.min(t[0],n[0])+s,r.top=Math.min(t[1],n[1])+s,r.width=Math.abs(n[0]-t[0])+s,r.height=Math.abs(n[1]-t[1])+s}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,n=this.endPixel_,r=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Rr([r])}getGeometry(){return this.geometry_}}const zl={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class cr extends Si{constructor(t,n,s){super(t),this.coordinate=n,this.mapBrowserEvent=s}}class xR extends Yr{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new SR(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??Pp,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,s){const r=s[0]-n[0],u=s[1]-n[1];return r*r+u*u>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new cr(zl.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new cr(n?zl.BOXEND:zl.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new cr(zl.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new cr(zl.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new cr(zl.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}}class TR extends xR{constructor(t){t=t||{};const n=t.condition?t.condition:yR;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const s=this.getMap().getView();let r=this.getGeometry();if(this.out_){const u=s.rotatedExtentForGeometry(r),c=s.getResolutionForExtentInternal(u),f=s.getResolution()/c;r=r.clone(),r.scale(f*f)}s.fitInternal(r,{duration:this.duration_,easing:sa})}}const Ds={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class RR extends Ur{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return kp(n)&&Zp(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==pt.KEYDOWN){const s=t.originalEvent,r=s.key;if(this.condition_(t)&&(r==Ds.DOWN||r==Ds.LEFT||r==Ds.RIGHT||r==Ds.UP)){const c=t.map.getView(),f=c.getResolution()*this.pixelDelta_;let d=0,_=0;r==Ds.DOWN?_=-f:r==Ds.LEFT?d=-f:r==Ds.RIGHT?d=f:_=f;const m=[d,_];ed(m,c.getRotation()),hR(c,m,this.duration_),s.preventDefault(),n=!0}}return!n}}class CR extends Ur{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!mR(n)&&Zp(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==pt.KEYDOWN||t.type==pt.KEYPRESS){const s=t.originalEvent,r=s.key;if(this.condition_(t)&&(r==="+"||r==="-")){const u=t.map,c=r==="+"?this.delta_:-this.delta_,f=u.getView();wd(f,c,void 0,this.duration_),s.preventDefault(),n=!0}}return!n}}const bR=40,AR=300;class MR extends Ur{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const n=t.condition?t.condition:_R;this.condition_=t.onFocusOnly?Kf(Hp,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==pt.WHEEL)return!0;const s=t.map,r=t.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let u=r.deltaY;switch(r.deltaMode){case WheelEvent.DOM_DELTA_LINE:u*=bR;break;case WheelEvent.DOM_DELTA_PAGE:u*=AR;break}if(u===0)return!1;this.lastDelta_=u;const c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(u)<4?"trackpad":"wheel");const f=s.getView();if(this.mode_==="trackpad"&&!(f.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(f.getAnimating()&&f.cancelAnimations(),f.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),f.adjustZoom(-u/this.deltaPerZoom_,this.lastAnchor_?s.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=c,!1;this.totalDelta_+=u;const d=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,s),d),!1}handleWheelZoom_(t){const n=t.getView();n.getAnimating()&&n.cancelAnimations();let s=-Wt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(s=s?s>0?1:-1:0),wd(n,s,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class wR extends Yr{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Ru),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0;const s=this.targetPointers[0],r=this.targetPointers[1],u=Math.atan2(r.clientY-s.clientY,r.clientX-s.clientX);if(this.lastAngle_!==void 0){const d=u-this.lastAngle_;this.rotationDelta_+=d,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=d}this.lastAngle_=u;const c=t.map,f=c.getView();f.getConstraints().rotation!==Rd&&(this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(Od(this.targetPointers))),this.rotating_&&(c.render(),f.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class OR extends Yr{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Ru),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const s=this.targetPointers[0],r=this.targetPointers[1],u=s.clientX-r.clientX,c=s.clientY-r.clientY,f=Math.sqrt(u*u+c*c);this.lastDistance_!==void 0&&(n=this.lastDistance_/f),this.lastDistance_=f;const d=t.map,_=d.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=d.getCoordinateFromPixelInternal(d.getEventPixel(Od(this.targetPointers))),d.render(),_.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const s=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return s.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function DR(a){a=a||{};const t=new Zn,n=new nR(-.005,.05,100);return(a.altShiftDragRotate!==void 0?a.altShiftDragRotate:!0)&&t.push(new vR),(a.doubleClickZoom!==void 0?a.doubleClickZoom:!0)&&t.push(new fR({delta:a.zoomDelta,duration:a.zoomDuration})),(a.dragPan!==void 0?a.dragPan:!0)&&t.push(new ER({onFocusOnly:a.onFocusOnly,kinetic:n})),(a.pinchRotate!==void 0?a.pinchRotate:!0)&&t.push(new wR),(a.pinchZoom!==void 0?a.pinchZoom:!0)&&t.push(new OR({duration:a.zoomDuration})),(a.keyboard!==void 0?a.keyboard:!0)&&(t.push(new RR),t.push(new CR({delta:a.zoomDelta,duration:a.zoomDuration}))),(a.mouseWheelZoom!==void 0?a.mouseWheelZoom:!0)&&t.push(new MR({onFocusOnly:a.onFocusOnly,duration:a.zoomDuration})),(a.shiftDragZoom!==void 0?a.shiftDragZoom:!0)&&t.push(new TR({duration:a.zoomDuration})),t}class is extends Si{constructor(t,n){super(t),this.layer=n}}const Af={LAYERS:"layers"};class la extends Xp{constructor(t){t=t||{};const n=Object.assign({},t);delete n.layers;let s=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Af.LAYERS,this.handleLayersChanged_),s?Array.isArray(s)?s=new Zn(s.slice(),{unique:!0}):Gt(typeof s.getArray=="function","Expected `layers` to be an array or a `Collection`"):s=new Zn(void 0,{unique:!0}),this.setLayers(s)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Kt),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(wt(t,He.ADD,this.handleLayersAdd_,this),wt(t,He.REMOVE,this.handleLayersRemove_,this));for(const s in this.listenerKeys_)this.listenerKeys_[s].forEach(Kt);Dr(this.listenerKeys_);const n=t.getArray();for(let s=0,r=n.length;s<r;s++){const u=n[s];this.registerLayerListeners_(u),this.dispatchEvent(new is("addlayer",u))}this.changed()}registerLayerListeners_(t){const n=[wt(t,Wl.PROPERTYCHANGE,this.handleLayerChange_,this),wt(t,pt.CHANGE,this.handleLayerChange_,this)];t instanceof la&&n.push(wt(t,"addlayer",this.handleLayerGroupAdd_,this),wt(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Lt(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new is("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new is("removelayer",t.layer))}handleLayersAdd_(t){const n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new is("addlayer",n)),this.changed()}handleLayersRemove_(t){const n=t.element,s=Lt(n);this.listenerKeys_[s].forEach(Kt),delete this.listenerKeys_[s],this.dispatchEvent(new is("removelayer",n)),this.changed()}getLayers(){return this.get(Af.LAYERS)}setLayers(t){const n=this.getLayers();if(n){const s=n.getArray();for(let r=0,u=s.length;r<u;++r)this.dispatchEvent(new is("removelayer",s[r]))}this.set(Af.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){const n=t!==void 0?t:[],s=n.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(n)});const r=this.getLayerState();let u=r.zIndex;!t&&r.zIndex===void 0&&(u=0);for(let c=s,f=n.length;c<f;c++){const d=n[c];d.opacity*=r.opacity,d.visible=d.visible&&r.visible,d.maxResolution=Math.min(d.maxResolution,r.maxResolution),d.minResolution=Math.max(d.minResolution,r.minResolution),d.minZoom=Math.max(d.minZoom,r.minZoom),d.maxZoom=Math.min(d.maxZoom,r.maxZoom),r.extent!==void 0&&(d.extent!==void 0?d.extent=Ys(d.extent,r.extent):d.extent=r.extent),d.zIndex===void 0&&(d.zIndex=u)}return n}getSourceState(){return"ready"}}class LR extends Tu{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){Dt()}calculateMatrices2D(t){const n=t.viewState,s=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;vi(s,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),tp(r,s)}forEachFeatureAtCoordinate(t,n,s,r,u,c,f,d){let _;const m=n.viewState;function y(D,w,j,q){return u.call(c,w,D?j:null,q)}const E=m.projection,S=j0(t.slice(),E),x=[[0,0]];if(E.canWrapX()&&r){const D=E.getExtent(),w=Ft(D);x.push([-w,0],[w,0])}const b=n.layerStatesArray,C=b.length,M=[],I=[];for(let D=0;D<x.length;D++)for(let w=C-1;w>=0;--w){const j=b[w],q=j.layer;if(q.hasRenderer()&&bd(j,m)&&f.call(d,q)){const K=q.getRenderer(),W=q.getSource();if(K&&W){const J=W.getWrapX()?S:t,lt=y.bind(null,j.managed);I[0]=J[0]+x[D][0],I[1]=J[1]+x[D][1],_=K.forEachFeatureAtCoordinate(I,n,s,lt,M)}if(_)return _}}if(M.length===0)return;const X=1/M.length;return M.forEach((D,w)=>D.distanceSq+=w*X),M.sort((D,w)=>D.distanceSq-w.distanceSq),M.some(D=>_=D.callback(D.feature,D.layer,D.geometry)),_}hasFeatureAtCoordinate(t,n,s,r,u,c){return this.forEachFeatureAtCoordinate(t,n,s,r,Er,this,u,c)!==void 0}getMap(){return this.map_}renderFrame(t){Dt()}scheduleExpireIconCache(t){pn.canExpireCache()&&t.postRenderFunctions.push(IR)}}function IR(a,t){pn.expire()}class NR extends LR{constructor(t){super(t),this.fontChangeListenerKey_=wt(Yl,Wl.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Gu+" ol-layers";const s=t.getViewport();s.insertBefore(this.element_,s.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,n){const s=this.getMap();if(s.hasListener(t)){const r=new wp(t,void 0,n);s.dispatchEvent(r)}}disposeInternal(){Kt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(yn.PRECOMPOSE,t);const n=t.layerStatesArray.sort((f,d)=>f.zIndex-d.zIndex);n.some(f=>f.layer instanceof Fp&&f.layer.getDeclutter())&&(t.declutter={});const r=t.viewState;this.children_.length=0;const u=[];let c=null;for(let f=0,d=n.length;f<d;++f){const _=n[f];t.layerIndex=f;const m=_.layer,y=m.getSourceState();if(!bd(_,r)||y!="ready"&&y!="undefined"){m.unrender();continue}const E=m.render(t,c);E&&(E!==c&&(this.children_.push(E),c=E),u.push(_))}this.declutter(t,u),BS(this.element_,this.children_),this.dispatchRenderEvent(yn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,n){if(t.declutter){for(let s=n.length-1;s>=0;--s){const r=n[s],u=r.layer;u.getDeclutter()&&u.renderDeclutter(t,r)}n.forEach(s=>s.layer.renderDeferred(t))}}}function jp(a){if(a instanceof Pu){a.setMapInternal(null);return}a instanceof la&&a.getLayers().forEach(jp)}function Kp(a,t){if(a instanceof Pu){a.setMapInternal(t);return}if(a instanceof la){const n=a.getLayers().getArray();for(let s=0,r=n.length;s<r;++s)Kp(n[s],t)}}let zR=class extends In{constructor(t){super(),t=t||{},this.on,this.once,this.un;const n=GR(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:YS,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Dn(),this.pixelToCoordinateTransform_=Dn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||cR(),this.interactions=n.interactions||DR({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new lR(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Oe.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Oe.VIEW,this.handleViewChanged_),this.addChangeListener(Oe.SIZE,this.handleSizeChanged_),this.addChangeListener(Oe.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const s=this;t.view&&!(t.view instanceof kn)&&t.view.then(function(r){s.setView(new kn(r))}),this.controls.addEventListener(He.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(He.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(He.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(He.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(He.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(He.REMOVE,r=>{const u=r.element.getId();u!==void 0&&delete this.overlayIdIndex_[u.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){Kp(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,s){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(t);s=s!==void 0?s:{};const u=s.hitTolerance!==void 0?s.hitTolerance:0,c=s.layerFilter!==void 0?s.layerFilter:Er,f=s.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,u,f,n,null,c,null)}getFeaturesAtPixel(t,n){const s=[];return this.forEachFeatureAtPixel(t,function(r){s.push(r)},n),s}getAllLayers(){const t=[];function n(s){s.forEach(function(r){r instanceof la?n(r.getLayers()):t.push(r)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;const s=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};const r=n.layerFilter!==void 0?n.layerFilter:Er,u=n.hitTolerance!==void 0?n.hitTolerance:0,c=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(s,this.frameState_,u,c,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const s=this.viewport_.getBoundingClientRect(),r=this.getSize(),u=s.width/r[0],c=s.height/r[1],f="changedTouches"in t?t.changedTouches[0]:t;return[(f.clientX-s.left)/u,(f.clientY-s.top)/c]}getTarget(){return this.get(Oe.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return Ff(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const n=this.frameState_;return n?pe(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Oe.LAYERGROUP)}setLayers(t){const n=this.getLayerGroup();if(t instanceof Zn){n.setLayers(t);return}const s=n.getLayers();s.clear(),s.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=t.length;n<s;++n){const r=t[n];if(!r.visible)continue;const u=r.layer.getRenderer();if(u&&!u.ready)return!0;const c=r.layer.getSource();if(c&&c.loading)return!0}return!1}getPixelFromCoordinate(t){const n=gi(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){const n=this.frameState_;return n?pe(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Oe.SIZE)}getView(){return this.get(Oe.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,s,r){return aR(this.frameState_,t,n,s,r)}handleBrowserEvent(t,n){n=n||t.type;const s=new ns(n,this,t);this.handleMapBrowserEvent(s)}handleMapBrowserEvent(t){if(!this.frameState_)return;const n=t.originalEvent,s=n.type;if(s===jf.POINTERDOWN||s===pt.WHEEL||s===pt.KEYDOWN){const r=this.getOwnerDocument(),u=this.viewport_.getRootNode?this.viewport_.getRootNode():r,c=n.target,f=u instanceof ShadowRoot?u.host===c?u.host.ownerDocument:u:u===r?r.documentElement:u;if(this.overlayContainerStopEvent_.contains(c)||!f.contains(c))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const r=this.getInteractions().getArray().slice();for(let u=r.length-1;u>=0;u--){const c=r[u];if(c.getMap()!==this||!c.getActive()||!this.getTargetElement())continue;if(!c.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,u=r;if(t){const c=t.viewHints;if(c[De.ANIMATING]||c[De.INTERACTING]){const f=Date.now()-t.time>8;r=f?0:8,u=f?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,u))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(yn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(yn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Bl(_i.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Bl(_i.LOADSTART,this,t))));const s=this.postRenderFunctions_;if(t)for(let r=0,u=s.length;r<u;++r)s[r](this,t);s.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let s=0,r=this.targetChangeHandlerKeys_.length;s<r;++s)Kt(this.targetChangeHandlerKeys_[s]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(pt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(pt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const s=this.targetElement_.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.unobserve(s.host),this.setSize(void 0)}const t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new NR(this)),this.mapBrowserEventHandler_=new iR(this,this.moveTolerance_);for(const u in te)this.mapBrowserEventHandler_.addEventListener(te[u],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(pt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(pt.WHEEL,this.boundHandleBrowserEvent_,fp?{passive:!1}:!1);let s;if(this.keyboardEventTarget_)s=this.keyboardEventTarget_;else{const u=n.getRootNode();s=u instanceof ShadowRoot?u.host:n}this.targetChangeHandlerKeys_=[wt(s,pt.KEYDOWN,this.handleBrowserEvent,this),wt(s,pt.KEYPRESS,this.handleBrowserEvent,this)];const r=n.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Kt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Kt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=wt(t,Wl.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=wt(t,pt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Kt),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new is("addlayer",t)),this.layerGroupPropertyListenerKeys_=[wt(t,Wl.PROPERTYCHANGE,this.render,this),wt(t,pt.CHANGE,this.render,this),wt(t,"addlayer",this.handleLayerAdd_,this),wt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const t=this.frameState_.layerStatesArray;for(let n=0,s=t.length;n<s;++n){const r=t[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){jp(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const n=this.getSize(),s=this.getView(),r=this.frameState_;let u=null;if(n!==void 0&&c0(n)&&s&&s.isDef()){const c=s.getHints(this.frameState_?this.frameState_.viewHints:void 0),f=s.getState();if(u={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:zf(f.center,f.resolution,f.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:f,viewHints:c,wantedTiles:{},mapId:Lt(this),renderTargets:{}},f.nextCenter&&f.nextResolution){const d=isNaN(f.nextRotation)?f.rotation:f.nextRotation;u.nextExtent=zf(f.nextCenter,f.nextResolution,d,n)}}this.frameState_=u,this.renderer_.renderFrame(u),u&&(u.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,u.postRenderFunctions),r&&(!this.previousExtent_||!Ou(this.previousExtent_)&&!Sr(u.extent,this.previousExtent_))&&(this.dispatchEvent(new Bl(_i.MOVESTART,this,r)),this.previousExtent_=bu(this.previousExtent_)),this.previousExtent_&&!u.viewHints[De.ANIMATING]&&!u.viewHints[De.INTERACTING]&&!Sr(u.extent,this.previousExtent_)&&(this.dispatchEvent(new Bl(_i.MOVEEND,this,u)),G0(u.extent,this.previousExtent_))),this.dispatchEvent(new Bl(_i.POSTRENDER,this,u)),this.renderComplete_=(this.hasListener(_i.LOADSTART)||this.hasListener(_i.LOADEND)||this.hasListener(yn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new is("removelayer",n)),this.set(Oe.LAYERGROUP,t)}setSize(t){this.set(Oe.SIZE,t)}setTarget(t){this.set(Oe.TARGET,t)}setView(t){if(!t||t instanceof kn){this.set(Oe.VIEW,t);return}this.set(Oe.VIEW,new kn);const n=this;t.then(function(s){n.setView(new kn(s))})}updateSize(){const t=this.getTargetElement();let n;if(t){const r=getComputedStyle(t),u=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),c=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(u)&&!isNaN(c)&&(n=[Math.max(0,u),Math.max(0,c)],!c0(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&Z0("No map visible because the map container's width or height are 0."))}const s=this.getSize();n&&(!s||!cs(n,s))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(t){const n=this.getView();n&&n.setViewportSize(t)}};function GR(a){let t=null;a.keyboardEventTarget!==void 0&&(t=typeof a.keyboardEventTarget=="string"?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);const n={},s=a.layers&&typeof a.layers.getLayers=="function"?a.layers:new la({layers:a.layers});n[Oe.LAYERGROUP]=s,n[Oe.TARGET]=a.target,n[Oe.VIEW]=a.view instanceof kn?a.view:new kn;let r;a.controls!==void 0&&(Array.isArray(a.controls)?r=new Zn(a.controls.slice()):(Gt(typeof a.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=a.controls));let u;a.interactions!==void 0&&(Array.isArray(a.interactions)?u=new Zn(a.interactions.slice()):(Gt(typeof a.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),u=a.interactions));let c;return a.overlays!==void 0?Array.isArray(a.overlays)?c=new Zn(a.overlays.slice()):(Gt(typeof a.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),c=a.overlays):c=new Zn,{controls:r,interactions:u,keyboardEventTarget:t,overlays:c,values:n}}const we={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class UR extends In{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,this.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,this.element=document.createElement("div"),this.element.className=t.className!==void 0?t.className:"ol-overlay-container "+nx,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=t.autoPan===!0?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(we.ELEMENT,this.handleElementChanged),this.addChangeListener(we.MAP,this.handleMapChanged),this.addChangeListener(we.OFFSET,this.handleOffsetChanged),this.addChangeListener(we.POSITION,this.handlePositionChanged),this.addChangeListener(we.POSITIONING,this.handlePositioningChanged),t.element!==void 0&&this.setElement(t.element),this.setOffset(t.offset!==void 0?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),t.position!==void 0&&this.setPosition(t.position)}getElement(){return this.get(we.ELEMENT)}getId(){return this.id}getMap(){return this.get(we.MAP)||null}getOffset(){return this.get(we.OFFSET)}getPosition(){return this.get(we.POSITION)}getPositioning(){return this.get(we.POSITIONING)}handleElementChanged(){dp(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),Kt(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=wt(t,_i.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(we.ELEMENT,t)}setMap(t){this.set(we.MAP,t)}setOffset(t){this.set(we.OFFSET,t)}setPosition(t){this.set(we.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(we.POSITION))return;const s=this.getRect(n.getTargetElement(),n.getSize()),r=this.getElement(),u=this.getRect(r,[XS(r),FS(r)]);t=t||{};const c=t.margin===void 0?20:t.margin;if(!Hl(s,u)){const f=u[0]-s[0],d=s[2]-u[2],_=u[1]-s[1],m=s[3]-u[3],y=[0,0];if(f<0?y[0]=f-c:d<0&&(y[0]=Math.abs(d)+c),_<0?y[1]=_-c:m<0&&(y[1]=Math.abs(m)+c),y[0]!==0||y[1]!==0){const E=n.getView().getCenterInternal(),S=n.getPixelFromCoordinateInternal(E);if(!S)return;const x=[S[0]+y[0],S[1]+y[1]],b=t.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(x),duration:b.duration,easing:b.easing})}}}getRect(t,n){const s=t.getBoundingClientRect(),r=s.left+window.pageXOffset,u=s.top+window.pageYOffset;return[r,u,r+n[0],u+n[1]]}setPositioning(t){this.set(we.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),n=this.getPosition();if(!t||!t.isRendered()||!n){this.setVisible(!1);return}const s=t.getPixelFromCoordinate(n),r=t.getSize();this.updateRenderedPosition(s,r)}updateRenderedPosition(t,n){const s=this.element.style,r=this.getOffset(),u=this.getPositioning();this.setVisible(!0);const c=`${t[0]+r[0]}px`,f=`${t[1]+r[1]}px`;let d="0%",_="0%";u=="bottom-right"||u=="center-right"||u=="top-right"?d="-100%":(u=="bottom-center"||u=="center-center"||u=="top-center")&&(d="-50%"),u=="bottom-left"||u=="bottom-center"||u=="bottom-right"?_="-100%":(u=="center-left"||u=="center-center"||u=="center-right")&&(_="-50%");const m=`translate(${d}, ${_}) translate(${c}, ${f})`;this.rendered.transform_!=m&&(this.rendered.transform_=m,s.transform=m)}getOptions(){return this.options}}class Dd{constructor(t,n,s,r){this.minX=t,this.maxX=n,this.minY=s,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function Gl(a,t,n,s,r){return r!==void 0?(r.minX=a,r.maxX=t,r.minY=n,r.maxY=s,r):new Dd(a,t,n,s)}function qf(a){return a instanceof Image||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageBitmap?a:null}const YR=new Error("disposed"),XR=[256,256];class O0 extends Ad{constructor(t){const n=ht.IDLE;super(t.tileCoord,n,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=qf(this.data_);return t?[t.width,t.height]:XR}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==ht.IDLE&&this.state!==ht.ERROR)return;this.state=ht.LOADING,this.changed();const t=this;this.loader_().then(function(n){t.data_=n,t.state=ht.LOADED,t.changed()}).catch(function(n){t.error_=n,t.state=ht.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(YR),this.controller_=null),super.disposeInternal()}}let Mf;const Vl=[];function D0(a,t,n,s,r){a.beginPath(),a.moveTo(0,0),a.lineTo(t,n),a.lineTo(s,r),a.closePath(),a.save(),a.clip(),a.fillRect(0,0,Math.max(t,s)+1,Math.max(n,r)),a.restore()}function wf(a,t){return Math.abs(a[t*4]-210)>2||Math.abs(a[t*4+3]-.75*255)>2}function FR(){if(Mf===void 0){const a=ce(6,6,Vl);a.globalCompositeOperation="lighter",a.fillStyle="rgba(210, 0, 0, 0.75)",D0(a,4,5,4,0),D0(a,4,5,0,5);const t=a.getImageData(0,0,3,3).data;Mf=wf(t,0)||wf(t,4)||wf(t,8),zu(a),Vl.push(a.canvas)}return Mf}function L0(a,t,n,s){const r=ud(n,t,a);let u=Fy(t,s,n);const c=t.getMetersPerUnit();c!==void 0&&(u*=c);const f=a.getMetersPerUnit();f!==void 0&&(u/=f);const d=a.getExtent();if(!d||Jl(d,r)){const _=Fy(a,u,r)/u;isFinite(_)&&_>0&&(u/=_)}return u}function BR(a,t,n,s){const r=Xs(n);let u=L0(a,t,r,s);return(!isFinite(u)||u<=0)&&B0(n,function(c){return u=L0(a,t,c,s),isFinite(u)&&u>0}),u}function HR(a,t,n,s,r,u,c,f,d,_,m,y,E,S){const x=ce(Math.round(n*a),Math.round(n*t),Vl);if(y||(x.imageSmoothingEnabled=!1),d.length===0)return x.canvas;x.scale(n,n);function b(w){return Math.round(w*n)/n}x.globalCompositeOperation="lighter";const C=vn();d.forEach(function(w,j,q){Cv(C,w.extent)});let M;const I=n/s,X=(y?1:1+Math.pow(2,-24))/I;M=ce(Math.round(Ft(C)*I),Math.round(ze(C)*I),Vl),y||(M.imageSmoothingEnabled=!1),d.forEach(function(w,j,q){if(w.image.width>0&&w.image.height>0){if(w.clipExtent){M.save();const $=(w.clipExtent[0]-C[0])*I,tt=-(w.clipExtent[3]-C[3])*I,st=Ft(w.clipExtent)*I,ot=ze(w.clipExtent)*I;M.rect(y?$:Math.round($),y?tt:Math.round(tt),y?st:Math.round($+st)-Math.round($),y?ot:Math.round(tt+ot)-Math.round(tt)),M.clip()}const K=(w.extent[0]-C[0])*I,W=-(w.extent[3]-C[3])*I,J=Ft(w.extent)*I,lt=ze(w.extent)*I;M.drawImage(w.image,_,_,w.image.width-2*_,w.image.height-2*_,y?K:Math.round(K),y?W:Math.round(W),y?J:Math.round(K+J)-Math.round(K),y?lt:Math.round(W+lt)-Math.round(W)),w.clipExtent&&M.restore()}});const D=Ps(c);return f.getTriangles().forEach(function(w,j,q){const K=w.source,W=w.target;let J=K[0][0],lt=K[0][1],$=K[1][0],tt=K[1][1],st=K[2][0],ot=K[2][1];const L=b((W[0][0]-D[0])/u),k=b(-(W[0][1]-D[1])/u),V=b((W[1][0]-D[0])/u),et=b(-(W[1][1]-D[1])/u),T=b((W[2][0]-D[0])/u),F=b(-(W[2][1]-D[1])/u),G=J,Q=lt;J=0,lt=0,$-=G,tt-=Q,st-=G,ot-=Q;const nt=[[$,tt,0,0,V-L],[st,ot,0,0,T-L],[0,0,$,tt,et-k],[0,0,st,ot,F-k]],ut=Dv(nt);if(!ut)return;if(x.save(),x.beginPath(),FR()||!y){x.moveTo(V,et);const zt=4,bt=L-V,se=k-et;for(let Ee=0;Ee<zt;Ee++)x.lineTo(V+b((Ee+1)*bt/zt),et+b(Ee*se/(zt-1))),Ee!=zt-1&&x.lineTo(V+b((Ee+1)*bt/zt),et+b((Ee+1)*se/(zt-1)));x.lineTo(T,F)}else x.moveTo(V,et),x.lineTo(L,k),x.lineTo(T,F);x.clip(),x.transform(ut[0],ut[2],ut[1],ut[3],L,k),x.translate(C[0]-G,C[3]-Q);let at;if(M)at=M.canvas,x.scale(X,-X);else{const zt=d[0],bt=zt.extent;at=zt.image,x.scale(Ft(bt)/at.width,-ze(bt)/at.height)}x.drawImage(at,0,0),x.restore()}),M&&(zu(M),Vl.push(M.canvas)),m&&(x.save(),x.globalCompositeOperation="source-over",x.strokeStyle="black",x.lineWidth=1,f.getTriangles().forEach(function(w,j,q){const K=w.target,W=(K[0][0]-D[0])/u,J=-(K[0][1]-D[1])/u,lt=(K[1][0]-D[0])/u,$=-(K[1][1]-D[1])/u,tt=(K[2][0]-D[0])/u,st=-(K[2][1]-D[1])/u;x.beginPath(),x.moveTo(lt,$),x.lineTo(W,J),x.lineTo(tt,st),x.closePath(),x.stroke()}),x.restore()),x.canvas}const PR=10,I0=.25;class kR{constructor(t,n,s,r,u,c,f){this.sourceProj_=t,this.targetProj_=n;let d={};const _=f?oS(X=>pe(f,ud(X,this.targetProj_,this.sourceProj_))):gu(this.targetProj_,this.sourceProj_);this.transformInv_=function(X){const D=X[0]+"/"+X[1];return d[D]||(d[D]=_(X)),d[D]},this.maxSourceExtent_=r,this.errorThresholdSquared_=u*u,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Ft(r)>=Ft(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ft(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ft(this.targetProj_.getExtent()):null;const m=Ps(s),y=wu(s),E=Mu(s),S=Au(s),x=this.transformInv_(m),b=this.transformInv_(y),C=this.transformInv_(E),M=this.transformInv_(S),I=PR+(c?Math.max(0,Math.ceil(Math.log2(Nf(s)/(c*c*256*256)))):0);if(this.addQuad_(m,y,E,S,x,b,C,M,I),this.wrapsXInSource_){let X=1/0;this.triangles_.forEach(function(D,w,j){X=Math.min(X,D.source[0][0],D.source[1][0],D.source[2][0])}),this.triangles_.forEach(D=>{if(Math.max(D.source[0][0],D.source[1][0],D.source[2][0])-X>this.sourceWorldWidth_/2){const w=[[D.source[0][0],D.source[0][1]],[D.source[1][0],D.source[1][1]],[D.source[2][0],D.source[2][1]]];w[0][0]-X>this.sourceWorldWidth_/2&&(w[0][0]-=this.sourceWorldWidth_),w[1][0]-X>this.sourceWorldWidth_/2&&(w[1][0]-=this.sourceWorldWidth_),w[2][0]-X>this.sourceWorldWidth_/2&&(w[2][0]-=this.sourceWorldWidth_);const j=Math.min(w[0][0],w[1][0],w[2][0]);Math.max(w[0][0],w[1][0],w[2][0])-j<this.sourceWorldWidth_/2&&(D.source=w)}})}d={}}addTriangle_(t,n,s,r,u,c){this.triangles_.push({source:[r,u,c],target:[t,n,s]})}addQuad_(t,n,s,r,u,c,f,d,_){const m=Oy([u,c,f,d]),y=this.sourceWorldWidth_?Ft(m)/this.sourceWorldWidth_:null,E=this.sourceWorldWidth_,S=this.sourceProj_.canWrapX()&&y>.5&&y<1;let x=!1;if(_>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const C=Oy([t,n,s,r]);x=Ft(C)/this.targetWorldWidth_>I0||x}!S&&this.sourceProj_.isGlobal()&&y&&(x=y>I0||x)}if(!x&&this.maxSourceExtent_&&isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3])&&!Ze(m,this.maxSourceExtent_))return;let b=0;if(!x&&(!isFinite(u[0])||!isFinite(u[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(f[0])||!isFinite(f[1])||!isFinite(d[0])||!isFinite(d[1]))){if(_>0)x=!0;else if(b=(!isFinite(u[0])||!isFinite(u[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(f[0])||!isFinite(f[1])?2:0)+(!isFinite(d[0])||!isFinite(d[1])?1:0),b!=1&&b!=2&&b!=4&&b!=8)return}if(_>0){if(!x){const C=[(t[0]+s[0])/2,(t[1]+s[1])/2],M=this.transformInv_(C);let I;S?I=(jl(u[0],E)+jl(f[0],E))/2-jl(M[0],E):I=(u[0]+f[0])/2-M[0];const X=(u[1]+f[1])/2-M[1];x=I*I+X*X>this.errorThresholdSquared_}if(x){if(Math.abs(t[0]-s[0])<=Math.abs(t[1]-s[1])){const C=[(n[0]+s[0])/2,(n[1]+s[1])/2],M=this.transformInv_(C),I=[(r[0]+t[0])/2,(r[1]+t[1])/2],X=this.transformInv_(I);this.addQuad_(t,n,C,I,u,c,M,X,_-1),this.addQuad_(I,C,s,r,X,M,f,d,_-1)}else{const C=[(t[0]+n[0])/2,(t[1]+n[1])/2],M=this.transformInv_(C),I=[(s[0]+r[0])/2,(s[1]+r[1])/2],X=this.transformInv_(I);this.addQuad_(t,C,I,r,u,M,X,d,_-1),this.addQuad_(C,n,s,I,M,c,f,X,_-1)}return}}if(S){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(b&11)==0&&this.addTriangle_(t,s,r,u,f,d),(b&14)==0&&this.addTriangle_(t,s,n,u,f,c),b&&((b&13)==0&&this.addTriangle_(n,r,t,c,d,u),(b&7)==0&&this.addTriangle_(n,r,s,c,d,f))}calculateSourceExtent(){const t=vn();return this.triangles_.forEach(function(n,s,r){const u=n.source;yr(t,u[0]),yr(t,u[1]),yr(t,u[2])}),t}getTriangles(){return this.triangles_}}const ZR=.5;class qp extends Ad{constructor(t,n,s,r,u,c,f,d,_,m,y,E){super(u,ht.IDLE,E),this.renderEdges_=y!==void 0?y:!1,this.pixelRatio_=f,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=c||u,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const S=r.getTileCoordExtent(this.wrappedTileCoord_),x=this.targetTileGrid_.getExtent();let b=this.sourceTileGrid_.getExtent();const C=x?Ys(S,x):S;if(Nf(C)===0){this.state=ht.EMPTY;return}const M=t.getExtent();M&&(b?b=Ys(b,M):b=M);const I=r.getResolution(this.wrappedTileCoord_[0]),X=BR(t,s,C,I);if(!isFinite(X)||X<=0){this.state=ht.EMPTY;return}const D=m!==void 0?m:ZR;if(this.triangulation_=new kR(t,s,C,b,X*D,I),this.triangulation_.getTriangles().length===0){this.state=ht.EMPTY;return}this.sourceZ_=n.getZForResolution(X);let w=this.triangulation_.calculateSourceExtent();if(b&&(t.canWrapX()?(w[1]=Wt(w[1],b[1],b[3]),w[3]=Wt(w[3],b[1],b[3])):w=Ys(w,b)),!Nf(w))this.state=ht.EMPTY;else{let j=0,q=0;t.canWrapX()&&(j=Ft(M),q=Math.floor((w[0]-M[0])/j)),k0(w.slice(),t,!0).forEach(W=>{const J=n.getTileRangeForExtentAndZ(W,this.sourceZ_);for(let lt=J.minX;lt<=J.maxX;lt++)for(let $=J.minY;$<=J.maxY;$++){const tt=_(this.sourceZ_,lt,$,f);if(tt){const st=q*j;this.sourceTiles_.push({tile:tt,offset:st})}}++q}),this.sourceTiles_.length===0&&(this.state=ht.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(n=>{const s=n.tile;if(s&&s.getState()==ht.LOADED){const r=this.sourceTileGrid_.getTileCoordExtent(s.tileCoord);r[0]+=n.offset,r[2]+=n.offset;const u=this.clipExtent_?.slice();u&&(u[0]+=n.offset,u[2]+=n.offset),t.push({extent:r,clipExtent:u,image:s.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=ht.ERROR;else{const n=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(n),r=typeof s=="number"?s:s[0],u=typeof s=="number"?s:s[1],c=this.targetTileGrid_.getResolution(n),f=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=HR(r,u,this.pixelRatio_,f,this.sourceTileGrid_.getExtent(),c,d,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=ht.LOADED}this.changed()}load(){if(this.state==ht.IDLE){this.state=ht.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const s=n.getState();if(s==ht.IDLE||s==ht.LOADING){t++;const r=wt(n,pt.CHANGE,u=>{const c=n.getState();(c==ht.LOADED||c==ht.ERROR||c==ht.EMPTY)&&(Kt(r),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},s,r){n.getState()==ht.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Kt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(zu(this.canvas_.getContext("2d")),Vl.push(this.canvas_),this.canvas_=null),super.release()}}class jR{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const t=this.pop();t instanceof Tu&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){const s=this.entries_[t];return Gt(s!==void 0,"Tried to get a value for a key that does not exist in the cache"),s===this.newest_||(s===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(s.newer.older=s.older,s.older.newer=s.newer),s.newer=null,s.older=this.newest_,this.newest_.newer=s,this.newest_=s),s.value_}remove(t){const n=this.entries_[t];return Gt(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.key_;return t}getValues(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){return this.entries_[t]?.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){Gt(!(t in this.entries_),"Tried to set a value for a key that is used already");const s={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=s:this.oldest_=s,this.newest_=s,this.entries_[t]=s,++this.count_}setSize(t){this.highWaterMark=t}}function xu(a,t,n,s){return s!==void 0?(s[0]=a,s[1]=t,s[2]=n,s):[a,t,n]}function KR(a,t,n){return a+"/"+t+"/"+n}function qR(a){return VR(a[0],a[1],a[2])}function VR(a,t,n){return(t<<a)+n}function WR(a,t){const n=a[0],s=a[1],r=a[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const u=t.getFullTileRange(n);return u?u.containsXY(s,r):!0}function Of(a,t,n,s,r){return`${Lt(a)},${t},${KR(n,s,r)}`}function Df(a,t,n){if(!(n in a))return a[n]=new Set([t]),!0;const s=a[n],r=s.has(t);return r||s.add(t),!r}function QR(a,t,n){const s=a[n];return s?s.delete(t):!1}function N0(a,t){const n=a.layerStatesArray[a.layerIndex];n.extent&&(t=Ys(t,ss(n.extent,a.viewState.projection)));const s=n.layer.getRenderSource();if(!s.getWrapX()){const r=s.getTileGridForProjection(a.viewState.projection).getExtent();r&&(t=Ys(t,r))}return t}class JR extends Op{constructor(t,n){super(t),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=vn(),this.tempTileRange_=new Dd(0,0,0,0),this.tempTileCoord_=xu(0,0,0);const s=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new jR(s),this.maxStaleKeys=s*.5}getTileCache(){return this.tileCache_}getOrCreateTile(t,n,s,r){const u=this.tileCache_,f=this.getLayer().getSource(),d=Of(f,f.getKey(),t,n,s);let _;if(u.containsKey(d))_=u.get(d);else{if(_=f.getTile(t,n,s,r.pixelRatio,r.viewState.projection),!_)return null;u.set(d,_)}return _}getTile(t,n,s,r){const u=this.getOrCreateTile(t,n,s,r);return u||null}getData(t){const n=this.frameState;if(!n)return null;const s=this.getLayer(),r=pe(n.pixelToCoordinateTransform,t.slice()),u=s.getExtent();if(u&&!Jl(u,r))return null;const c=n.viewState,f=s.getRenderSource(),d=f.getTileGridForProjection(c.projection),_=f.getTilePixelRatio(n.pixelRatio);for(let m=d.getZForResolution(c.resolution);m>=d.getMinZoom();--m){const y=d.getTileCoordForCoordAndZ(r,m),E=this.getTile(m,y[1],y[2],n);if(!E||E.getState()!==ht.LOADED)continue;const S=d.getOrigin(m),x=Ke(d.getTileSize(m)),b=d.getResolution(m);let C;if(E instanceof Bp||E instanceof qp)C=E.getImage();else if(E instanceof O0){if(C=qf(E.getData()),!C)continue}else continue;const M=Math.floor(_*((r[0]-S[0])/b-y[1]*x[0])),I=Math.floor(_*((S[1]-r[1])/b-y[2]*x[1])),X=Math.round(_*f.getGutterForProjection(c.projection));return this.getImageData(C,M+X,I+X)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const s=n.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==s&&(this.renderedSourceRevision_=s,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedSourceRevision_=s,!0}enqueueTiles(t,n,s,r,u){const c=t.viewState,f=this.getLayer(),d=f.getRenderSource(),_=d.getTileGridForProjection(c.projection),m=Lt(d);m in t.wantedTiles||(t.wantedTiles[m]={});const y=t.wantedTiles[m],E=f.getMapInternal(),S=Math.max(s-u,_.getMinZoom(),_.getZForResolution(Math.min(f.getMaxResolution(),E?E.getView().getResolutionForZoom(Math.max(f.getMinZoom(),0)):_.getResolution(0)),d.zDirection)),x=c.rotation,b=x?H0(c.center,c.resolution,x,t.size):void 0;for(let C=s;C>=S;--C){const M=_.getTileRangeForExtentAndZ(n,C,this.tempTileRange_),I=_.getResolution(C);for(let X=M.minX;X<=M.maxX;++X)for(let D=M.minY;D<=M.maxY;++D){if(x&&!_.tileCoordIntersectsViewport([C,X,D],b))continue;const w=this.getTile(C,X,D,t);if(!w||!Df(r,w,C))continue;const q=w.getKey();if(y[q]=!0,w.getState()===ht.IDLE&&!t.tileQueue.isKeyQueued(q)){const K=xu(C,X,D,this.tempTileCoord_);t.tileQueue.enqueue([w,m,_.getTileCoordCenter(K),I])}}}}findStaleTile_(t,n){const s=this.tileCache_,r=t[0],u=t[1],c=t[2],f=this.getStaleKeys();for(let d=0;d<f.length;++d){const _=Of(this.getLayer().getSource(),f[d],r,u,c);if(s.containsKey(_)){const m=s.peek(_);if(m.getState()===ht.LOADED)return m.endTransition(Lt(this)),Df(n,m,r),!0}}return!1}findAltTiles_(t,n,s,r){const u=t.getTileRangeForTileCoordAndZ(n,s,this.tempTileRange_);if(!u)return!1;let c=!0;const f=this.tileCache_,d=this.getLayer().getRenderSource(),_=d.getKey();for(let m=u.minX;m<=u.maxX;++m)for(let y=u.minY;y<=u.maxY;++y){const E=Of(d,_,s,m,y);let S=!1;if(f.containsKey(E)){const x=f.peek(E);x.getState()===ht.LOADED&&(Df(r,x,s),S=!0)}S||(c=!1)}return c}renderFrame(t,n){this.renderComplete=!0;const s=t.layerStatesArray[t.layerIndex],r=t.viewState,u=r.projection,c=r.resolution,f=r.center,d=t.pixelRatio,_=this.getLayer(),m=_.getSource(),y=m.getTileGridForProjection(u),E=y.getZForResolution(c,m.zDirection),S=y.getResolution(E),x=m.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==x&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=x):this.renderedSourceKey_=x;let b=t.extent;const C=m.getTilePixelRatio(d);this.prepareContainer(t,n);const M=this.context.canvas.width,I=this.context.canvas.height,X=s.extent&&ss(s.extent);X&&(b=Ys(b,ss(s.extent)));const D=S*M/2/C,w=S*I/2/C,j=[f[0]-D,f[1]-w,f[0]+D,f[1]+w],q={};this.renderedTiles.length=0;const K=_.getPreload();if(t.nextExtent){const V=y.getZForResolution(r.nextResolution,m.zDirection),et=N0(t,t.nextExtent);this.enqueueTiles(t,et,V,q,K)}const W=N0(t,b);if(this.enqueueTiles(t,W,E,q,0),K>0&&setTimeout(()=>{this.enqueueTiles(t,W,E-1,q,K-1)},0),!(E in q))return this.container;const J=Lt(this),lt=t.time;for(const V of q[E]){const et=V.getState();if(et===ht.EMPTY)continue;const T=V.tileCoord;if(et===ht.LOADED&&V.getAlpha(J,lt)===1){V.endTransition(J);continue}if(et!==ht.ERROR&&(this.renderComplete=!1),this.findStaleTile_(T,q)){QR(q,V,E),t.animate=!0;continue}if(this.findAltTiles_(y,T,E+1,q))continue;const Q=y.getMinZoom();for(let nt=E-1;nt>=Q&&!this.findAltTiles_(y,T,nt,q);--nt);}const $=S/c*d/C,tt=this.getRenderContext(t);vi(this.tempTransform,M/2,I/2,$,$,0,-M/2,-I/2),s.extent&&this.clipUnrotated(tt,t,X),m.getInterpolate()||(tt.imageSmoothingEnabled=!1),this.preRender(tt,t);const st=Object.keys(q).map(Number);st.sort(yi);let ot;const L=[],k=[];for(let V=st.length-1;V>=0;--V){const et=st[V],T=m.getTilePixelSize(et,d,u),G=y.getResolution(et)/S,Q=T[0]*G*$,nt=T[1]*G*$,ut=y.getTileCoordForCoordAndZ(Ps(j),et),at=y.getTileCoordExtent(ut),zt=pe(this.tempTransform,[C*(at[0]-j[0])/S,C*(j[3]-at[3])/S]),bt=C*m.getGutterForProjection(u);for(const se of q[et]){if(se.getState()!==ht.LOADED)continue;const Ee=se.tileCoord,Kn=ut[1]-Ee[1],hs=Math.round(zt[0]-(Kn-1)*Q),qn=ut[2]-Ee[2],Sn=Math.round(zt[1]-(qn-1)*nt),Ge=Math.round(zt[0]-Kn*Q),ln=Math.round(zt[1]-qn*nt),ve=hs-Ge,Ti=Sn-ln,Ri=st.length===1;let Nn=!1;ot=[Ge,ln,Ge+ve,ln,Ge+ve,ln+Ti,Ge,ln+Ti];for(let xn=0,Ci=L.length;xn<Ci;++xn)if(!Ri&&et<k[xn]){const ee=L[xn];Ze([Ge,ln,Ge+ve,ln+Ti],[ee[0],ee[3],ee[4],ee[7]])&&(Nn||(tt.save(),Nn=!0),tt.beginPath(),tt.moveTo(ot[0],ot[1]),tt.lineTo(ot[2],ot[3]),tt.lineTo(ot[4],ot[5]),tt.lineTo(ot[6],ot[7]),tt.moveTo(ee[6],ee[7]),tt.lineTo(ee[4],ee[5]),tt.lineTo(ee[2],ee[3]),tt.lineTo(ee[0],ee[1]),tt.clip())}L.push(ot),k.push(et),this.drawTile(se,t,Ge,ln,ve,Ti,bt,Ri),Nn&&tt.restore(),this.renderedTiles.unshift(se),this.updateUsedTiles(t.usedTiles,m,se)}}if(this.renderedResolution=S,this.extentChanged=!this.renderedExtent_||!Sr(this.renderedExtent_,j),this.renderedExtent_=j,this.renderedPixelRatio=d,this.postRender(this.context,t),s.extent&&tt.restore(),tt.imageSmoothingEnabled=!0,this.renderComplete){const V=(et,T)=>{const F=Lt(m),G=T.wantedTiles[F],Q=G?Object.keys(G).length:0;this.updateCacheSize(Q),this.tileCache_.expireCache()};t.postRenderFunctions.push(V)}return this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,n,s,r,u,c,f,d){let _;if(t instanceof O0){if(_=qf(t.getData()),!_)throw new Error("Rendering array data is not yet supported")}else _=this.getTileImage(t);if(!_)return;const m=this.getRenderContext(n),y=Lt(this),E=n.layerStatesArray[n.layerIndex],S=E.opacity*(d?t.getAlpha(y,n.time):1),x=S!==m.globalAlpha;x&&(m.save(),m.globalAlpha=S),m.drawImage(_,f,f,_.width-2*f,_.height-2*f,s,r,u,c),x&&m.restore(),S!==E.opacity?n.animate=!0:d&&t.endTransition(y)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,n,s){const r=Lt(n);r in t||(t[r]={}),t[r][s.getKey()]=!0}}const uu={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class $R extends Pu{constructor(t){t=t||{};const n=Object.assign({},t),s=t.cacheSize;delete t.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=s,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(uu.PRELOAD)}setPreload(t){this.set(uu.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(uu.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(uu.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}class tC extends $R{constructor(t){super(t)}createRenderer(){return new JR(this,{cacheSize:this.getCacheSize()})}}const Ul=[0,0,0],es=5;class Vp{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,Gt(vv(this.resolutions_,(r,u)=>u-r),"`resolutions` must be sorted in descending order");let n;if(!t.origins){for(let r=0,u=this.resolutions_.length-1;r<u;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,Gt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const s=t.extent;s!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Ps(s)),Gt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,Gt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:Cd,Gt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=s!==void 0?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((r,u)=>{const c=new Dd(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(s){const f=this.getTileRangeForExtentAndZ(s,u);c.minX=Math.max(f.minX,c.minX),c.maxX=Math.min(f.maxX,c.maxX),c.minY=Math.max(f.minY,c.minY),c.maxY=Math.min(f.maxY,c.maxY)}return c}):s&&this.calculateTileRanges_(s)}forEachTileCoord(t,n,s){const r=this.getTileRangeForExtentAndZ(t,n);for(let u=r.minX,c=r.maxX;u<=c;++u)for(let f=r.minY,d=r.maxY;f<=d;++f)s([n,u,f])}forEachTileCoordParentTileRange(t,n,s,r){let u,c,f,d=null,_=t[0]-1;for(this.zoomFactor_===2?(c=t[1],f=t[2]):d=this.getTileCoordExtent(t,r);_>=this.minZoom;){if(c!==void 0&&f!==void 0?(c=Math.floor(c/2),f=Math.floor(f/2),u=Gl(c,c,f,f,s)):u=this.getTileRangeForExtentAndZ(d,_,s),n(_,u))return!0;--_}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,s){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const u=t[1]*2,c=t[2]*2;return Gl(u,u+1,c,c+1,n)}const r=this.getTileCoordExtent(t,s||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,s){if(n>this.maxZoom||n<this.minZoom)return null;const r=t[0],u=t[1],c=t[2];if(n===r)return Gl(u,c,u,c,s);if(this.zoomFactor_){const d=Math.pow(this.zoomFactor_,n-r),_=Math.floor(u*d),m=Math.floor(c*d);if(n<r)return Gl(_,_,m,m,s);const y=Math.floor(d*(u+1))-1,E=Math.floor(d*(c+1))-1;return Gl(_,y,m,E,s)}const f=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(f,n,s)}getTileRangeForExtentAndZ(t,n,s){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,Ul);const r=Ul[1],u=Ul[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,Ul);const c=Ul[1],f=Ul[2];return Gl(r,c,u,f,s)}getTileCoordCenter(t){const n=this.getOrigin(t[0]),s=this.getResolution(t[0]),r=Ke(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*r[0]*s,n[1]-(t[2]+.5)*r[1]*s]}getTileCoordExtent(t,n){const s=this.getOrigin(t[0]),r=this.getResolution(t[0]),u=Ke(this.getTileSize(t[0]),this.tmpSize_),c=s[0]+t[1]*u[0]*r,f=s[1]-(t[2]+1)*u[1]*r,d=c+u[0]*r,_=f+u[1]*r;return us(c,f,d,_,n)}getTileCoordForCoordAndResolution(t,n,s){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,s)}getTileCoordForXYAndResolution_(t,n,s,r,u){const c=this.getZForResolution(s),f=s/this.getResolution(c),d=this.getOrigin(c),_=Ke(this.getTileSize(c),this.tmpSize_);let m=f*(t-d[0])/s/_[0],y=f*(d[1]-n)/s/_[1];return r?(m=tu(m,es)-1,y=tu(y,es)-1):(m=$o(m,es),y=$o(y,es)),xu(c,m,y,u)}getTileCoordForXYAndZ_(t,n,s,r,u){const c=this.getOrigin(s),f=this.getResolution(s),d=Ke(this.getTileSize(s),this.tmpSize_);let _=(t-c[0])/f/d[0],m=(c[1]-n)/f/d[1];return r?(_=tu(_,es)-1,m=tu(m,es)-1):(_=$o(_,es),m=$o(m,es)),xu(s,_,m,u)}getTileCoordForCoordAndZ(t,n,s){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,s)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){const s=Wf(this.resolutions_,t,n||0);return Wt(s,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return up(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const n=this.resolutions_.length,s=new Array(n);for(let r=this.minZoom;r<n;++r)s[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=s}}function Wp(a){let t=a.getDefaultTileGrid();return t||(t=sC(a),a.setDefaultTileGrid(t)),t}function eC(a,t,n){const s=t[0],r=a.getTileCoordCenter(t),u=Ld(n);if(!Jl(u,r)){const c=Ft(u),f=Math.ceil((u[0]-r[0])/c);return r[0]+=c*f,a.getTileCoordForCoordAndZ(r,s)}return t}function nC(a,t,n,s){s=s!==void 0?s:"top-left";const r=Qp(a,t,n);return new Vp({extent:a,origin:Av(a,s),resolutions:r,tileSize:n})}function iC(a){const t=a||{},n=t.extent||qe("EPSG:3857").getExtent(),s={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:Qp(n,t.maxZoom,t.tileSize,t.maxResolution)};return new Vp(s)}function Qp(a,t,n,s){t=t!==void 0?t:qT,n=Ke(n!==void 0?n:Cd);const r=ze(a),u=Ft(a);s=s>0?s:Math.max(u/n[0],r/n[1]);const c=t+1,f=new Array(c);for(let d=0;d<c;++d)f[d]=s/Math.pow(2,d);return f}function sC(a,t,n,s){const r=Ld(a);return nC(r,t,n,s)}function Ld(a){a=qe(a);let t=a.getExtent();if(!t){const n=180*nd.degrees/a.getMetersPerUnit();t=us(-n,-n,n,n)}return t}const lC=/\{z\}/g,aC=/\{x\}/g,rC=/\{y\}/g,oC=/\{-y\}/g;function uC(a,t,n,s,r){return a.replace(lC,t.toString()).replace(aC,n.toString()).replace(rC,s.toString()).replace(oC,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-s).toString()})}function cC(a){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(a);if(n){const s=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let u;for(u=s;u<=r;++u)t.push(a.replace(n[0],String.fromCharCode(u)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(a),n){const s=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=s;r++)t.push(a.replace(n[0],r.toString()));return t}return t.push(a),t}function hC(a,t){return function(n,s,r){if(!n)return;let u;const c=n[0];if(t){const f=t.getFullTileRange(c);f&&(u=f.getHeight()-1)}return uC(a,c,n[1],n[2],u)}}function fC(a,t){const n=a.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=hC(a[r],t);return dC(s)}function dC(a){return a.length===1?a[0]:function(t,n,s){if(!t)return;const r=qR(t),u=jl(r,a.length);return a[u](t,n,s)}}class gC extends Cp{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const n=[256,256];this.tileGrid&&Ke(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=t.key||Lt(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,s,r,u){return Dt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:Wp(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,s){const r=this.getTileGridForProjection(s),u=this.getTilePixelRatio(n),c=Ke(r.getTileSize(t),this.tmpSize);return u==1?c:Nx(c,u,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){const s=n!==void 0?n:this.getProjection(),r=n!==void 0?this.getTileGridForProjection(s):this.tileGrid||this.getTileGridForProjection(s);return this.getWrapX()&&s.isGlobal()&&(t=eC(r,t,s)),WR(t,r)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class _C extends Si{constructor(t,n){super(t),this.tile=n}}const Lf={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class Id extends gC{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Id.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const n=t.target,s=Lt(n),r=n.getState();let u;r==ht.LOADING?(this.tileLoadingKeys_[s]=!0,u=Lf.TILELOADSTART):s in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[s],u=r==ht.ERROR?Lf.TILELOADERROR:r==ht.LOADED?Lf.TILELOADEND:void 0),u!=null&&this.dispatchEvent(new _C(u,n))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){const n=cC(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;const n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(fC(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,s){}}class mC extends Id{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:yC,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:Bp,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!of(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const n=this.getProjection();if(this.tileGrid&&(!n||of(n,t)))return this.tileGrid;const s=Lt(t);return s in this.tileGridForProjection||(this.tileGridForProjection[s]=Wp(t)),this.tileGridForProjection[s]}createTile_(t,n,s,r,u,c){const f=[t,n,s],d=this.getTileCoordForTileUrlFunction(f,u),_=d?this.tileUrlFunction(d,r,u):void 0,m=new this.tileClass(f,_!==void 0?ht.IDLE:ht.EMPTY,_!==void 0?_:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return m.key=c,m.addEventListener(pt.CHANGE,this.handleTileChange.bind(this)),m}getTile(t,n,s,r,u){const c=this.getProjection();if(!c||!u||of(c,u))return this.getTileInternal(t,n,s,r,c||u);const f=[t,n,s],d=this.getKey(),_=this.getTileGridForProjection(c),m=this.getTileGridForProjection(u),y=this.getTileCoordForTileUrlFunction(f,u),E=new qp(c,_,u,m,f,y,this.getTilePixelRatio(r),this.getGutter(),(S,x,b,C)=>this.getTileInternal(S,x,b,C,c),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return E.key=d,E}getTileInternal(t,n,s,r,u){const c=this.getKey();return this.createTile_(t,n,s,r,u,c)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,n){const s=qe(t);if(s){const r=Lt(s);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}}function yC(a,t){a.getImage().src=t}class pC extends mC{constructor(t){t=t||{};const n=t.projection!==void 0?t.projection:"EPSG:3857",s=t.tileGrid!==void 0?t.tileGrid:iC({extent:Ld(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const EC='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class vC extends pC{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[EC];const s=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",r=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:s,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:r,wrapX:t.wrapX,zDirection:t.zDirection})}}const SC=({airports:a})=>{const t=di.useRef(null),n=di.useRef(null),s=di.useRef(null),r=di.useRef(null),u=di.useRef(null),[c,f]=di.useState(null);return di.useEffect(()=>{if(!t.current||!n.current)return;const d=new Ix;r.current=d;const _=new tR({source:d,style:TC}),m=new UR({element:n.current,autoPan:!1,offset:[0,-15],positioning:"bottom-center"});u.current=m;const y=new zR({target:t.current,layers:[new tC({source:new vC}),_],view:new kn({center:Hy([-98.35,39.5]),zoom:4}),overlays:[m]});return y.on("pointermove",E=>{const S=y.getEventPixel(E.originalEvent),x=y.forEachFeatureAtPixel(S,b=>b,{layerFilter:b=>b===_});if(x){const b=x.get("airport");f(b),m.setPosition(E.coordinate),y.getTargetElement().style.cursor="pointer"}else f(null),m.setPosition(void 0),y.getTargetElement().style.cursor=""}),y.getViewport().addEventListener("mouseleave",()=>{f(null),m.setPosition(void 0),y.getTargetElement().style.cursor=""}),s.current=y,()=>{y.setTarget(void 0)}},[]),di.useEffect(()=>{if(!r.current)return;const d=r.current;d.clear(),a.forEach(_=>{const m=new Jf({geometry:new Nu(Hy([_.coordinates.longitude,_.coordinates.latitude])),airport:_});m.setId(_.id),d.addFeature(m)})},[a]),St.jsxs("div",{style:{position:"relative"},children:[St.jsx("div",{ref:t,style:{width:"100%",height:"500px",border:"1px solid #ccc",borderRadius:"4px"}}),St.jsx("div",{ref:n,style:{display:c?"block":"none",backgroundColor:"white",border:"2px solid #333",borderRadius:"8px",padding:"12px",minWidth:"280px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",fontSize:"14px",fontFamily:"Arial, sans-serif",zIndex:1e3,position:"absolute",pointerEvents:"none"},children:c&&St.jsxs("div",{children:[St.jsxs("div",{style:{fontWeight:"bold",fontSize:"16px",marginBottom:"8px",color:"#333",borderBottom:"1px solid #eee",paddingBottom:"4px"},children:[c.code," - ",c.name]}),St.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"6px"},children:[St.jsxs("div",{children:[St.jsx("strong",{children:"City:"})," ",c.city]}),St.jsxs("div",{children:[St.jsx("strong",{children:"Country:"})," ",c.country]}),St.jsxs("div",{children:[St.jsx("strong",{children:"Type:"})," ",St.jsx("span",{style:{backgroundColor:xC(c.type),color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"12px",textTransform:"capitalize"},children:c.type})]}),St.jsxs("div",{children:[St.jsx("strong",{children:"Runways:"})," ",c.runways]}),St.jsxs("div",{children:[St.jsx("strong",{children:"Elevation:"})," ",c.elevation.toLocaleString()," ft"]}),St.jsxs("div",{children:[St.jsx("strong",{children:"ID:"})," ",c.id]})]}),St.jsxs("div",{style:{marginTop:"8px",fontSize:"12px",color:"#666",borderTop:"1px solid #eee",paddingTop:"6px"},children:[St.jsx("div",{children:St.jsx("strong",{children:"Coordinates:"})}),St.jsxs("div",{style:{fontFamily:"monospace",fontSize:"11px"},children:["Lat: ",c.coordinates.latitude.toFixed(4),"",St.jsx("br",{}),"Lon: ",c.coordinates.longitude.toFixed(4),""]})]})]})})]})},xC=a=>{switch(a){case"international":return"#4CAF50";case"domestic":return"#2196F3";case"regional":return"#FF9800";case"private":return"#9C27B0";default:return"#757575"}},TC=a=>{const t=a.get("airport"),n=s=>{switch(s){case"international":return"#4CAF50";case"domestic":return"#2196F3";case"regional":return"#FF9800";case"private":return"#9C27B0";default:return"#757575"}};return new os({image:new Nr({radius:8,fill:new Bs({color:n(t.type)}),stroke:new ia({color:"#fff",width:2})}),text:new Xu({text:t.code,font:"12px sans-serif",fill:new Bs({color:"#000"}),stroke:new ia({color:"#fff",width:2}),offsetY:-20})})},RC=[{id:"1",code:"LAX",name:"Los Angeles International Airport",city:"Los Angeles",country:"USA",coordinates:{latitude:33.9425,longitude:-118.4081},elevation:125,runways:4,type:"international"},{id:"2",code:"SFO",name:"San Francisco International Airport",city:"San Francisco",country:"USA",coordinates:{latitude:37.7749,longitude:-122.4194},elevation:13,runways:4,type:"international"},{id:"3",code:"JFK",name:"John F. Kennedy International Airport",city:"New York",country:"USA",coordinates:{latitude:40.6413,longitude:-73.7781},elevation:13,runways:4,type:"international"},{id:"4",code:"ORD",name:"O'Hare International Airport",city:"Chicago",country:"USA",coordinates:{latitude:41.9742,longitude:-87.9073},elevation:672,runways:7,type:"international"},{id:"5",code:"ATL",name:"Hartsfield-Jackson Atlanta International Airport",city:"Atlanta",country:"USA",coordinates:{latitude:33.6407,longitude:-84.4277},elevation:1026,runways:5,type:"international"},{id:"6",code:"DEN",name:"Denver International Airport",city:"Denver",country:"USA",coordinates:{latitude:39.8561,longitude:-104.6737},elevation:5431,runways:6,type:"international"},{id:"7",code:"SEA",name:"Seattle-Tacoma International Airport",city:"Seattle",country:"USA",coordinates:{latitude:47.4502,longitude:-122.3088},elevation:131,runways:3,type:"international"},{id:"8",code:"PHX",name:"Phoenix Sky Harbor International Airport",city:"Phoenix",country:"USA",coordinates:{latitude:33.4484,longitude:-112.074},elevation:1135,runways:3,type:"international"},{id:"9",code:"MIA",name:"Miami International Airport",city:"Miami",country:"USA",coordinates:{latitude:25.7617,longitude:-80.1918},elevation:8,runways:4,type:"international"},{id:"10",code:"BUR",name:"Hollywood Burbank Airport",city:"Burbank",country:"USA",coordinates:{latitude:34.2007,longitude:-118.3585},elevation:778,runways:2,type:"domestic"},{id:"11",code:"SBA",name:"Santa Barbara Airport",city:"Santa Barbara",country:"USA",coordinates:{latitude:34.4262,longitude:-119.8403},elevation:13,runways:1,type:"regional"},{id:"12",code:"SMO",name:"Santa Monica Airport",city:"Santa Monica",country:"USA",coordinates:{latitude:34.0158,longitude:-118.4513},elevation:177,runways:1,type:"private"}];function CC(){return St.jsxs("div",{style:{padding:"20px"},children:[St.jsx("h1",{children:"Airport Dashboard"}),St.jsxs("div",{style:{display:"flex",gap:"20px"},children:[St.jsxs("div",{style:{flex:1},children:[St.jsx("h2",{children:"Map View"}),St.jsx(SC,{airports:RC})]}),St.jsxs("div",{style:{flex:1},children:[St.jsx("h2",{children:"Airport List"}),St.jsxs("div",{style:{border:"1px solid #ccc",padding:"20px",height:"500px"},children:[St.jsx("p",{children:"Airport table component goes here"}),St.jsx("p",{children:"Should show airports visible on map"}),St.jsx("p",{children:"Should sync selection with map"})]})]})]})]})}function bC(){return St.jsx(CC,{})}mv.createRoot(document.getElementById("root")).render(St.jsx(di.StrictMode,{children:St.jsx(bC,{})}));
